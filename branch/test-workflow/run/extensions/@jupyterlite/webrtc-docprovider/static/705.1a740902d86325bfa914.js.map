{"version":3,"file":"705.1a740902d86325bfa914.js?v=1a740902d86325bfa914","mappings":"4LACA,MAAM,QAAEA,GAAY,EAAQ,KAM5B,SAASC,EAAYC,EAAaC,GAChC,IAAIC,EAAc,EAClB,IAAK,MAAMC,KAAOF,EAChBC,GAAeC,EAAIC,OAErB,MAAMC,EAAS,IAAIL,EAAYE,GAC/B,IAAII,EAAS,EACb,IAAK,MAAMH,KAAOF,EAChBI,EAAOE,IAAIJ,EAAKG,GAChBA,GAAUH,EAAIC,OAEhB,OAAOC,EAGT,MAAMG,UAA2B,KAC/BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQH,EACbE,KAAKE,WAAa,EAClBF,KAAKG,WAAa,GAClBH,KAAKI,UAAW,EAChBJ,KAAKK,mBAAqB,GAC1BL,KAAKM,cAAe,EAGtBC,cAAa,MAAEC,EAAK,MAAEC,EAAK,MAAEC,EAAK,OAAElB,EAAM,UAAEmB,EAAS,UAAEC,IASrD,OARgBzB,EAAY0B,WAAY,CACtC,IAAIA,WAAW,IAAI3B,EAAQuB,GAAOK,iBAClC,IAAID,WAAW,IAAI3B,EAAQwB,GAAOI,iBAClC,IAAID,WAAW,IAAI3B,EAAQM,GAAQsB,iBACnC,IAAID,WAAW,IAAI3B,EAAQyB,GAAWG,iBACtC,IAAID,WAAW,IAAI3B,EAAQ0B,GAAWE,iBACtCN,IAKJO,aAAaC,GACX,MAAO,CACLP,MAAO,IAAIvB,EAAQ8B,EAAMC,MAAM,EAAG,IAAIC,WACtCR,MAAO,IAAIxB,EAAQ8B,EAAMC,MAAM,EAAG,KAAKC,WACvC1B,OAAQ,IAAIN,EAAQ8B,EAAMC,MAAM,GAAI,KAAKC,WACzCP,UAAW,IAAIzB,EAAQ8B,EAAMC,MAAM,GAAI,KAAKC,WAC5CN,UAAW,IAAI1B,EAAQ8B,EAAMC,MAAM,GAAI,KAAKC,WAC5CV,MAAOQ,EAAMC,MAAM,KAIvBE,YAAYH,EAAOI,GACjB,MAAMX,EAAQT,KAAKE,WACnBF,KAAKE,aACL,MAAMmB,EAAa,GACbV,EAAYK,EAAMxB,QAAUwB,EAAMM,WACxC,IAAIZ,EAAQ,EACZ,KAAOA,EAAQC,GACbU,EAAWE,KAAKP,EAAMC,MAAMP,EAAOU,EAAOV,IAC1CA,GAASU,EAEX,OAAOC,EAAWG,KAAI,CAAChB,EAAOE,IACrBV,KAAKO,aAAa,CACvBC,MAAAA,EACAC,MAAAA,EACAC,MAAAA,EACAC,UAAAA,EACAnB,OAAQ6B,EAAW7B,OACnBoB,UAAWJ,EAAMc,eAKvBG,kBAAkBC,GAChB,MAAM,KAAEC,GAASD,EACXE,EAAS5B,KAAKe,aAAaY,GAIjC,GAHIC,EAAOpB,iBAAiBqB,cAC1BD,EAAOpB,MAAQ,IAAIK,WAAWe,EAAOpB,QAEnCoB,EAAOhB,YAAcgB,EAAOjB,UAC9BX,KAAKuB,KAAKK,EAAOpB,WACZ,CACL,MAAMmB,EAAO3B,KAAKG,WAAW2B,QAAQC,GAAMA,EAAEtB,QAAUmB,EAAOnB,QAC9DkB,EAAKJ,KAAKK,GACV,MAAMI,EAAUL,EAAKH,KAAKO,GAAMA,EAAErB,QAClC,GAAI,IAAIuB,IAAID,GAASZ,OAASQ,EAAOpC,OAAQ,CAC3CmC,EAAKO,KAAKlC,KAAKmC,iBACf,MAAMC,EAASjD,EACb0B,WACAc,EAAKH,KAAKO,GAAMA,EAAEvB,SAEpBR,KAAKuB,KAAKa,GACVC,YAAW,KACTrC,KAAKG,WAAaH,KAAKG,WAAW2B,QAAQC,GAAMA,EAAEtB,QAAUmB,EAAOnB,UA7FlD,UAgGnBT,KAAKG,WAAWoB,KAAKK,IAK3BO,gBAAgBG,EAAGC,GACjB,OAAOD,EAAE5B,MAAQ6B,EAAE7B,MAAQ,GAAK,EAElC8B,KAAKhC,GACCA,aAAiBqB,cACnBrB,EAAQ,IAAIK,WAAWL,IAEzB,MAAM4B,EAASpC,KAAKmB,YAAYX,EA7GV,OA8GtBR,KAAKK,mBAAqBL,KAAKK,mBAAmBoC,OAAOL,GACrDpC,KAAKM,cAGTN,KAAK0C,oBAGPA,oBACE1C,KAAKM,cAAe,EACpB,IAAIqC,EAAU3C,KAAKK,mBAAmBuC,QACtC,KAAOD,GAAS,CACd,GACE3C,KAAK6C,SAASC,gBACd9C,KAAK6C,SAASC,eAzHa,MA0H3B,CACA9C,KAAKM,cAAe,EACpBN,KAAKK,mBAAmB0C,QAAQJ,GAChC,MAAMK,EAAW,KACfhD,KAAK6C,SAASI,oBAAoB,oBAAqBD,GACvDhD,KAAK0C,qBAGP,YADA1C,KAAK6C,SAASK,iBAAiB,oBAAqBF,GAGtD,IACEjD,MAAMyC,KAAKG,GACXA,EAAU3C,KAAKK,mBAAmBuC,QAClC,MAAOO,GACPpD,MAAMqD,UACNC,QAAQC,KAAKH,MAMrB,W,mBC3HC,SAAWI,GACV,IAAIC,EACFC,EAAI,YACJC,EAAID,WAAaE,QAAUA,OAC3BC,EAAIH,WAAa5C,YAAcA,WAC/BgD,EAAIJ,WAAa5B,aAAeA,YAChCiC,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1BC,EACEC,MAAMC,SACN,SAAUV,GACR,QAASA,GAAK,kBAAoBW,OAAOC,UAAUC,SAASC,KAAKd,IAErEjB,EAAI,WACN,SAASgC,EAAEP,EAAGO,EAAGC,GACf,IAAIC,EAAIF,EAAI,EAAI,EACdG,EAAIH,EAAI,EAAI,EACZI,EAAIJ,EAAI,EAAI,EACZK,EAAIL,EAAI,EAAI,EACZM,EAAIN,EAAI,EAAI,EACZO,EAAIP,EAAI,EAAI,EACZQ,EAAIR,EAAI/B,EAAIwC,EACZC,EAAIV,EAAIW,EAAIC,EACZC,EAAIC,EAAEjB,UACNkB,EAAI,KAAOtB,EACXuB,EAAI,IAAMD,EACZ,OACGF,EAAEI,YAAS,EACXJ,EAAEzF,OAAS,EACXyF,EAAEG,IAAK,EACPH,EAAEjE,SAAWsE,EACbL,EAAEf,SAAW,SAAUb,GACtB,IAAIC,EAAIxD,KAAKuF,OACX9B,EAAIzD,KAAKN,OACTgE,EAAI+B,EAAEjC,EAAGC,EAAIe,GACbZ,EAAI6B,EAAEjC,EAAGC,EAAIgB,GACbZ,EAAI,GACJC,GAAKS,GAAK,WAAab,EAGzB,IAFAI,IAAOJ,GAAKA,EAAKE,EAAItB,EAAIsB,GACzBL,EAAIA,GAAK,KACA,CACP,IAAIQ,EAAKL,EAAIH,EAAKjB,EAAIsB,EACtB,GACIF,EAAIgC,KAAKC,MAAMjC,EAAIH,GACpBK,EAAI8B,KAAKC,MAAM5B,EAAIR,GACnBM,GAAKE,EAAIR,GAAGa,SAASb,GAAKM,GAC1BH,IAAME,EAEP,MAGJ,OADAE,IAAMD,EAAI,IAAMA,GACTA,GAERsB,EAAES,OAASJ,EACXL,EAAEU,QAAUC,EACbpC,IAAMyB,EAAEY,SAAWC,GACnBpC,IAAMuB,EAAErE,cAAgBmF,GACvBb,EAAEC,GAAK,SAAU9B,GAChB,SAAUA,IAAMA,EAAE+B,KAEnB/B,EAAEQ,GAAKqB,EACRA,EAEF,SAASA,EAAE7B,EAAGQ,EAAGO,EAAGwB,GAClB,OAAO9F,gBAAgBoF,EACnB,SAAW7B,EAAGQ,EAAGO,EAAGwB,EAAGE,GAIrB,GAHApC,GACEC,IACCE,aAAaF,IAAME,EAAI,IAAIH,EAAEG,IAAK+B,aAAajC,IAAMiC,EAAI,IAAIlC,EAAEkC,KAC5D/B,GAAKO,GAAKwB,GAAKtC,EAArB,CACA,IAAK0C,EAAEnC,EAAGO,GAAI,CACZ,IAAI2B,EAAIzC,GAAKQ,MACZgC,EAAI1B,EAAKwB,EAAI/B,EAAKO,EAAI,EAAKP,EAAIP,IAAME,EAAIA,EAAEyC,MAAM,GAAK,IAAIF,EAAE,GAEzD1C,EAAEgC,OAASxB,EAAKR,EAAE7D,OAAS4E,GAAK,EAAIb,WAAaqC,IACvD,iBAAmBA,EACf,SAAWvC,EAAGC,EAAGC,EAAGC,GAClB,IAAIE,EAAI,EACNC,EAAIJ,EAAEjE,OACNsE,EAAI,EACJC,EAAI,EACN,MAAQN,EAAE,IAAMG,IAEhB,IADA,IAAIU,EAAIV,EACDA,EAAIC,GAAK,CACd,IAAIiC,EAAIM,SAAS3C,EAAEG,KAAMF,GACzB,KAAMoC,GAAK,GAAI,MACd/B,EAAIA,EAAIL,EAAIoC,EAAKhC,EAAIA,EAAIJ,EAAIgC,KAAKC,MAAM5B,EAAIzB,GAAMyB,GAAKzB,EAE1DgC,IAAOR,GAAKA,EAAIC,EAAKA,EAAIzB,EAAIyB,EAAKD,KAClCuC,EAAE9C,EAAGC,EAAIgB,EAAGV,GAAIuC,EAAE9C,EAAGC,EAAIiB,EAAGV,GAb9B,CAcGA,EAAGO,EAAGwB,EAAGE,GAAK,IACjBE,EAAEJ,EAAGE,GACLM,EAAEvC,EAAGO,EAAGwB,EAAGE,GACX,iBAAmBA,GAClBK,EAAEtC,EAAGO,EAAIE,EAAGsB,GAAIO,EAAEtC,EAAGO,EAAIG,EAAGuB,IAC7BF,EAAI,EACJhB,EAAEf,EAAGO,EAAGwB,GACRA,EAAI,EACJd,EAAEjB,EAAGO,EAAGwB,GACRQ,EAAEvC,EAAGO,EAAGR,EAAG,SA9BuBP,EAAEgC,OAASxD,EAAE+B,EAAG,GAJxD,CAmCG9D,KAAMuD,EAAGQ,EAAGO,EAAGwB,GAClB,IAAIV,EAAE7B,EAAGQ,EAAGO,EAAGwB,GAErB,SAASN,IACP,IAAIjC,EAAIvD,KAAKuF,OACX/B,EAAIxD,KAAKN,OACT+D,EAAIgC,EAAElC,EAAGC,EAAIgB,GACbd,EAAI+B,EAAElC,EAAGC,EAAIiB,GACf,OAAOF,IAAMd,GAAK,GAAIA,EAAIA,EAAInB,EAAIoB,EAAIA,EAExC,SAAS2C,EAAE9C,EAAGC,EAAGC,GACdF,EAAEC,EAAIqB,GAAK,IAAMpB,EACfA,IAAM,EACNF,EAAEC,EAAIoB,GAAK,IAAMnB,EACjBA,IAAM,EACNF,EAAEC,EAAImB,GAAK,IAAMlB,EACjBA,IAAM,EACNF,EAAEC,EAAIkB,GAAK,IAAMjB,EAEtB,SAASgC,EAAElC,EAAGC,GACZ,OAAO,SAAWD,EAAEC,EAAIkB,IAAMnB,EAAEC,EAAImB,IAAM,KAAOpB,EAAEC,EAAIoB,IAAM,GAAKrB,EAAEC,EAAIqB,IAG5E,SAASiB,EAAEvC,GACT,IAAIE,EAAIzD,KAAKuF,OACX7B,EAAI1D,KAAKN,OACX,OACG8D,EAAI,MAAO,IAAOD,GAAKQ,EAAEN,GAAM,IAAMA,EAAEjE,OAASiE,EAAIA,EAAExC,MAAMyC,EAAGA,EAAI,GAAM3B,EAAE0B,EAAGC,GAGnF,SAASsC,EAAEzC,GACT,IAAIE,EAAIzD,KAAKuF,OACX3B,EAAI5D,KAAKN,OACX,OACG8D,EAAIE,GACL,IAAOH,GAAKG,EAAE6C,SAAS9C,GACnB,IAAMA,EAAEjE,OACNiE,EACAA,EAAExC,MAAM2C,EAAGA,EAAI,GACjBF,EAAE8C,KAAKP,EAAE5B,KAAKrE,KAAMuD,IAG5B,SAAS0C,EAAE1C,GACT,IAAIE,EAAIzD,KAAKuF,OACX7B,EAAI1D,KAAKN,OACToE,EAAIL,EAAE8B,OACR,GAAM/B,EAAII,GAAI,IAAOL,IAAME,EAAE/D,QAAUoE,aAAaD,EAClD,OAAO,IAAMC,EAAExC,WAAawC,EAAIA,EAAE7C,MAAMyC,EAAGA,EAAI,GACjD,IAAIK,EAAI,IAAIH,EAAE,GACd,OAAO0C,EAAEvC,EAAG,EAAGN,EAAGC,GAAIK,EAAEwB,OAE1B,SAASW,EAAE3C,EAAGC,GACZ,IAAIC,EAAIF,GAAKA,EAAE/D,OACf,OAAQgE,GAAK,EAAIC,GAAKD,EAAI,GAAKC,GAAK,iBAAmBF,EAAEC,GAE3D,SAAS8C,EAAE/C,EAAGC,EAAGC,EAAGC,GACjBF,GAAK,EAAKE,GAAK,EAChB,IAAK,IAAIE,EAAI,EAAGA,EAAI,EAAGA,IAAKL,EAAEC,KAAO,IAAMC,EAAEC,KAE/C,SAAS3B,EAAEwB,EAAGC,GACZ,OAAOQ,MAAMG,UAAUlD,MAAMoD,KAAKd,EAAGC,EAAGA,EAAI,GAE9C,SAASjB,EAAEgB,EAAGC,EAAGC,GACf,IAAK,IAAIC,EAAIF,EAAI,EAAGE,EAAIF,GAAMD,IAAIG,GAAK,IAAMD,EAAKA,GAAK,IAEzD,SAASwB,EAAE1B,EAAGC,EAAGC,GACf,IAAIC,EAAIF,EAAI,EACZ,IAAKC,IAAKC,EAAIF,GAAMD,IAAIG,GAAM,KAAOD,EAAK,IAAOA,GAAK,IAExD,SAASsB,EAAExB,EAAGC,EAAGC,GACf,IAAK,IAAIC,EAAIF,EAAI,EAAGA,EAAIE,GAAMH,EAAEC,KAAO,IAAMC,EAAKA,GAAK,IAEzD,SAASyB,EAAE3B,EAAGC,EAAGC,GACf,IAAIC,EAAIF,EAAI,EACZ,IAAKC,IAAKD,EAAIE,GAAMH,EAAEC,KAAQ,KAAOC,EAAK,IAAOA,GAAK,IAE5Ca,EAAE,YAAY,GAAI,GACjBA,EAAE,WAAW,GAAI,GAChBA,EAAE,YAAY,GAAI,GACnBA,EAAE,WAAW,GAAI,GAlL/B,CAoL+B,iBAAmBmC,EAAQC,SACrDD,EACAzG,MAAQ","sources":["webpack://@jupyterlite/webrtc-docprovider/./vendor/SimplePeerExtended.js","webpack://@jupyterlite/webrtc-docprovider/./vendor/int64-buffer.min.js"],"sourcesContent":["import Peer from 'simple-peer/simplepeer.min.js';\nconst { Int64BE } = require('./int64-buffer.min.js');\n\nexport const CHUNK_SIZE = 1024 * 16 - 512; // 16KB - data header\nexport const TX_SEND_TTL = 1000 * 30; // 30 seconds\nexport const MAX_BUFFERED_AMOUNT = 64 * 1024; // simple peer value\n\nfunction concatenate(Constructor, arrays) {\n  let totalLength = 0;\n  for (const arr of arrays) {\n    totalLength += arr.length;\n  }\n  const result = new Constructor(totalLength);\n  let offset = 0;\n  for (const arr of arrays) {\n    result.set(arr, offset);\n    offset += arr.length;\n  }\n  return result;\n}\n\nclass SimplePeerExtended extends Peer {\n  constructor(opts) {\n    super(opts);\n    this._opts = opts;\n    this._txOrdinal = 0;\n    this._rxPackets = [];\n    this._txPause = false;\n    this.webRTCMessageQueue = [];\n    this.webRTCPaused = false;\n  }\n\n  encodePacket({ chunk, txOrd, index, length, totalSize, chunkSize }) {\n    const encoded = concatenate(Uint8Array, [\n      new Uint8Array(new Int64BE(txOrd).toArrayBuffer()), // 8 bytes\n      new Uint8Array(new Int64BE(index).toArrayBuffer()), // 8 bytes\n      new Uint8Array(new Int64BE(length).toArrayBuffer()), // 8 bytes\n      new Uint8Array(new Int64BE(totalSize).toArrayBuffer()), // 8 bytes\n      new Uint8Array(new Int64BE(chunkSize).toArrayBuffer()), // 8 bytes\n      chunk, // CHUNK_SIZE\n    ]);\n    return encoded;\n  }\n\n  decodePacket(array) {\n    return {\n      txOrd: new Int64BE(array.slice(0, 8)).toNumber(),\n      index: new Int64BE(array.slice(8, 16)).toNumber(),\n      length: new Int64BE(array.slice(16, 24)).toNumber(),\n      totalSize: new Int64BE(array.slice(24, 32)).toNumber(),\n      chunkSize: new Int64BE(array.slice(32, 40)).toNumber(),\n      chunk: array.slice(40),\n    };\n  }\n\n  packetArray(array, size) {\n    const txOrd = this._txOrdinal;\n    this._txOrdinal++;\n    const chunkedArr = [];\n    const totalSize = array.length || array.byteLength;\n    let index = 0;\n    while (index < totalSize) {\n      chunkedArr.push(array.slice(index, size + index));\n      index += size;\n    }\n    return chunkedArr.map((chunk, index) => {\n      return this.encodePacket({\n        chunk,\n        txOrd,\n        index,\n        totalSize,\n        length: chunkedArr.length,\n        chunkSize: chunk.byteLength,\n      });\n    });\n  }\n\n  _onChannelMessage(event) {\n    const { data } = event;\n    const packet = this.decodePacket(data);\n    if (packet.chunk instanceof ArrayBuffer) {\n      packet.chunk = new Uint8Array(packet.chunk);\n    }\n    if (packet.chunkSize === packet.totalSize) {\n      this.push(packet.chunk);\n    } else {\n      const data = this._rxPackets.filter((p) => p.txOrd === packet.txOrd);\n      data.push(packet);\n      const indices = data.map((p) => p.index);\n      if (new Set(indices).size === packet.length) {\n        data.sort(this.sortPacketArray);\n        const chunks = concatenate(\n          Uint8Array,\n          data.map((p) => p.chunk)\n        );\n        this.push(chunks);\n        setTimeout(() => {\n          this._rxPackets = this._rxPackets.filter((p) => p.txOrd !== packet.txOrd);\n        }, TX_SEND_TTL);\n      } else {\n        this._rxPackets.push(packet);\n      }\n    }\n  }\n\n  sortPacketArray(a, b) {\n    return a.index > b.index ? 1 : -1;\n  }\n  send(chunk) {\n    if (chunk instanceof ArrayBuffer) {\n      chunk = new Uint8Array(chunk);\n    }\n    const chunks = this.packetArray(chunk, CHUNK_SIZE);\n    this.webRTCMessageQueue = this.webRTCMessageQueue.concat(chunks);\n    if (this.webRTCPaused) {\n      return;\n    }\n    this.sendMessageQueued();\n  }\n\n  sendMessageQueued() {\n    this.webRTCPaused = false;\n    let message = this.webRTCMessageQueue.shift();\n    while (message) {\n      if (\n        this._channel.bufferedAmount &&\n        this._channel.bufferedAmount > MAX_BUFFERED_AMOUNT\n      ) {\n        this.webRTCPaused = true;\n        this.webRTCMessageQueue.unshift(message);\n        const listener = () => {\n          this._channel.removeEventListener('bufferedamountlow', listener);\n          this.sendMessageQueued();\n        };\n        this._channel.addEventListener('bufferedamountlow', listener);\n        return;\n      }\n      try {\n        super.send(message);\n        message = this.webRTCMessageQueue.shift();\n      } catch (error) {\n        super.destroy();\n        console.warn(error);\n      }\n    }\n  }\n}\n\nexport default SimplePeerExtended;\n","/*\nhttps://github.com/kawanet/int64-buffer\nThe MIT License (MIT)\n\nCopyright (c) 2015-2020 Yusuke Kawasaki\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\nvar Uint64BE, Int64BE, Uint64LE, Int64LE;\n!(function (t) {\n  var r,\n    f = 'undefined',\n    n = f !== typeof Buffer && Buffer,\n    e = f !== typeof Uint8Array && Uint8Array,\n    o = f !== typeof ArrayBuffer && ArrayBuffer,\n    i = [0, 0, 0, 0, 0, 0, 0, 0],\n    u =\n      Array.isArray ||\n      function (t) {\n        return !!t && '[object Array]' == Object.prototype.toString.call(t);\n      },\n    a = 4294967296;\n  function s(u, s, A) {\n    var U = s ? 0 : 4,\n      I = s ? 4 : 0,\n      L = s ? 0 : 3,\n      d = s ? 1 : 2,\n      w = s ? 2 : 1,\n      m = s ? 3 : 0,\n      S = s ? b : E,\n      j = s ? B : g,\n      x = k.prototype,\n      M = 'is' + u,\n      N = '_' + M;\n    return (\n      (x.buffer = void 0),\n      (x.offset = 0),\n      (x[N] = !0),\n      (x.toNumber = O),\n      (x.toString = function (t) {\n        var r = this.buffer,\n          f = this.offset,\n          n = _(r, f + U),\n          e = _(r, f + I),\n          o = '',\n          i = !A && 2147483648 & n;\n        i && ((n = ~n), (e = a - e));\n        t = t || 10;\n        for (;;) {\n          var u = (n % t) * a + e;\n          if (\n            ((n = Math.floor(n / t)),\n            (e = Math.floor(u / t)),\n            (o = (u % t).toString(t) + o),\n            !n && !e)\n          )\n            break;\n        }\n        i && (o = '-' + o);\n        return o;\n      }),\n      (x.toJSON = O),\n      (x.toArray = c),\n      n && (x.toBuffer = y),\n      e && (x.toArrayBuffer = h),\n      (k[M] = function (t) {\n        return !(!t || !t[N]);\n      }),\n      (t[u] = k),\n      k\n    );\n    function k(t, u, s, c) {\n      return this instanceof k\n        ? (function (t, u, s, c, y) {\n            e &&\n              o &&\n              (u instanceof o && (u = new e(u)), c instanceof o && (c = new e(c)));\n            if (!(u || s || c || r)) return void (t.buffer = p(i, 0));\n            if (!v(u, s)) {\n              var h = r || Array;\n              (y = s), (c = u), (s = 0), (u = r === n ? n.alloc(8) : new h(8));\n            }\n            if (((t.buffer = u), (t.offset = s |= 0), f === typeof c)) return;\n            'string' == typeof c\n              ? (function (t, r, f, n) {\n                  var e = 0,\n                    o = f.length,\n                    i = 0,\n                    u = 0;\n                  '-' === f[0] && e++;\n                  var s = e;\n                  for (; e < o; ) {\n                    var c = parseInt(f[e++], n);\n                    if (!(c >= 0)) break;\n                    (u = u * n + c), (i = i * n + Math.floor(u / a)), (u %= a);\n                  }\n                  s && ((i = ~i), u ? (u = a - u) : i++);\n                  J(t, r + U, i), J(t, r + I, u);\n                })(u, s, c, y || 10)\n              : v(c, y)\n              ? l(u, s, c, y)\n              : 'number' == typeof y\n              ? (J(u, s + U, c), J(u, s + I, y))\n              : c > 0\n              ? S(u, s, c)\n              : c < 0\n              ? j(u, s, c)\n              : l(u, s, i, 0);\n          })(this, t, u, s, c)\n        : new k(t, u, s, c);\n    }\n    function O() {\n      var t = this.buffer,\n        r = this.offset,\n        f = _(t, r + U),\n        n = _(t, r + I);\n      return A || (f |= 0), f ? f * a + n : n;\n    }\n    function J(t, r, f) {\n      (t[r + m] = 255 & f),\n        (f >>= 8),\n        (t[r + w] = 255 & f),\n        (f >>= 8),\n        (t[r + d] = 255 & f),\n        (f >>= 8),\n        (t[r + L] = 255 & f);\n    }\n    function _(t, r) {\n      return 16777216 * t[r + L] + (t[r + d] << 16) + (t[r + w] << 8) + t[r + m];\n    }\n  }\n  function c(t) {\n    var f = this.buffer,\n      n = this.offset;\n    return (\n      (r = null), !1 !== t && u(f) ? (8 === f.length ? f : f.slice(n, n + 8)) : p(f, n)\n    );\n  }\n  function y(t) {\n    var f = this.buffer,\n      e = this.offset;\n    return (\n      (r = n),\n      !1 !== t && n.isBuffer(f)\n        ? 8 === f.length\n          ? f\n          : f.slice(e, e + 8)\n        : n.from(h.call(this, t))\n    );\n  }\n  function h(t) {\n    var f = this.buffer,\n      n = this.offset,\n      i = f.buffer;\n    if (((r = e), !1 !== t && !f.offset && i instanceof o))\n      return 8 === i.byteLength ? i : i.slice(n, n + 8);\n    var u = new e(8);\n    return l(u, 0, f, n), u.buffer;\n  }\n  function v(t, r) {\n    var f = t && t.length;\n    return (r |= 0), f && r + 8 <= f && 'string' != typeof t[r];\n  }\n  function l(t, r, f, n) {\n    (r |= 0), (n |= 0);\n    for (var e = 0; e < 8; e++) t[r++] = 255 & f[n++];\n  }\n  function p(t, r) {\n    return Array.prototype.slice.call(t, r, r + 8);\n  }\n  function b(t, r, f) {\n    for (var n = r + 8; n > r; ) (t[--n] = 255 & f), (f /= 256);\n  }\n  function B(t, r, f) {\n    var n = r + 8;\n    for (f++; n > r; ) (t[--n] = (255 & -f) ^ 255), (f /= 256);\n  }\n  function E(t, r, f) {\n    for (var n = r + 8; r < n; ) (t[r++] = 255 & f), (f /= 256);\n  }\n  function g(t, r, f) {\n    var n = r + 8;\n    for (f++; r < n; ) (t[r++] = (255 & -f) ^ 255), (f /= 256);\n  }\n  (Uint64BE = s('Uint64BE', !0, !0)),\n    (Int64BE = s('Int64BE', !0, !1)),\n    (Uint64LE = s('Uint64LE', !1, !0)),\n    (Int64LE = s('Int64LE', !1, !1));\n})(\n  'object' == typeof exports && 'string' != typeof exports.nodeName\n    ? exports\n    : this || {}\n);\n"],"names":["Int64BE","concatenate","Constructor","arrays","totalLength","arr","length","result","offset","set","SimplePeerExtended","constructor","opts","super","this","_opts","_txOrdinal","_rxPackets","_txPause","webRTCMessageQueue","webRTCPaused","encodePacket","chunk","txOrd","index","totalSize","chunkSize","Uint8Array","toArrayBuffer","decodePacket","array","slice","toNumber","packetArray","size","chunkedArr","byteLength","push","map","_onChannelMessage","event","data","packet","ArrayBuffer","filter","p","indices","Set","sort","sortPacketArray","chunks","setTimeout","a","b","send","concat","sendMessageQueued","message","shift","_channel","bufferedAmount","unshift","listener","removeEventListener","addEventListener","error","destroy","console","warn","t","r","f","n","Buffer","e","o","i","u","Array","isArray","Object","prototype","toString","call","s","A","U","I","L","d","w","m","S","E","j","B","g","x","k","M","N","buffer","O","_","Math","floor","toJSON","toArray","c","toBuffer","y","h","v","alloc","parseInt","J","l","isBuffer","from","exports","nodeName"],"sourceRoot":""}