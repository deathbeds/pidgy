{"version":3,"file":"631.8c3dffc98bfad3c9227f.js?v=8c3dffc98bfad3c9227f","mappings":"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","sources":["webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-dispatch/src/dispatch.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-selection/src/pointer.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-selection/src/sourceEvent.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-drag/src/noevent.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-drag/src/nodrag.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-drag/src/constant.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-drag/src/event.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/d3-drag/src/drag.js"],"sourcesContent":["var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n"],"names":["noop","value","dispatch","t","i","n","arguments","length","_","test","Error","Dispatch","this","parseTypenames","typenames","types","trim","split","map","name","indexOf","slice","hasOwnProperty","type","get","c","set","callback","concat","push","prototype","constructor","on","typename","T","copy","call","that","args","Array","apply","event","node","sourceEvent","undefined","currentTarget","svg","ownerSVGElement","createSVGPoint","point","x","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","preventDefault","view","root","document","documentElement","selection","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","DragEvent","subject","target","identifier","active","dx","dy","Object","defineProperties","enumerable","configurable","defaultFilter","ctrlKey","button","defaultContainer","parentNode","defaultSubject","d","defaultTouchable","navigator","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","filter","container","touchable","gestures","listeners","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","mouse","touches","changedTouches","clearTimeout","touch","s","p","pointer","p0","constant","clickDistance","Math","sqrt"],"sourceRoot":""}