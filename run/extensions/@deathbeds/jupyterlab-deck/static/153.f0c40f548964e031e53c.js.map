{"version":3,"file":"153.f0c40f548964e031e53c.js?v=f0c40f548964e031e53c","mappings":"qLAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,2NAA4N,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mCAAmC,MAAQ,GAAG,SAAW,kGAAkG,eAAiB,CAAC,4NAA4N,WAAa,MAEtrB,S,+DCJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,gyFAAiyF,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gCAAgC,MAAQ,GAAG,SAAW,g6BAAg6B,eAAiB,CAAC,iyFAAiyF,WAAa,MAE3nN,S,+ICIIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,8BAA+B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+BAA+B,MAAQ,GAAG,SAAW,uBAAuB,eAAiB,CAAC,mPAAmP,WAAa,MAEjc,S,8DCpBIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,m+GAAo+G,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,iCAAiC,MAAQ,GAAG,SAAW,2/BAA2/B,eAAiB,CAAC,o+GAAo+G,WAAa,MAE7lQ,S,+DCJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,+kBAAglB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kCAAkC,MAAQ,GAAG,SAAW,oPAAoP,eAAiB,CAAC,glBAAglB,WAAa,MAE/iD,S,+DCJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,m6DAAo6D,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kCAAkC,MAAQ,GAAG,SAAW,+tBAA+tB,eAAiB,CAAC,o6DAAo6D,WAAa,MAElsJ,S,+DCJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,k9CAAm9C,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gCAAgC,MAAQ,GAAG,SAAW,2lBAA2lB,eAAiB,CAAC,m9CAAm9C,WAAa,MAE1pH,S,+DCJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,oiDAAqiD,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+BAA+B,MAAQ,GAAG,SAAW,kZAAkZ,eAAiB,CAAC,qiDAAqiD,WAAa,MAEpnH,S,+DCJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,urBAAwrB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mCAAmC,MAAQ,GAAG,SAAW,oNAAoN,eAAiB,CAAC,wrBAAwrB,WAAa,MAEhuD,S,8CCPA,MCAA,0rB,aCsBA,MAAME,EAAY,UAAmB,UAAU,eAExC,IAAUC,GAAjB,SAAiBA,GACF,EAAAC,UAAY,IAAI,EAAAC,QAAQ,CAAEC,KAAM,aAAcC,OAAQ,IACtD,EAAAC,SAAW,IAAI,EAAAH,QAAQ,CAAEC,KAAM,YAAaC,OAAQL,IACpD,EAAAO,UAAY,IAAI,EAAAJ,QAAQ,CACnCC,KAAM,UACNC,OAAQ,EAAAG,qBAAA,eAAoC,UAAU,qBAE3C,EAAAC,WAAa,EAAAD,qBAEb,EAAAE,eAAiB,IAAI,EAAAP,QAAQ,CACxCC,KAAM,qBACNC,OCnCJ,mXDqCe,EAAAM,cAAgB,IAAI,EAAAR,QAAQ,CACvCC,KAAM,oBACNC,OEvCJ,2lBF0Ce,EAAAO,UAAiE,CAC5EC,MAAO,IAAI,EAAAV,QAAQ,CAAEC,KAAM,mBAAoBC,OG3CnD,0RH4CIS,SAAU,IAAI,EAAAX,QAAQ,CAAEC,KAAM,sBAAuBC,OI5CzD,iTJ6CIU,KAAM,IAAI,EAAAZ,QAAQ,CAAEC,KAAM,kBAAmBC,OK7CjD,oQL8CIW,SAAU,IAAI,EAAAb,QAAQ,CAAEC,KAAM,sBAAuBC,OM9CzD,qRN+CIY,KAAM,IAAI,EAAAd,QAAQ,CAAEC,KAAM,kBAAmBC,OO/CjD,2VPgDIa,MAAO,IAAI,EAAAf,QAAQ,CAAEC,KAAM,kBAAmBC,OFhDlD,gpBEkDe,EAAAc,MAA+C,CAC1DC,KAAM,IAAI,EAAAjB,QAAQ,CAAEC,KAAM,kBAAmBC,OQnDjD,mORoDIgB,MAAO,IAAI,EAAAlB,QAAQ,CAAEC,KAAM,mBAAoBC,OSpDnD,qVTqDIQ,MAAO,IAAI,EAAAV,QAAQ,CAAEC,KAAM,mBAAoBC,OUrDnD,oTVsDIW,SAAU,IAAI,EAAAb,QAAQ,CAAEC,KAAM,sBAAuBC,OWtDzD,wSXuDIU,KAAM,IAAI,EAAAZ,QAAQ,CAAEC,KAAM,kBAAmBC,OYvDjD,mVZyDe,EAAAiB,KAAO,IAAI,EAAAnB,QAAQ,CAAEC,KAAM,YAAaC,OazDvD,mXb0De,EAAAkB,OAAS,IAAI,EAAApB,QAAQ,CAAEC,KAAM,eAAgBC,Oc1D5D,6Zd2De,EAAAmB,QAAU,IAAI,EAAArB,QAAQ,CAAEC,KAAM,eAAgBC,Oe3D7D,ycf4DC,CApCD,CAAiBJ,IAAAA,EAAK,I,yLgBNf,MAAMwB,UAAoB,EAAAC,aAC/BC,YAAYC,GACVC,MAAM,IAAIJ,EAAYK,MAAMF,IAmH9B,KAAAG,kBAAoB,CAClBC,EACAC,KAEA,IAAI,GAAEC,GAAOC,KAAKC,MAAMC,QACpBC,EAA4B,MAAbN,EAAoB,OAASA,EAC5CO,EAAO,cAAgBD,GACvBE,EAAQN,EAAGI,GACXG,EAASN,KAAKO,WAChBH,EACAC,GACA,IAAML,KAAKC,MAAMC,QAAQM,aAAaX,IACtC,GACA,CAAC,2BAAOY,IAAI,SAASJ,KAEvB,OACE,wBAAII,IAAKZ,EAAWa,UAAWZ,IAAqBD,EAAY,YAAa,IAC1ES,EAEJ,EAGH,KAAAK,mBAAqB,CACnBC,EACAC,KAEA,IAAI,GAAEd,GAAOC,KAAKC,MAAMC,QACpBY,EAA8B,MAAdF,EAAqB,OAASA,EAC9CR,EAAO,UAAYU,GACnBT,EAAQN,EAAGe,GACXR,EAASN,KAAKO,WAChBH,EACAC,GACA,IAAML,KAAKC,MAAMC,QAAQa,cAAcH,IACvC,GACA,CAAC,2BAAOH,IAAI,SAASJ,KAEvB,OACE,wBAAIK,UAAWG,IAAsBD,EAAa,YAAa,IAAKN,EACrE,EAGH,KAAAU,WAAa,CACXC,EACAC,KAEA,MAAMC,EAAS7B,EAAY8B,cAAcH,IACnC,OAAEI,EAAM,UAAEX,EAAS,KAAEN,GAASe,EAEpC,IAAIG,EAAQJ,EAAUA,EAAOD,GAAgB,KAEzCM,EAA+B,KACtB,MAATD,IACED,IACFC,EAAQA,EAAME,QAAQH,EAAQ,KAEhCC,EAAQG,WAAWH,GACnBC,EACE,2BACEG,KAAK,WACLzD,KAAM,GAAGgD,YACTU,SAAO,EACPC,SAAU5B,KAAK6B,kBAKrB,IAAIC,EAAY,CAAER,MAAgB,MAATA,EAAgBH,EAAOY,aAAeT,GAC3DU,EAA0B,MAATV,EAAgBZ,EAAY,GAAGA,KAAa,cAEjE,OACE,yBAAKA,UAAW,GAAG,eAAcsB,IAAkBC,MAAOhB,EAAMR,IAAKQ,GAClEM,EAAW,CAACA,GAAY,GACzB,2BACEtD,KAAMgD,EACNS,KAAK,WACDP,EAAOe,SACPJ,EACJF,SAAU5B,KAAK6B,iBAEjB,+BACE,kBAACzB,EAAK+B,MAAK,CAACC,MAAO,KACnB,8BAAOnB,IAGZ,EAGH,KAAAY,eAAkBQ,IAChB,MAAM,MAAEf,EAAK,KAAErD,EAAI,QAAE0D,GAAYU,EAAMC,cACvC,GAAIrE,EAAKsE,SAAS,YACXZ,GACH3B,KAAKC,MAAMuC,cAAcvE,EAAKuD,QAAQ,WAAY,IAAK,UAEpD,CACL,MACMH,EADS/B,EAAY8B,cAAcnD,GACnBoD,QAAU,GAChCrB,KAAKC,MAAMuC,cAAcvE,EAAM,GAAGqD,IAAQD,I,GAnN5CrB,KAAKyC,SAAS,kBACdC,SAASC,KAAKC,YAAY5C,KAAK6C,KACjC,CAEAC,UACE9C,KAAKC,MAAM6C,UACXpD,MAAMoD,UACNJ,SAASC,KAAKI,YAAY/C,KAAK6C,KACjC,CAEUG,SACR,OAAO,6BAAMhD,KAAKiD,OACpB,CAEAA,OACE,MAAM,MAAEhD,GAAUD,MACZ,GAAED,GAAOE,EAAMC,SACf,aAAEgD,EAAY,SAAEC,GAAalD,EAEnC,IAAKiD,EAAaE,SAAWF,EAAarD,YAAcqD,EAAatC,WACnE,MAAO,GAGT,IAAKuC,EACH,MAAO,CACLnD,KAAKO,WACH,EAAA8C,aACAtD,EAAG,sBACH,IAAOE,EAAMkD,UAAW,KAK9B,IAAIG,EAAuB,CACzBtD,KAAKO,WACH,EAAAgD,cACAxD,EAAG,sBACH,IAAOE,EAAMkD,UAAW,KAI5B,MAAM,QAAEK,GAAYxD,KAAKC,MAAMC,QAe/B,GAbIgD,EAAaE,QACfE,EAAM7F,KACJuC,KAAKO,WACHiD,EAAU,kBAAsB,mBACtBzD,EAAVyD,EAAa,cAAoB,gBACjC,KACE,IAAI,QAAEtD,GAAYF,KAAKC,MACvBC,EAAQsD,QAAUtD,EAAQuD,cAAgBvD,EAAQwD,aAAa,KAMnER,EAAarD,UAAW,CAC1B,MAAM,iBAAEC,GAAqBG,EAC7B,IACIJ,EADA8D,EAA4B,GAE5BC,EAAiC,KACrC,IAAK/D,KAAa,KAAa,CAC7B,IAAIgE,EAAO7D,KAAKJ,kBAAkBC,EAAWC,GACzCA,IAAqBD,EACvB+D,EAAaC,EAEbF,EAAWlG,KAAKoG,E,CAGhBD,GACFD,EAAWlG,KAAKmG,GAElBN,EAAM7F,KACJ,wBAAIgD,IAAI,aAAaC,UAAW,GAAG,iBAAgB,kBAChDiD,G,CAKP,GAAIT,EAAatC,WAAY,CAC3B,MAAM,kBAAEC,GAAsBZ,EAC9B,IACIW,EADAkD,EAA6B,GAE7BF,EAAiC,KACrC,IAAKhD,IAAc,IAAI,KAAc,MAAO,CAC1C,IAAIiD,EAAO7D,KAAKW,mBAAmBC,EAAYC,GAC3CA,IAAsBD,EACxBgD,EAAaC,EAEbC,EAAYrG,KAAKoG,E,CAGjBD,GACFE,EAAYrG,KAAKmG,GAEnBN,EAAM7F,KACJ,wBAAIgD,IAAI,QAAQC,UAAW,GAAG,iBAAgB,mBAC3CoD,G,CAKP,GAAIZ,EAAaa,UAAW,CAC1B,IAAI,kBAAEC,GAAsB/D,EAC5BqD,EAAM7F,KACJuC,KAAKgB,WAAW,UAAWgD,GAC3BhE,KAAKgB,WAAW,OAAQgD,GACxBhE,KAAKgB,WAAW,UAAWgD,G,CAI/B,OAAOV,CACT,CAuGA/C,WACEH,EACA6B,EACAgC,EACAvD,EAAoB,GACpBwD,EAA0B,IAE1B,OACE,4BACExD,UAAWA,EACXuD,QAASA,EACThC,MAAOjC,KAAKC,MAAMC,QAAQH,GAAGkC,GAC7BxB,IAAKwB,GAEL,kBAAC7B,EAAK+B,MAAK,CAACC,MAAO,KAClB8B,EAGP,GAGF,SAAiB5E,GACf,MAAaK,UAAc,EAAAwE,UAIzB3E,YAAYC,GACVC,QAHM,KAAA0E,WAAY,EAsDZ,KAAAC,MAAQ,KACdrE,KAAKsE,aAAaC,UAAK,EAAO,EAnD9BvE,KAAKwE,SAAW/E,EAAQS,QACxBF,KAAKwE,SAASC,cAAcC,QAAQ1E,KAAK2E,iBAAkB3E,MAC3DA,KAAKwE,SAASI,eAAeF,QAAQ1E,KAAKqE,MAC5C,CAEAvB,UACE9C,KAAKwE,SAASC,cAAcI,WAAW7E,KAAK2E,iBAAkB3E,MAC9DA,KAAKwE,SAASI,eAAeC,WAAW7E,KAAKqE,OAC7C3E,MAAMoD,SACR,CAEI5C,cACF,OAAOF,KAAKwE,QACd,CAEIrB,eACF,OAAOnD,KAAKoE,SACd,CAEIjB,aAASA,GACPnD,KAAKoE,YAAcjB,IACrBnD,KAAKoE,UAAYjB,EACjBnD,KAAKqE,QAET,CAEInB,mB,MACF,OAAoC,QAA7B,EAAAlD,KAAKwE,SAASM,uBAAe,eAAE5B,eAAgB,IACxD,CAEIpD,uBACF,OAAOE,KAAKwE,SAASO,cACvB,CAEIlE,wBACF,OAAOb,KAAKwE,SAASQ,eACvB,CAEIhB,wBAEF,OADahE,KAAKwE,SAASS,eAE7B,CAEAzC,cAAcvB,EAAcK,GAC1B,IAAIJ,EAAS,IAAMlB,KAAKgE,mBAAqB,EAAAkB,QAAA,aAC7ChE,EAAOD,GAAQK,EACftB,KAAKwE,SAAShC,cAActB,GAC5BlB,KAAKqE,OACP,CAMQM,mBACN3E,KAAKsE,aAAaC,UAAK,EACzB,EA9DW,EAAA5E,MAAK,EAqFL,EAAAyB,cAA0B,CACrCjC,KAAM,CACJ+C,MAAO,CAAEiD,IAAK,GAAIC,IAAK,IAAKC,KAAM,GAClCtD,aAAc,IACdV,OAAQ,IACRjB,KAAM,SACNM,UAAW,WAEb,UAAW,CACTwB,MAAO,CAAEiD,KAAM,GAAIC,IAAK,GAAIC,KAAM,GAClCtD,aAAc,EACd3B,KAAM,WACNM,UAAW,aAEbrB,QAAS,CACP6C,MAAO,CAAEiD,IAAK,EAAGC,IAAK,IAAKC,KAAM,GACjChE,OAAQ,IACRU,aAAc,IACd3B,KAAM,YACNM,UAAW,cAGhB,CA5GD,CAAiBpB,IAAAA,EAAW,K,YChPrB,MAAMgG,UAAmB,EAAA/F,aAC9BC,YAAYC,GACVC,MAAM,IAAI4F,EAAW3F,MAAMF,IAC3BO,KAAKyC,SAAS,aACdC,SAASC,KAAKC,YAAY5C,KAAK6C,KACjC,CAEAC,UACE9C,KAAKC,MAAM6C,UACXpD,MAAMoD,UACNJ,SAASC,KAAKI,YAAY/C,KAAK6C,KACjC,CAEUG,SACR,MAAM,QAAE9C,EAAO,MAAEqF,GAAUvF,KAAKC,OAC1B,GAAEF,GAAOG,EAETsF,EAA0C,CAAC,EAEjD,IAAK,MAAMC,KAAaC,OAAOC,OAAO,MAAY,CAChD,MAAMC,IAAYL,EAAME,GACxBD,EAAWC,GAAazF,KAAKO,WAC3BqF,EAAU,cAAkB,eAC5B,KAAgBH,GAChBG,EAAU,IAAM1F,EAAQ2F,GAAGJ,GAAa,IAAM,KAC9C,GAAG,kBAAiBA,KAAaG,EAAU,GAAK,gB,CAIpD,MAAME,EAAO9F,KAAKO,WAChB,aACAR,EAAG,cACH,KAAWC,KAAKC,MAAMC,QAAQ6F,MAAM,GACpC,WAGF,OACE,yBAAKrF,UAAW,iBACbV,KAAKgG,YACLR,EAAWS,GACZ,6BACGT,EAAWU,KACXJ,EACAN,EAAWW,SAEbX,EAAWY,KAGlB,CAEAJ,YACE,IAAI,QAAE9F,GAAYF,KAAKC,MACvB,IAAKC,EAAQmG,kBAAkBC,OAC7B,OAAO,qCAET,IAAIpH,EAAuB,GAC3B,IAAK,MAAMqH,KAAUrG,EAAQmG,kBAAmB,CAC9C,IAAIjG,EAAOmG,EAAOtE,MAAM7B,KACpBC,EAAQ,EAAAmG,QAAA,SAAiBD,EAAOtE,MAAM5B,OAC1CnB,EAAMzB,KACJ,wBAAIgD,IAAK8F,EAAO5I,IACd,4BAAQsG,QAAS,IAAMjE,KAAKC,MAAMC,QAAQuG,eAAeF,IACvD,+BAAQlG,GACR,kBAACD,EAAK+B,MAAK,CAACC,MAAO,O,CAK3B,OAAO,wBAAI1B,UAAW,kBAAkBxB,EAC1C,CAEAqB,WACEH,EACA6B,EACAgC,EACAvD,EAAoB,IAEpB,OACE,4BACEA,UAAWA,EACXuD,QAASA,EACThC,MAAOjC,KAAKC,MAAMC,QAAQH,GAAGkC,IAE7B,kBAAC7B,EAAK+B,MAAK,CAACC,MAAO,KAGzB,GAGF,SAAiBkD,GACf,MAAa3F,UAAc,EAAAwE,UAKzB3E,YAAYC,GACVC,QAJM,KAAAgH,OAAmC,CAAC,EACpC,KAAAC,iBAA8C,KAsC9C,KAAApC,KAAO,KACbvE,KAAKsE,aAAaC,UAAK,EAAO,EAnC9BvE,KAAKwE,SAAW/E,EAAQS,QACxBF,KAAKwE,SAASC,cAAcC,QAAQ1E,KAAK2E,iBAAkB3E,KAC7D,CAEA8C,UACE9C,KAAKwE,SAASC,cAAcI,WAAW7E,KAAK2E,iBAAkB3E,MAC9DN,MAAMoD,SACR,CAEI5C,cACF,OAAOF,KAAKwE,QACd,CAEIe,YACF,OAAOvF,KAAK0G,MACd,CAEQ/B,mBACN,MAAMY,EAAQvF,KAAKwE,SAASe,QAC5B,IAAIhB,GAAO,EACN,EAAAW,QAAA,UAAkBK,EAAOvF,KAAK0G,UACjC1G,KAAK0G,OAASnB,EACdhB,GAAO,GAET,IAAI,gBAAEO,GAAoB9E,KAAKwE,SAC3BM,IAAoB9E,KAAK2G,mBAC3B3G,KAAK2G,iBAAmB7B,EACxBP,GAAO,GAELA,GACFvE,KAAKuE,MAET,EAvCW,EAAA5E,MAAK,CAgDnB,CAjDD,CAAiB2F,IAAAA,EAAU,KCxEpB,MAAMsB,EAuBXpH,YAAYC,GAtBF,KAAAoH,SAAU,EACV,KAAAC,eAAiB,IAAI,EAAAC,OAA2B/G,MAChD,KAAAgH,cAA+B,KAC/B,KAAAC,YAAiC,GAGjC,KAAAC,QAA6B,KAC7B,KAAAC,aAAmC,KAInC,KAAAC,sBAAuB,EACvB,KAAAC,YAAc,IAAIC,IAElB,KAAAC,cAAgB,IAAID,IACpB,KAAAE,qBAAuB,IAAI,EAAAT,OAA2B/G,MACtD,KAAAyH,gBAAkB,IAAI,EAAAV,OAA2B/G,MAEjD,KAAA0H,SAA2B,KAC3B,KAAAf,iBAA8C,KAC9C,KAAAgB,mBAA+B,GAmDlC,KAAA5H,GAAK,CAAC6H,KAAkBC,IACtB7H,KAAK8H,OAAO/H,GAAG6H,KAAUC,GAoB3B,KAAAE,MAAQC,MAAOC,GAAiB,WAC/BjI,KAAKkI,YACX,MAAMC,EAAYnI,KAAK6G,QAGvB,GAAIsB,IAAcF,EAChB,OAGF,IAAKjI,KAAKgH,cAAe,CACvB,MAAM,mBAAEoB,GAAuBpI,KAC/B,IAAIoI,EAIF,YADAC,YAAWL,eAAkBhI,KAAK+H,SAAS,IAF3C/H,KAAKgH,cAAgBoB,C,CAOzB,MAAM,OAAEE,EAAM,cAAEtB,GAAkBhH,KAqBlC,GAnBKmI,IACHnI,KAAK6G,SAAU,EACV7G,KAAKuI,UAAUC,MAAMC,GAAaA,EAASC,IAAI,UAAU,KAC1D1I,KAAK2I,aACP3I,KAAKoH,qBAAuBpH,KAAK2I,WAAWC,UAC5C5I,KAAK2I,WAAWE,QAElBP,EAAOQ,kBAAmB,EAC1BpG,SAASC,KAAKoG,QAAQ,eAAiB,iBACvC,IAAAC,MAAKhJ,KAAKiJ,WAAWC,WAAYC,GAAQA,EAAIN,SAC7CP,EAAOc,KAAO,kBACdpJ,KAAKkH,QAAU,IAAI5B,EAAW,CAAEpF,QAASF,OACzCA,KAAKmH,aAAe,IAAI7H,EAAY,CAAEY,QAASF,OAC/CqJ,OAAOC,iBAAiB,SAAUtJ,KAAKuJ,sBAEzCjB,EAAOkB,eAEDxJ,KAAKyJ,yBAEPzC,EAAe,CACjB,MAAM0C,EAAY1J,KAAK2J,cAAc3C,GACjC0C,GACF1J,KAAK2G,iBAAmB+C,QAClBA,EAAU3B,MAAMf,IAEtBhH,KAAK2G,iBAAmB,I,CAI5B2B,EAAOsB,aACPtB,EAAOuB,cACPvB,EAAOwB,eACPxB,EAAOyB,gBACP1B,YAAW,KACTC,EAAOwB,eACPxB,EAAOyB,eAAe,GACrB,KAEE5B,GACHnI,KAAKgK,iBAEPhK,KAAK8G,eAAevC,UAAK,EAAO,EAQ3B,KAAAwB,KAAOiC,UAEZ,IAAKhI,KAAK6G,QACR,OAGF,MAAM,cAAEG,EAAa,OAAEsB,EAAM,WAAEK,EAAU,QAAEzB,EAAO,SAAEQ,EAAQ,aAAEP,GAAiBnH,KAO/E,GAJI0H,SACI1H,KAAKyD,cAGTuD,EAAe,CACjB,MAAM0C,EAAY1J,KAAK2J,cAAc3C,GACjC0C,SACIA,EAAU3D,KAAKiB,E,CAIrB2B,GAAc3I,KAAKoH,sBACrBuB,EAAWsB,QAGb,IAAAjB,MAAKhJ,KAAKiJ,WAAWC,WAAYC,GAAQA,EAAIc,SAEzC/C,IACFA,EAAQpE,UACR9C,KAAKkH,QAAU,MAEbC,IACFA,EAAarE,UACb9C,KAAKmH,aAAe,MAEtBmB,EAAOQ,kBAAmB,EAC1BR,EAAOc,KAAO,oBACdC,OAAOa,oBAAoB,SAAUlK,KAAKuJ,4BACnC7G,SAASC,KAAKoG,QAAQ,eAC7B/I,KAAKgH,cAAgB,KACrBhH,KAAK6G,SAAU,EACf7G,KAAK2H,mBAAqB,GACrB3H,KAAKuI,UAAUC,MAAMC,GAAaA,EAASC,IAAI,UAAU,IAAO,EAIhE,KAAA7C,GAAKmC,MAAOvC,EAAuB0E,KAExC,IAAKnK,KAAKgH,cACR,OAEF,MAAM0C,EAAY1J,KAAK2J,cAAc3J,KAAKgH,eAErC0C,UAGCA,EAAU7D,GAAG7F,KAAKgH,cAAevB,EAAW0E,GAClDnK,KAAK8G,eAAevC,UAAK,GAAO,EA6RxB,KAAAyF,eAAiB,KACzB,MAAM,cAAEhD,GAAkBhH,KAC1B,GAAIgH,EAAe,CACjB,MAAM0C,EAAY1J,KAAK2J,cAAc3J,KAAKgH,eACtC0C,GACFA,EAAUU,MAAMpD,E,CAGpB,MAAM,QAAEE,GAAYlH,KACpB,IAAIqK,EAA6B,GAE7BnD,GACFmD,EAAY5M,KAAKyJ,EAAQrE,MAE3B,IAAK,MAAMyH,KAASD,EAClBC,EAAMC,aAAa,QAAS,G,EAItB,KAAAhB,oBAAsB,KACzBvJ,KAAK6G,UAGV7G,KAAKsI,OAAOkB,SACZxJ,KAAKsI,OAAOkC,MACZnC,WAAWrI,KAAKgK,eAAgB,IAAG,EAzfnChK,KAAKkI,YAAczI,EAAQgL,WAC3BzK,KAAK0K,UAAYjL,EAAQkL,SACzB3K,KAAKsI,OAAS7I,EAAQmL,MACtB5K,KAAK2I,WAAalJ,EAAQoL,UAC1B7K,KAAK8H,OAASrI,EAAQqL,WACtB9K,KAAKuI,UAAY9I,EAAQgJ,SACzBzI,KAAK+K,OAAStL,EAAQuL,MAEtBhL,KAAKsI,OAAO7D,cAAcC,QAAQ1E,KAAKyJ,uBAAwBzJ,MAC/DA,KAAKsI,OAAO2C,eAAevG,QAAQ1E,KAAKuJ,oBAAqBvJ,MAC7DA,KAAKkL,eACLlL,KAAKmL,kBACLnL,KAAKuI,UACFC,MAAKR,MAAOS,IACXA,EAAS2C,QAAQ1G,QAAQ1E,KAAKqL,mBAAoBrL,YAC5CA,KAAKqL,oBAAoB,IAEhCC,MAAMC,QAAQC,KACnB,CAEW1G,sBACT,OAAO9E,KAAK2G,gBACd,CAEWnD,cACT,OAAOxD,KAAK0H,QACd,CAEWsD,YACT,OAAOhL,KAAK+K,MACd,CAEWtG,oBACT,OAAOzE,KAAK8G,cACd,CAEW2E,0BACT,OAAOzL,KAAKwH,oBACd,CAEW5C,qBACT,OAAO5E,KAAKyH,eACd,CAUOiE,aAAahC,GAClB,IAAIiC,EAAgB,IAAI3L,KAAKiH,YAAayC,GAC1CiC,EAAcC,KAAK5L,KAAK6L,aACxB7L,KAAKiH,YAAc0E,EACnBjC,EAAUjF,cAAcC,SAAQ,IAAM1E,KAAK8G,eAAevC,UAAK,IACjE,CAEOuH,eAAeC,GACpB/L,KAAKuH,cAAcmB,IAAIqD,EAAOtL,IAAKsL,GACnC/L,KAAKwH,qBAAqBjD,UAAK,EACjC,CAEWyH,mBACT,MAAO,IAAIhM,KAAKuH,cAAc5B,SAChC,CAoEWsG,mBACT,OAAOjM,KAAKgH,aACd,CA8DOzB,QACL,MAAM,QAAEsB,EAAO,cAAEG,GAAkBhH,KACnC,GAAI6G,GAAWG,EAAe,CAC5B,MAAM0C,EAAY1J,KAAK2J,cAAc3C,GACrC,GAAI0C,EACF,OAAOA,EAAUnE,MAAMyB,E,CAG3B,MAAO,CAAC,CACV,CAEU6E,YAAYK,EAAoBC,GACxC,OAAOD,EAAEE,KAAOD,EAAEC,MAAQF,EAAEvO,GAAG0O,cAAcF,EAAExO,GACjD,CAEUgM,cAAcpD,GACtB,GAAIA,EACF,IAAK,MAAMmD,KAAa1J,KAAKiH,YAC3B,GAAIyC,EAAU4C,QAAQ/F,GACpB,OAAOmD,EAKb,OAAO,IACT,CAGUyB,kBACR,IAAK,MAAM1F,KAAaC,OAAOC,OAAO,MACpC3F,KAAK0K,UAAU6B,cAAc,CAC3BC,QAAS,KAAW/G,GACpBoC,KAAM,CAAC,EACP4E,KAAM,KAAehH,GACrBiH,SAAU,IAAI,gBAGlB,IAAK,MAAOlH,EAAYiH,KAAS,eAAyB,CACxD,MAAOhH,EAAW0E,GAAa3E,EAC/BxF,KAAK0K,UAAU6B,cAAc,CAC3BC,QAAS,QACT3E,KAAM,CAAEpC,YAAW0E,aACnBsC,OACAC,SAAU,IAAI,e,CAGpB,CAEO1E,oBACAhI,KAAK0H,WACR1H,KAAK0H,SAAW,WAAW,sDAA2BiF,SAAQ,CAAEzM,QAASF,OACzEA,KAAKyH,gBAAgBlD,UAAK,UAEtBvE,KAAK+H,OAAM,EACnB,CAEOC,oBACDhI,KAAK0H,WACP1H,KAAK0H,SAAS5E,UACd9C,KAAK0H,SAAW,KAChB1H,KAAKyH,gBAAgBlD,UAAK,GAE9B,CAEOQ,eACL,IAAI,cAAEiC,EAAa,iBAAEL,GAAqB3G,KAC1C,OAAIgH,IAAiBL,aAAgB,EAAhBA,EAAkB5B,eAC9B4B,EAAiB5B,aAAaiC,IAGhC,IACT,CAEOxG,aAAaX,GAClB,IAAI,cAAEmH,EAAa,iBAAEL,GAAqB3G,KACtCgH,IAAiBL,aAAgB,EAAhBA,EAAkBnG,eACrCmG,EAAiBnG,aAAawG,EAAenH,EAEjD,CAEOmF,gBACL,IAAI,cAAEgC,EAAa,iBAAEL,GAAqB3G,KAC1C,OAAIgH,IAAiBL,aAAgB,EAAhBA,EAAkB3B,gBAC9B2B,EAAiB3B,cAAcgC,IAGjC,IACT,CAEOjG,cAAcH,GACnB,IAAI,cAAEoG,EAAa,iBAAEL,GAAqB3G,KACtCgH,IAAiBL,aAAgB,EAAhBA,EAAkB5F,gBACrC4F,EAAiB5F,cAAciG,EAAepG,EAElD,CAEOqE,gBACL,IAAI,cAAE+B,EAAa,iBAAEL,GAAqB3G,KAC1C,OAAIgH,IAAiBL,aAAgB,EAAhBA,EAAkB1B,gBACtB0B,EAAiB1B,cAAc+B,IAIzC,IACT,CACOxE,cAActB,GACnB,IAAI,cAAE8F,EAAa,iBAAEL,GAAqB3G,KACtCgH,IAAiBL,aAAgB,EAAhBA,EAAkBnE,gBACrCmE,EAAiBnE,cAAcwE,EAAe9F,EAElD,CAEOuF,eAAeF,GACpBvG,KAAKsI,OAAOsE,aAAarG,EAAO1D,KAAKlF,GACvC,CAEW0I,wBACT,MAAO,IAAIrG,KAAK2H,mBAClB,CAEUuD,eACR,IAAI,UAAER,EAAS,GAAE3K,EAAE,GAAE8F,GAAO7F,KAC5B0K,EAAUmC,WAAW,WAAkB,CACrCxM,MAAON,EAAG,cACVK,KAAM,cACN0M,QAAS,IAAM9M,KAAK+H,UAEtB2C,EAAUmC,WAAW,UAAiB,CACpCxM,MAAON,EAAG,aACVK,KAAM,aACN0M,QAAS9M,KAAK+F,OAEhB2E,EAAUmC,WAAW,YAAmB,CACtCxM,MAAON,EAAG,eACVK,KAAM,aACN0M,QAAS9E,gBACAhI,KAAK6G,QAAU7G,KAAK+F,OAAS/F,KAAK+H,QAAQ,IAIrD/H,KAAK0K,UAAUmC,WAAW,iBAAwB,CAChDzM,KAAM,mBACNC,MAAOL,KAAKD,GAAG,qBACf+M,QAAS,IAAM9M,KAAK0D,gBAGtB1D,KAAK0K,UAAUmC,WAAW,iBAAwB,CAChDzM,KAAM,kBACNC,MAAOL,KAAKD,GAAG,qBACf+M,QAAS,IAAM9M,KAAKyD,gBAGtBiH,EAAUmC,WAAW,QAAe,CAClCxM,MAAON,EAAG,wBACV+M,QAAS9E,MAAOH,IACd,MAAMpC,EAAY,KAAUoC,EAAKpC,WAC3B0E,EAAY,KAAUtC,EAAKsC,WAC7B1E,QACII,EAAGJ,EAAW0E,GAEpBoB,QAAQC,KAAK,KAAQzL,EAAG,yBAAyB8H,EAAKpC,W,IAI5D,IAAK,MAAOA,EAAWpF,KAAUqF,OAAOqH,QAAQ,MAC9CrC,EAAUmC,WAAW,KAAWpH,GAA0B,CACxDpF,MAAON,EAAGM,GACVyM,QAAS,IAAMjH,EAAGJ,IAGxB,CAEcwD,iBACZ,OAAQjJ,KAAKsI,OAAe0E,UAC9B,CAGUhF,+BACR,IAAKhI,KAAK6G,QAER,YADA7G,KAAKgH,cAAgB,MAIvB,MAAM,cAAEA,EAAa,mBAAEoB,GAAuBpI,KAE9C,GAAKoI,GAAsBA,IAAuBpB,EAAlD,CAKA,GAAIA,EAAe,CACjB,MAAM0C,EAAY1J,KAAK2J,cAAc3C,GACjC0C,SACIA,EAAU3D,KAAKiB,GAElBhH,KAAK2H,mBAAmBsF,SAASjG,IACpChH,KAAK2H,mBAAmBlK,KAAKuJ,E,CAMjC,GAFAhH,KAAKgH,cAAgBoB,EAEjBA,EAAoB,CAClBpI,KAAK2H,mBAAmBsF,SAAS7E,IACnCpI,KAAK2H,mBAAmBuF,OACtBlN,KAAK2H,mBAAmBwF,QAAQ/E,GAChC,GAGJ,MAAMsB,EAAY1J,KAAK2J,cAAcvB,GACjCsB,GACF1J,KAAK2G,iBAAmB+C,QAClBA,EAAU3B,MAAMK,IAEtBpI,KAAK2G,iBAAmB,I,MAG1B3G,KAAK2G,iBAAmB,KAG1B3G,KAAKgK,iBACLhK,KAAK8G,eAAevC,UAAK,E,CAC3B,CAEc6D,yBACZ,OAAIpI,KAAKsI,OAAO2D,aACPjM,KAAKsI,OAAO2D,aAEJjM,KAAKiJ,WAAWmE,kBACTC,QACP,IACnB,CAEUrF,2BAER,IAAIsF,EACJA,SAFuBtN,KAAKuI,WAEP+E,UACrB,MAAMC,GAA8B,IAArBD,EAAUC,OAQzB,GANIA,IAAWvN,KAAK6G,QACb7G,KAAK+H,SACAwF,GAAUvN,KAAK6G,SACpB7G,KAAK+F,OAGRuH,EAAUtB,aACZ,IAAK,IAAIwB,KAAa9H,OAAOqH,QAAQO,EAAUtB,cAAe,CAC5D,IAAKvL,EAAKsL,GAAUyB,GAChB,MAAEC,EAAK,MAAEpN,EAAK,OAAEa,GAAW6K,EAC1B7K,GAAWb,IAGhBL,KAAKuH,cAAcmB,IAAIjI,EAAK,CAC1BA,MACAgN,MAAOA,GAAS,MAChBvM,SACAb,UAEFL,KAAKwH,qBAAqBjD,UAAK,G,CAGrC,CAEAmJ,cAAcC,GACZ,IAAK,MAAM9K,KAAQ8K,EACZ3N,KAAKqH,YAAYuG,IAAI/K,IACxB7C,KAAKqH,YAAYqB,IAAI7F,EAAMA,EAAKgL,aAAa,UAAY,IAE3DhL,EAAK0H,aAAa,QAAS,GAE/B,CAEAuD,gBAAgBH,GACd,IAAK,MAAM9K,KAAQ8K,EAAO,CACxB,MAAMvD,EAAQpK,KAAKqH,YAAYuG,IAAI/K,GAC/BuH,IACFvH,EAAK0H,aAAa,QAASH,GAC3BpK,KAAKqH,YAAY0G,OAAOlL,G,CAG9B,E,aCvgBK,MAAMmL,EAaXxO,YAAYC,GAZF,KAAAqH,eAAiB,IAAI,EAAAC,OAA2C/G,MAE1D,KAAArC,GAAK,kBACL,KAAAyO,KAAO,IACP,KAAAlJ,aAAe,CAAC,EAEtB,KAAA+K,0BAAoC,EAEpC,KAAAC,aAAe,IAAI5G,IACnB,KAAA6G,WAAa,IAAI7G,IACjB,KAAA8G,aAAe,IAAI9G,IAyFnB,KAAA+G,cAAiBhM,IACzB,MAAM,aAAE4J,GAAiBjM,KAAKwE,SACxB8J,EAAQrC,GAAgBjM,KAAKsM,QAAQL,GAE3C,IAAKqC,EACH,OAEF,MAAMC,EAAM,IAAIC,IAAInM,EAAMoM,SACpB,KAAEC,GAASH,GAAO,IAEX,MAATG,GAGJ1O,KAAK2O,kBAAkBL,EAAOI,EAAK,EAnGnC1O,KAAKwE,SAAW/E,EAAQS,QACxBF,KAAK0K,UAAYjL,EAAQkL,SACzB3K,KAAKmL,kBACLnL,KAAK4O,qBACP,CAEOtC,QAAQ/F,GACb,OAAIA,aAAkB,EAAAsI,iBACbtI,EAEF,IACT,CAEOyB,WAAWsG,GAChBtO,KAAK8O,aAAaR,EAEpB,CACOtG,YAAYsG,GACjB,MAAMS,EAAc/O,KAAKkO,aAAaN,IAAIU,IAAU,QAC9CA,EAAMU,QAAQC,MACpBjP,KAAKkP,aAAaZ,EAAOS,EAE3B,CAEO/G,SACLsG,EACA7I,EACA0E,SAEMmE,EAAMU,QAAQC,MACpB,IAAIE,EAAQnP,KAAKkO,aAAaN,IAAIU,IAAU,EACxCc,EAAYpP,KAAKmO,WAAWP,IAAIU,KAAW,EAC9B,WAAb7I,GAAuC,WAAb0E,EAC5BgF,IACsB,QAAb1J,GAAoC,QAAb0E,GAChCgF,IAEFA,EAAQA,EAAQ,EAAI,EAAIA,EAAQC,EAAYA,EAAYD,EACxDnP,KAAKkP,aAAaZ,EAAOa,EAC3B,CAEO5J,MAAM+I,GACX,IAAIa,EAAQnP,KAAKkO,aAAaN,IAAIU,IAAU,EAExCe,EAAUf,EAAMU,QAAQM,SAASzM,KAAK0M,iBAAiB,MAAMjJ,OAEjE,OADAtG,KAAKmO,WAAWzF,IAAI4F,EAAOe,GACpB,CACLlJ,QAASgJ,EAAQE,EACjBnJ,KAAMiJ,EAAQ,EAElB,CAEO/E,MAAMkE,GACX,MAAM,SAAE9J,GAAaxE,KACrBsO,EAAM7L,SAAS,WACf+B,EAASkJ,WAAWY,EAAMzL,KAAMyL,EAAMU,QAAQnM,KAAMyL,EAAMU,QAAQM,SAASzM,KAC7E,CAEW4B,oBACT,OAAOzE,KAAK8G,cACd,CAGUqE,kBACR,IAAK,MAAM1F,KAAaC,OAAOC,OAAO,MACpC3F,KAAK0K,UAAU6B,cAAc,CAC3BC,QAAS,KAAW/G,GACpBgH,KAAM,KAAehH,GACrBiH,SAAU,IAAI,cAAa,wBAG/B,IAAK,MAAOlH,EAAYiH,KAAS,eAAyB,CACxD,MAAOhH,EAAW0E,GAAa3E,EAC/BxF,KAAK0K,UAAU6B,cAAc,CAC3BC,QAAS,QACT3E,KAAM,CAAEpC,YAAW0E,aACnBsC,OACAC,SAAU,IAAI,cAAa,uB,CAGjC,CAEUkC,sBACRvF,OAAOC,iBAAiB,aAActJ,KAAKqO,cAC7C,CAkBUM,kBAAkBL,EAAyBzP,GACnD,MAAM2Q,EAAW9M,SAAS+M,eAAe5Q,EAAS6Q,MAAM,IAExD,IAAKF,IAAalB,EAAMzL,KAAK8M,SAASH,GACpC,OAEF,IAAIL,EAAQ,EACZ,IAAK,MAAMS,KAAStB,EAAMU,QAAQM,SAASzM,KAAKqB,SAC9C,GAAsB,OAAlB0L,EAAMC,SAIV,GAAID,IAAUJ,EAAU,CACtBxP,KAAKkP,aAAaZ,EAAOa,GACzB,K,OALAA,GAAS,CAQf,CAEUD,aAAaZ,EAAyBa,GAC9C,IAAIW,EAAQ9P,KAAKoO,aAAaR,IAAIU,GACrB,MAATwB,IACFA,EAAQpN,SAASqN,cAAc,SAC/BD,EAAMpP,UAAY,WAClBV,KAAKoO,aAAa1F,IAAI4F,EAAOwB,GAC7BpN,SAASC,KAAKC,YAAYkN,IAE5BA,EAAME,YAAc,UACjB1B,EAAM3Q,SAAS,wBAChB,0CACmBwR,4BAAgCA,EAAQ,kDAG7DnP,KAAKkO,aAAaxF,IAAI4F,EAAOa,EAC/B,CAEUL,aAAaR,GAErB,GAAIA,EAAM2B,WACR,OAEF,MAAM,SAAEzL,GAAaxE,KACrBsO,EAAM4B,YAAY,WAClB1L,EAASsJ,aAAaQ,EAAMU,QAAQnM,KAAMyL,EAAMzL,KAAMyL,EAAMU,QAAQM,SAASzM,KAC/E,E,aCvKK,MAAMsN,EAMX3Q,YAAYC,GACVO,KAAK0K,UAAYjL,EAAQkL,SACzB3K,KAAKoQ,WAAa3Q,EAAQiK,SAC5B,CAEA2G,UACE/B,EACAgC,GAEA,MAAMhQ,EAAS,IAAI,EAAAiQ,qBAAqB,CACtC5F,SAAU3K,KAAK0K,UACfrK,MAAO,GACP1C,GAAI,cAON,OAJA2Q,EAAMkC,QAAQC,WAAW,EAAG,OAAQnQ,GAEpCN,KAAKoQ,WAAWM,aAAapC,GAEtB,IAAI,EAAAqC,oBAAmB,IAAMrQ,EAAOwC,WAC7C,E,sBCbK,MAAM8N,UAA0B,EAAAC,cAAA,KACrCrR,YAAYC,GACVC,QACA,MAAM0D,EAAS,IAAI,EAAA0N,YACnB9Q,KAAK+Q,OAAS,IAAIC,EAAerR,MAAMF,GACvCO,KAAKiR,eAAiBxR,EAAQyR,cAC9B9N,EAAO+N,UAAU,IAAIH,EAAehR,KAAK+Q,SACzC/Q,KAAKoD,OAASA,EACdpD,KAAKyC,SAAS,cAChB,CACU2O,sBACRpR,KAAK+Q,OAAOM,WAAarR,KAAKiR,eAAeI,UAC/C,CAEUC,8BACRtR,KAAK+Q,OAAOvH,QACd,EAaK,MAAMwH,UAAuB,EAAAzR,aACxByD,SACR,MAAMuO,EAAIvR,KAAKC,OACT,WAAEuR,EAAU,QAAEtR,GAAYqR,GAC1B,GAAExR,GAAOG,EAETlB,GAAQwS,aAAU,EAAVA,EAAYxS,QAAS,IAEnC,OACE,6BACGgB,KAAKyR,UAAUzS,EAAOe,GACtBC,KAAK0R,WAAW3R,GAGvB,CAEA2R,WAAW3R,GACT,OACE,yBAAKW,UAAW,iBACd,2BACEuB,MAAOlC,EAAG,4CACV4R,QAAS,EAAAC,GAAA,aAER7R,EAAG,eACJ,kBAAC,oBAAqB,CAAC8R,IAAI,OAAOzP,MAAO,MAE3C,yBAAK1B,UAAW,kBACd,yBAAKA,UAAW,oBACd,4BACEA,UAAW,YACXY,MAAOtB,KAAKC,MAAM6R,eAClBlQ,SAAU5B,KAAKC,MAAM8R,eACrBpU,GAAI,EAAAiU,GAAA,cAEH5R,KAAKgS,cAAcjS,KAGxB,4BACEW,UAAW,GAAG,eAAc,aAC5BuD,QAASjE,KAAKC,MAAMgS,aAEnBlS,EAAG,eAKd,CAEA0R,UAAUzS,EAA0Be,GAClC,OACE,yBAAKW,UAAW,gBACd,2BACEuB,MAAOlC,EAAG,+CACV4R,QAAS,EAAAC,GAAA,aAER7R,EAAG,SACJ,kBAAC,oBAAqB,CAAC8R,IAAI,OAAOzP,MAAO,KACzC,yBAAK1B,UAAW,oBACd,4BACEA,UAAW,YACXY,MAAOtC,EACP4C,SAAU5B,KAAKC,MAAMiS,cACrBvU,GAAI,EAAAiU,GAAA,aAEH5R,KAAKmS,aAAapS,MAM/B,CAEAiS,cAAcjS,GAEZ,MAAMiS,EAA+B,CACnC,4BAAQvR,IAAI,IAAIa,MAAM,IAAE,MAI1B,IAAK,MAAMyK,KAAU/L,KAAKC,MAAM+L,aAC9BgG,EAAcvU,KACZ,4BAAQ6D,MAAOyK,EAAOtL,IAAKA,IAAKsL,EAAOtL,KACpCV,EAAGgM,EAAO1L,SAIjB,OAAO2R,CACT,CAEAG,aAAapS,GACX,MAAMoS,EAA8B,GAEpC,IAAK,MAAOC,EAAYC,KAAe3M,OAAOqH,QAAQ,MACpDoF,EAAa1U,KACX,4BAAQ6D,MAAO8Q,EAAY3R,IAAK2R,EAAYnQ,MAAOlC,EAAGsS,IACnDtS,EAAGqS,KAIV,OAAOD,CACT,GAGF,SAAiBnB,GACf,MAAarR,UAAc,EAAAwE,UACzB3E,YAAYC,GACVC,QAYF,KAAAwS,cAAiBI,IACf,MAAM,YAAEC,GAAgBvS,KAExB,IAAKuS,EACH,OAEF,IAAIvT,EAAQsT,EAAOE,OAAOlR,MACtBmR,EAAU,IAAKzS,KAAK0S,cAAiB,CAAC,EAC5B,MAAV1T,UACKyT,EAAQzT,MACfgB,KAAK2S,iBAAiBF,EAASF,IACtB,cAAsBvT,KAC/ByT,EAAQzT,MAAQA,EAChBgB,KAAK2S,iBAAiBF,EAASF,G,EAInC,KAAAN,YAAc,KACZ,IAAKjS,KAAKuS,cAAgBvS,KAAK4S,gBAC7B,OAEF,IAAIC,EAAO,IACJ7S,KAAKuS,YAAYtS,MAAM6S,SAASlF,IAAI,aACvC,EAAA1I,QAAA,aAEJ,IAAK,MAAM6G,KAAU/L,KAAKwE,SAASwH,aAAc,CAC/C,GAAID,EAAOtL,KAAOT,KAAK4S,gBACrB,SAEGC,EAAa,SAChBA,EAAa,OAAI,CAAC,GAGpB,IAAIE,EAAaF,EAAa,OACzBE,EAAW,qBACdA,EAAW,mBAAqB,CAAC,GAGnC,IAAIC,EAAWD,EAAW,mBAErBC,EAAS,uBACZA,EAAS,qBAAuB,CAAC,GAGnC,IAAIC,EAAaD,EAAS,qBAC1B,IAAK,IAAKvS,EAAKa,KAAUoE,OAAOqH,QAAQhB,EAAO7K,QAC7C+R,EAAWxS,GAAOa,EAMpB,OAJAtB,KAAKuS,YAAYtS,MAAM6S,SAAS/E,OAAO,YACvC/N,KAAKuS,YAAYtS,MAAM6S,SAASpK,IAAI,WAAYmK,GAChD7S,KAAKkT,kBACLlT,KAAKiR,eAAezH,Q,GAuBxB,KAAAuI,eAAkBO,IAChBtS,KAAK4S,gBAAkBN,EAAOE,OAAOlR,MACrCtB,KAAKsE,aAAaC,UAAK,EAAO,EA0BxB,KAAAgO,YAAuC,KACvC,KAAAG,YAAwC,KACxC,KAAAE,gBAA0B,GAnHhC5S,KAAKwE,SAAW/E,EAAQS,QACxBF,KAAKiR,eAAiBxR,EAAQyR,aAChC,CAEA1H,S,MACExJ,KAAK0S,aACc,QAAhB,EAAA1S,KAAKuS,mBAAW,eAAEtS,MAAM6S,SAASlF,IAAI,aACtC,EAAA1I,QAAA,YACFlF,KAAKsE,aAAaC,UAAK,EACzB,CA0DA2O,a,MACE,IAAI5E,EAAQtO,KAAKiR,eAAekC,oBAChC,IAAK7E,EACH,OAEF,IAAI8E,EAAWpT,KAAKwE,SAASwG,MAAcqI,SACvCR,GAAkB,QAAX,EAAAvE,EAAMrO,aAAK,eAAE6S,SAASlF,IAAI,cAAe,EAAA1I,QAAA,YACpDkO,EAAQE,WAAWT,EAAmBvE,EACxC,CAEIwD,qBACF,OAAO9R,KAAK4S,eACd,CAEI5G,mBACF,OAAOhM,KAAKwE,SAASwH,YACvB,CAOU2G,iBAAiBF,EAA4Bc,GACjD7N,OAAO+G,KAAKgG,GAASnM,OACvBiN,EAAKtT,MAAM6S,SAASpK,IAAI,UAAW+J,GAEnCc,EAAKtT,MAAM6S,SAAS/E,OAAO,UAE/B,CAEI7N,cACF,OAAOF,KAAKwE,QACd,CAEI6M,eAAWA,GACTrR,KAAKuS,cAAgBlB,IAGzBrR,KAAKuS,YAAclB,EACnBrR,KAAKwJ,SACP,CACIgI,iBACF,OAAOxR,KAAK0S,WACd,EAlHW,EAAA/S,MAAK,CAyHnB,CA1HD,CAAiBqR,IAAAA,EAAc,KCvH/B,MAAMwC,EAAW9N,OAAO+N,OAAO,IAAInM,KAG5B,MAAMoM,EAkBXlU,YAAYC,GAjBI,KAAA9B,GAAK,YACL,KAAAyO,KAAO,IACP,KAAAlJ,aAAe,CAC7BE,QAAQ,EACRvD,WAAW,EACXe,YAAY,EACZmD,WAAW,EACX4P,WAAW,GAIH,KAAA1F,0BAAoC,EAEpC,KAAAnH,eAAiB,IAAI,EAAAC,OAAwC/G,MAC7D,KAAA4T,SAAW,IAAItM,IACf,KAAAuM,QAAU,IAAIvM,IA+Ld,KAAA+G,cAAiBhM,IACzB,MAAM,aAAE4J,GAAiBjM,KAAKwE,SACxB8J,EAAQrC,GAAgBjM,KAAKsM,QAAQL,GAE3C,IAAKqC,EACH,OAEF,MAAMC,EAAM,IAAIC,IAAInM,EAAMoM,SACpB,KAAEC,GAASH,GAAO,IAEX,MAATG,GAGJ1O,KAAK2O,kBAAkBL,EAAMU,QAASN,EAAK,EAkFtC,KAAA7I,GAAKmC,MACVsG,EACA7I,EACA0E,KAEA,MAAM2J,EAAgBxF,EAAMU,QAAQ/O,MAEpC,IAAK6T,EACH,OAEF,IAAI,gBAAEC,EAAe,WAAE1C,GAAe/C,EAAMU,QAE5C,MAAMgF,EAAUhU,KAAKiU,YAAYH,GACjC,IAAII,EAAeF,EAAQpG,IAAImG,GAE/B,IAAKG,GAAgB7C,EAAY,CAE/B,IADWrR,KAAKmU,qBAAqB9C,EAAWpR,OACtCjB,OAAuB,OAAdyG,EACjB,OAEF,MAAQyO,GAAgBH,GACtBA,IACAG,EAAeF,EAAQpG,IAAImG,E,CAI/B,MAAMK,EAAaF,GAAgBA,EAAazO,GAC1C4O,EAAsBlK,GAAa+J,GAAgBA,EAAa/J,GAEpD,MAAdiK,EACF9F,EAAMU,QAAQ+E,gBAAkBK,EACA,MAAvBC,EACT/F,EAAMU,QAAQ+E,gBAAkBM,EAEhC9I,QAAQC,KACN,KACAxL,KAAKwE,SAASzE,GAAG,8BAA+B0F,EAAW,GAAGsO,K,EA/TlE/T,KAAKwE,SAAW/E,EAAQS,QACxBF,KAAK0K,UAAYjL,EAAQkL,SACzB3K,KAAKsU,eAAe7U,EAAQyR,eAC5BlR,KAAKmL,kBACLnL,KAAK4O,qBACP,CAEOtC,QAAQ/F,GACb,OAAIA,aAAkB,EAAAgO,cACbhO,EAEF,IACT,CAEO6D,MAAMkE,GACXA,EAAM7L,SAAS,WACfzC,KAAKwE,SAASkJ,WAAWY,EAAMzL,KAAMyL,EAAMU,QAAQnM,KACrD,CAEOmF,WAAWsG,GAChB,MAAMwF,EAAgBxF,EAAMU,QAAQ/O,MAChC6T,IACF9T,KAAK4T,SAAS7F,OAAO+F,GACrB9T,KAAK6T,QAAQ9F,OAAO+F,IAEtB9T,KAAK8O,aAAaR,GAClBA,EAAMU,QAAQwF,kBAAkB3P,WAAW7E,KAAKyU,qBAAsBzU,MACtEsO,EAAM9E,SAEN,MAAM,WAAE6H,GAAe/C,EAAMU,QAEzBqC,GACFhJ,YAAW,KACLrI,KAAKwE,SAASyH,eAAiBqC,GAGnC,EAAAoG,WAAA,uBAAkCpG,EAAMU,QAAQnM,KAAMwO,EAAWxO,KAAK,GACrE,IAEP,CAEOmF,YAAYsG,GACjB,MAAM,MAAErO,EAAO+O,QAAS2F,GAAarG,EACrC,GAAIrO,EAAO,CACT,MAAM2U,EAAc5M,MAAOsK,IAErBhE,EAAM2B,WACRhQ,EAAMqE,aAAaO,WAAW+P,SAG1B5U,KAAKyU,qBAAqBnG,EAAMU,QAAQ,EAEhD/O,EAAMqE,aAAaI,QAAQkQ,E,CAE7B,MAAQ3U,MAAO6T,GAAkBa,EAC7Bb,GACFA,EAAce,eAAenQ,QAAQ1E,KAAK8U,0BAA2B9U,MAGvEsO,EAAMU,QAAQwF,kBAAkB9P,QAAQ1E,KAAKyU,qBAAsBzU,YAC7DA,KAAKyU,qBAAqBnG,EAAMU,SACtChP,KAAK+U,aACP,CAEWtQ,oBACT,OAAOzE,KAAK8G,cACd,CAEO/B,aAAauJ,GAClB,IAAI,WAAE+C,GAAe/C,EAAMU,QAC3B,OAAIqC,IACYA,EAAWpR,MAAM6S,SAASlF,IAAI,iBAAmB,CAAC,GACnD,iBAER,IACT,CAEOpN,aAAa8N,EAAsBzO,GACxC,IAAI,WAAEwR,GAAe/C,EAAMU,QAE3B,IAAKqC,EACH,OAEF,IAAI2D,EACD3D,EAAWpR,MAAM6S,SAASlF,IAAI,iBAA2C,KAC3D,MAAb/N,EACa,MAAXmV,EACF3D,EAAWpR,MAAM6S,SAAS/E,OAAO,gBAEjCsD,EAAWpR,MAAM6S,SAASpK,IAAI,eAAgB,IACzCsM,EACH,CAAC,gBAAiBnV,KAIP,MAAXmV,IACFA,EAAU,CAAC,GAEb3D,EAAWpR,MAAM6S,SAASpK,IAAI,eAAgB,IACzCsM,EACH,CAAC,gBAAiBnV,KAGlByO,EAAMU,QAAQ/O,OAChBD,KAAK8U,0BAA0BxG,EAAMU,QAAQ/O,OAE1CD,KAAKyU,qBAAqBnG,EAAMU,QACvC,CAEOhK,cAAcsJ,GACnB,IAAI,WAAE+C,GAAe/C,EAAMU,QAC3B,OAAIqC,IACYA,EAAWpR,MAAM6S,SAASlF,IAAI,YAAc,CAAC,GAC9C,aAER,IACT,CAEO7M,cAAcuN,EAAsB1N,GACzC,IAAI,WAAEyQ,GAAe/C,EAAMU,QAC3B,IAAKqC,EACH,OAEF,IAAI2D,EACD3D,EAAWpR,MAAM6S,SAASlF,IAAI,YAAsC,KACrD,MAAdhN,EACa,MAAXoU,EACF3D,EAAWpR,MAAM6S,SAAS/E,OAAO,YAEjCsD,EAAWpR,MAAM6S,SAASpK,IAAI,UAAW,IACpCsM,EACH,CAAC,YAAapU,KAIH,MAAXoU,IACFA,EAAU,CAAC,GAEb3D,EAAWpR,MAAM6S,SAASpK,IAAI,UAAW,IACpCsM,EACH,CAAC,YAAapU,KAGd0N,EAAMU,QAAQ/O,OAChBD,KAAK8U,0BAA0BxG,EAAMU,QAAQ/O,OAE1CD,KAAKyU,qBAAqBnG,EAAMU,QACvC,CAEO/J,cAAcqJ,GACnB,IAAI,WAAE+C,GAAe/C,EAAMU,QAC3B,OAAKqC,EAGErR,KAAKiV,eAAe5D,GAFlB,IAGX,CAEO7O,cAAc8L,EAAsBpN,GACzC,IAAI,WAAEmQ,GAAe/C,EAAMU,QAE3B,GAAKqC,EAGL,OAAOrR,KAAKkV,eAAe7D,EAAYnQ,EACzC,CAEOwP,aAAapC,GAClB,IAAIqG,EAAWrG,EAAMU,QACjBmG,EAAiBR,EAASS,YAC9BT,EAASS,YAAevW,IACtBsW,EAAeE,KAAKV,EAAU9V,GAC1BmB,KAAKwE,SAASM,kBAAoB9E,MAC/BsV,QAAQC,IAAIZ,EAASa,QAAQC,KAAKlP,GAAWA,EAAO0I,SAAQzG,MAAK,KACpExI,KAAK2O,kBAAkBgG,EAAU9V,EAAS,G,CAIlD,CAEUyV,eAAepD,GACvB,MAAMwE,EAAO,IAAI9E,EAAkB,CAAE1Q,QAASF,KAAKwE,SAAU0M,kBAC7DA,EAAcyE,QAAQ,CAAED,OAAME,QAAS,SAAUxJ,KAAM,GACzD,CAEUwC,sBACRvF,OAAOC,iBAAiB,aAActJ,KAAKqO,cAC7C,CAkBUM,kBAAkBgG,EAAoB9V,GAC9C,MAAM2Q,EAAW9M,SAAS+M,eAAe5Q,EAAS6Q,MAAM,IAExD,IAAKF,IAAamF,EAAS9R,KAAK8M,SAASH,GACvC,OAEF,IAAI5R,GAAK,EACLiY,EAAYlB,EAASa,QAAQlP,OACjC,KAAO1I,EAAIiY,GAGT,GAFAjY,IACW+W,EAASa,QAAQ5X,GACnBiF,KAAK8M,SAASH,GAErB,YADAmF,EAASZ,gBAAkBnW,EAIjC,CAEUkX,0BAA0BhB,GAE9BA,EAAc7D,WAChB6D,EAAce,eAAehQ,WAAW7E,KAAK8U,0BAA2B9U,OAG1EA,KAAK4T,SAAS7F,OAAO+F,GACrB9T,KAAK6T,QAAQ9F,OAAO+F,GACtB,CAGU3I,kBACR,IAAK,MAAM1F,KAAaC,OAAOC,OAAO,MACpC3F,KAAK0K,UAAU6B,cAAc,CAC3BC,QAAS,KAAW/G,GACpBgH,KAAM,KAAehH,GACrBiH,SAAU,IAAI,oDAGlB,IAAK,MAAOlH,EAAYiH,KAAS,eAAyB,CACxD,MAAOhH,EAAW0E,GAAa3E,EAC/BxF,KAAK0K,UAAU6B,cAAc,CAC3BC,QAAS,QACT3E,KAAM,CAAEpC,YAAW0E,aACnBsC,OACAC,SAAU,IAAI,mD,CAGpB,CAEOnH,MAAM+I,GACX,IAAI,gBAAEyF,EAAe,WAAE1C,GAAe/C,EAAMU,QAC5C,MAAM8E,EAAgBxF,EAAMU,QAAQ/O,MACpC,IAAIiU,EAAiD,KACrD,GAAIJ,EAAe,CACjB,MAAME,EAAUhU,KAAKiU,YAAYH,GAEjC,GADAI,EAAeF,EAAQpG,IAAImG,IAAoB,MAC1CG,GAAgB7C,GACRrR,KAAKmU,qBAAqB9C,EAAWpR,OACvCjB,MACP,MAAQkV,GAAgBH,GACtBA,IACAG,EAAeF,EAAQpG,IAAImG,IAAoB,I,CAMvD,GAAIG,EAAc,CAChB,MAAM,GAAEjO,EAAE,KAAEG,EAAI,QAAED,EAAO,KAAED,GAASgO,EACpC,MAAO,CACLjO,GAAU,MAANA,EACJG,KAAc,MAARA,EACND,QAAoB,MAAXA,EACTD,KAAc,MAARA,E,CAGV,OAAO,EAAAhB,QAAA,WACT,CA4CU4J,aAAaR,GACrB,GAAIA,EAAM2B,WACR,OAEF,MAAM,SAAEzL,GAAaxE,KACrBsO,EAAM4B,YAAY,WAClB1L,EAASsJ,aAAaQ,EAAMU,QAAQnM,KAAMyL,EAAMzL,MAChD,IAAK,MAAM0Q,KAAQjF,EAAMU,QAAQwG,QAC/BjC,EAAKrD,YAAY,YACjBqD,EAAKrD,YAAY,eACjBqD,EAAKrD,YAAY,cACjBqD,EAAK1Q,KAAK0H,aAAa,QAAS,GAEpC,CAEUvC,2BAA2B2M,GACnC,MAAMb,EAAgBa,EAAS1U,MAE/B,IAAK6T,GAAiB9T,KAAKwE,SAASyH,eAAiB0I,EAASmB,OAC5D,OAEF,MAAM9B,EAAUhU,KAAKiU,YAAYH,GAC3BiC,EAAS/V,KAAKgW,WAAWlC,EAAeE,GAE9C,IAAI,gBAAED,GAAoBY,EAEtBpB,EAAOO,EAAcmC,MAAMrI,IAAImG,GAE/BmC,EAA4B,KAEhC,GAAI3C,EAAM,CACR,IAAIV,EAAO7S,KAAKmU,qBAAqBZ,GACjCV,GAAQA,EAAK7T,QACfkX,EAAanC,E,CAIjB,IAAIG,EAAeF,EAAQpG,IAAImG,GAE/B,IAAKG,EAAc,CACjB,GAAkB,MAAdgC,EAAoB,CACtB,IAAIC,EAASnW,KAAKiO,yBAA2B8F,GAAmB,EAAI,EAEpE,YADAY,EAASZ,gBAAkBA,EAAkBoC,E,CAG7C,KAAOpC,IACLA,IACAG,EAAeF,EAAQpG,IAAImG,IACvBG,K,CAOV,IAAKA,EACH,OAGFlU,KAAKiO,yBAA2B8F,EAEhC,IAAIqC,GAAO,EAEPC,EAAeN,EAAOnI,IAAImG,IAAoB,GAElDqC,GAAO,EAEP,IAAI,QAAE5S,GAAYxD,KAAKwE,SAEnB8R,EAA+B,GAEnC,IAAK,MAAM/C,KAAQoB,EAASa,QAC1BY,IAEIC,EAAapJ,SAASmJ,IACxB7C,EAAK9Q,SAAS,YACd8Q,EAAK9Q,SAAS,eACd8Q,EAAK9Q,SAAS,cACVe,GACF8S,EAAS7Y,KAAKuC,KAAKuW,cAAchD,MAGnCA,EAAKrD,YAAY,YACbgE,EAAasC,QAAQvJ,SAASmJ,IAChC7C,EAAK9Q,SAAS,cACd8Q,EAAKkD,aAAajN,UAElB+J,EAAKrD,YAAY,cAEfgE,EAAaoC,SAASrJ,SAASmJ,IACjC7C,EAAK9Q,SAAS,eACVe,GACF8S,EAAS7Y,KAAKuC,KAAKuW,cAAchD,KAGnCA,EAAKrD,YAAY,gBAKvB,EAAAwE,WAAA,uBACEC,EAAS9R,KACT8R,EAASa,QAAQzB,GAAiBlR,MAEpC7C,KAAK8G,eAAevC,UAAK,GACrBvE,KAAKwE,SAAShB,UAChBxD,KAAKwE,SAAShB,QAAQvD,MAAMyW,MAAQJ,EAExC,CAEUvB,c,QACR,IAAIzG,EAAQtO,KAAKwE,SAASyH,aAC1B,KAAKqC,GAAWA,aAAiB,EAAAiG,eAC/B,OAEF,IAAInB,EAAWpT,KAAKwE,SAASwG,MAAcqI,SACvCR,GAAkB,QAAX,EAAAvE,EAAMrO,aAAK,eAAE6S,SAASlF,IAAI,cAAe,EAAA1I,QAAA,YACpDkO,EAAQE,WAAWT,EAAmBvE,GACjB,QAArB,EAAAtO,KAAKwE,SAAShB,eAAO,SAAER,QACzB,CAEUuT,cAAchD,GACtB,MAAO,CACL9S,IAAK8S,EAAKtT,MAAMtC,GAChBkF,KAAM0Q,EAAK1Q,KACX8T,UAAW,IAAM3W,KAAKiV,eAAe1B,GACrCqD,UAAY1V,GAAgClB,KAAKkV,eAAe3B,EAAMrS,GAE1E,CAEU+T,eAAe1B,GACvB,IAGE,OAFaA,EAAKtT,MAAM6S,SAASlF,IAAI,YACjB1M,OAAO,mBAAmB,oB,CAE9C,MACA,OAAO,EAAAgE,QAAA,W,CAEX,CAEUgQ,eAAe3B,EAAwBrS,GAC/C,IAAI2R,EAAQU,EAAKtT,MAAM6S,SAASlF,IAAI,aAAe,CAAC,EAC/CiF,EAAK3R,SACR2R,EAAK3R,OAAS,CAAC,GAEZ2R,EAAK3R,OAAO,qBACf2R,EAAK3R,OAAO,mBAAqB,CAAC,GAEnC2R,EAAK3R,OAAO,mBAA2B,qBAAuBA,EAC/DqS,EAAKtT,MAAM6S,SAASpK,IAAI,WAAY,EAAAxD,QAAA,aACpCqO,EAAKtT,MAAM6S,SAASpK,IAAI,WAAY,IAAKmK,IACzC7S,KAAK+U,aACP,CAGU8B,cAActD,GACtB,OACIA,EAAKT,SAASlF,IAAI,cAAgB,EAAA1I,QAAA,aAAyC,YAC7E,IAEJ,CAEU4R,YACR3H,EACAtP,EACAkX,EAA6C,EAAA7R,QAAA,aAE7C,MAAO,CACL4Q,OAAQ,KACRQ,SAAU,GACVE,QAAS,GACTzX,MAAO,GACPoH,QAAS,KACTD,KAAM,KACND,GAAI,KACJG,KAAM,QACH2Q,EACH5H,QACAtP,YAEJ,CAEUmX,gBACR7H,EACA6E,GAEA,IAAIiD,EAAIjD,EAAQpG,IAAIuB,GAEpB,OAAK8H,GAGEjD,EAAQpG,IAAIqJ,EAAEX,SAAS,KAFrB,IAGX,CAGUnC,qBAAqBZ,GAC7B,OAAQA,EAAKT,SAASlF,IAAI,YACxB,EAAA1I,QAAA,WACJ,CAEAgS,SAAShL,EAAWC,GAClB,OAAOD,EAAIC,CACb,CAEU6J,WACRlC,EACAE,GAEA,IAAKF,EACH,OAAON,EAGT,IAAI2D,EAAenX,KAAK6T,QAAQjG,IAAIkG,GAEpC,GAAIqD,EACF,OAAOA,EAGT,IAEIC,EAFArB,EAAS,IAAIzO,IAIb+P,EAAc,CAChB3Y,MAAO,GACPC,SAAU,GACVE,SAAU,GACVyY,UAAW,GACXC,aAAc,GACd3Y,KAAM,IAER,IAAK,IAAImY,KAAU/C,EAAQrO,SAAU,CACnC,IAAI6R,EAASH,EAAoBN,EAAOlX,WAAa,QACjD2X,GACFA,EAAM/Z,KAAKsZ,EAAO5H,M,CAItBkI,EAAYC,UAAY,IAAID,EAAY3Y,SAAU2Y,EAAY1Y,UAC9D0Y,EAAYE,aAAe,IACtBF,EAAYC,aACZD,EAAYxY,YACZwY,EAAYzY,MAEjB,IAAK,IAAI6B,KAAO4W,EACbA,EAAoB5W,GAAKmL,KAAK5L,KAAKkX,UAGtC,IAAIO,EAAgB,IAAIzD,EAAQvH,QAChCgL,EAAc7L,KAAK5L,KAAKkX,UAExB,IAAItZ,GAAK,EACL8Z,GAAK,EACLC,GAAQ,EACR5P,GAAS,EACT6P,GAAO,EAEX,IAAK,MAAMrE,KAAQ,IAAAsE,SAAQ/D,EAAcmC,OAAQ,CAC/CrY,IACA,IAAI,MAAEoB,GAAUgB,KAAKmU,qBAAqBZ,GAC1C,GAAKvU,EAAL,CAIA,IAAK0Y,KADL3P,EAAQ0P,EAAc,GACZA,GAAe,CACvB,GAAIC,EAAI9Z,EAAG,CACTmK,EAAQ4P,EACR,K,CAEFA,EAAOD,C,CAGT,OADAC,EAAOC,GAAO,EACN5Y,GACN,IAAK,OACH4Y,EAAMH,EAAc/H,OAAO,GAAG,GAC9B,MACF,IAAK,QAEH,IAAKgI,KAAKL,EAAY3Y,MACpB,GAAIgZ,EAAI3P,EAAO,CACb6P,EAAMF,EAAI,EACV,K,CAGJ,MACF,IAAK,QAEH,IAAKA,KAAKL,EAAYC,UACpB,GAAII,EAAI3P,EAAO,CACb6P,EAAMF,EAAI,EACV,K,CAGJ,MACF,IAAK,WAEH,IAAKA,KAAKL,EAAYE,aACpB,GAAIG,EAAI3P,EAAO,CACb6P,EAAMF,EAAI,EACV,K,EAQR,IAAK,IAAII,KAAeL,EAClBK,GAAe/P,GAAS+P,GAAeF,IACzCR,EAAerB,EAAOnI,IAAIkK,IAAgB,KACtB,MAAhBV,EACFA,EAAa3Z,KAAKG,IAElBwZ,EAAe,CAACxZ,GAChBmY,EAAOrN,IAAIoP,EAAaV,I,EAQhC,OAFApX,KAAK6T,QAAQnL,IAAIoL,EAAeiC,GAEzBA,CACT,CAYU9B,YACRH,GAGA,IAAKA,EACH,OAAON,EAET,MAAMuE,EAAgB/X,KAAK4T,SAAShG,IAAIkG,GACxC,GAAIiE,GAAiBA,EAAcC,KACjC,OAAOD,EAET,MAAM/D,EAAwC,IAAI1M,IAC5C2Q,EAA4E,CAChFC,OAAQ,GACRC,UAAW,GACXC,UAAW,GACXC,MAAO,GACP/B,SAAU,IAGZ,IAAInH,GAAS,EACb,IAAK,MAAMoE,KAAQ,IAAAsE,SAAQ/D,EAAcmC,OAAQ,CAC/C9G,IACA,IAAItP,EAAYG,KAAK6W,cAActD,IAC/B,MAAEvU,GAAUgB,KAAKmU,qBAAqBZ,GACtCvU,EACFa,EAAY,OACO,IAAVsP,GAA6B,MAAbtP,GAAmC,aAAdA,IAC9CA,EAAY,SAEd,IAAIkX,EAAS/W,KAAK8W,YAAY3H,EAAOtP,GACjCyY,EAAuCL,EAAOC,OAAO,IAAM,KAC3DK,EAAwCN,EAAOE,UAAU,IAAM,KAC/DK,EAAuCP,EAAOG,UAAU,IAAM,KAC9DK,EAAuCR,EAAOI,MAAM,IAAM,KAC1DK,EAAKD,GAAMD,GAAMD,GAAOD,EAC5B,OAAQzY,GACN,IAAK,OACH,SACF,KAAK,KACH,GAAI4Y,EAAI,CACN,IAAK,IAAIE,KAAKV,EAAOI,MACnBM,EAAEnC,QAAQoC,QAAQzJ,GAEpB,IAAKqJ,EAAI,CACP,IAAItM,EAAIqM,GAAOD,EACXpM,GACFA,EAAEsK,QAAQoC,QAAQzJ,E,CAGtBsJ,EAAGtS,QAAUsS,EAAGrS,KAAO+I,EACvB4H,EAAO7Q,KAAO6Q,EAAO9Q,GAAKwS,EAAGtJ,K,MACpBqJ,GACTA,EAAGhC,QAAQoC,QAAQzJ,GACnBqJ,EAAGrS,QAAUqS,EAAGpS,KAAO+I,EACvB4H,EAAO7Q,KAAO6Q,EAAO9Q,GAAKuS,EAAGrJ,OACpBoJ,GACTA,EAAI/B,QAAQoC,QAAQzJ,GACpBoJ,EAAIpS,QAAUoS,EAAInS,KAAO+I,EACzB4H,EAAO7Q,KAAO6Q,EAAO9Q,GAAKsS,EAAIpJ,OACrBmJ,IACTA,EAAG9B,QAAQoC,QAAQzJ,GACnBmJ,EAAGnS,QAAUmS,EAAGlS,KAAO+I,EACvB4H,EAAO7Q,KAAO6Q,EAAO9Q,GAAKqS,EAAGnJ,OAE/B,IAAK,IAAIwJ,KAAKV,EAAO3B,SACnBqC,EAAErC,SAASsC,QAAQzJ,GAErB8I,EAAO3B,SAASsC,QAAQ7B,GACxBkB,EAAOI,MAAMO,QAAQ7B,GACrBA,EAAOT,SAASsC,YACVF,aAAE,EAAFA,EAAIpC,WAAuC,EAAApR,QAAA,YAEjD6R,EAAOP,QAAQoC,YACTF,aAAE,EAAFA,EAAIlC,UAAsC,EAAAtR,QAAA,YAEhD,MACF,IAAK,QACH,GAAI+S,EAAOE,UAAU7R,QAAUgS,EAAI,CAEjCvB,EAAO7Q,KAAOoS,EAAGnJ,MACjB,IAAK,IAAI0J,IAAK,IAAIZ,EAAOE,UAAWG,GAAK,CACvC,IAAIQ,EAAe9Y,KAAKgX,gBAAgB6B,EAAE1J,MAAO6E,GAC7C8E,IACFA,EAAa3S,QAAUgJ,E,OAGtB,GAAIsJ,EACTA,EAAGtS,QAAUgJ,EACb4H,EAAO7Q,KAAOuS,EAAGtJ,WACZ,GAAIqJ,EACTA,EAAGrS,QAAUgJ,EACb4H,EAAO7Q,KAAOsS,EAAGrJ,WACZ,GAAImJ,EAAI,CACb,IAAIQ,EAAe9Y,KAAKgX,gBAAgBsB,EAAGnJ,MAAO6E,GAC9C8E,IACFA,EAAa3S,QAAUgJ,EACvB4H,EAAO7Q,KAAO4S,EAAa3J,M,CAG/B8I,EAAOE,UAAY,GACnBF,EAAOI,MAAQ,GACfJ,EAAOG,UAAY,GACnBH,EAAO3B,SAAW,CAACS,GACnBkB,EAAOC,OAAOU,QAAQ7B,GACtBA,EAAOT,SAASsC,QAAQzJ,GACxB4H,EAAOP,QAAQoC,QAAQzJ,GACvB,MACF,IAAK,WACH,GAAIsJ,EACFA,EAAGrS,KAAO+I,EACV4H,EAAO9Q,GAAKwS,EAAGtJ,WACV,GAAIqJ,EACTA,EAAGpS,KAAO+I,EACV4H,EAAO9Q,GAAKuS,EAAGrJ,WACV,GAAImJ,EAAI,CACb,IAAIQ,EAAe9Y,KAAKgX,gBAAgBsB,EAAGnJ,MAAO6E,GAC9C8E,IACFA,EAAa1S,KAAO+I,EACpB4H,EAAO9Q,GAAK6S,EAAa3J,OAE3B4H,EAAO7Q,KAAOoS,EAAGpS,I,CAEnB+R,EAAOG,UAAY,GACnBH,EAAOI,MAAQ,GACfJ,EAAO3B,SAAW,CAACS,GACnBkB,EAAOE,UAAUS,QAAQ7B,GACzBA,EAAOT,SAASsC,QAAQzJ,GACxB4H,EAAOP,QAAQoC,QAAQzJ,GACvB,MACF,IAAK,WACH,IAAK,IAAIwJ,KAAKV,EAAO3B,SACnBqC,EAAErC,SAASsC,QAAQzJ,GAErB8I,EAAO3B,SAASsC,QAAQ7B,GACpB0B,GACFA,EAAGrS,KAAOqS,EAAGtS,QAAUgJ,EACvB4H,EAAO9Q,GAAK8Q,EAAO7Q,KAAOuS,EAAGtJ,OACpBqJ,GACTA,EAAGpS,KAAOoS,EAAGrS,QAAUgJ,EACvB4H,EAAO9Q,GAAK8Q,EAAO7Q,KAAOsS,EAAGrJ,OACpBoJ,GACTA,EAAInS,KAAOmS,EAAIpS,QAAUgJ,EACzB4H,EAAO9Q,GAAK8Q,EAAO7Q,KAAOqS,EAAIpJ,OACrBmJ,IACTA,EAAGlS,KAAOkS,EAAGnS,QAAUgJ,EACvB4H,EAAO9Q,GAAK8Q,EAAO7Q,KAAOoS,EAAGnJ,OAE/B8I,EAAOI,MAAQ,GACfJ,EAAO3B,SAASsC,QAAQ7B,GACxBA,EAAOT,SAASsC,YAAYF,aAAE,EAAFA,EAAIpC,WAAY,EAAApR,QAAA,YAC5C6R,EAAOP,QAAQoC,QAAQzJ,MAAWuJ,aAAE,EAAFA,EAAIlC,UAAW,EAAAtR,QAAA,YACjD+S,EAAOG,UAAUQ,QAAQ7B,GACzB,MACF,IAAK,QACC2B,GACFA,EAAG3Z,MAAM6Z,QAAQzJ,GAIvB6E,EAAQtL,IAAIyG,EAAO4H,E,CAKrB,OAFA/W,KAAK4T,SAASlL,IAAIoL,EAAeE,GAE1BA,CACT,E,8BC12BW,IAAI,IALH,CAEdvU,OAAiB,OACjBA,WAAoB,IAML,WAAf,MC6FA,GApFoD,CAClD9B,GAAI,GAAG,EAAAob,YACPC,SAAU,CAAC,EAAAC,YAAa,EAAAC,UAAW,EAAAC,iBAAkB,EAAAC,gBAAiB,EAAAC,cACtEC,SAAU,CAAC,EAAAC,gBAAiB,EAAAC,YAC5BC,SAAU,KACVC,WAAW,EACXC,SAAU,CACRC,EACA9O,EACAF,EACAnC,EACAoR,EACA7O,EACA8O,EACAjP,KAEA,MAAM,SAAEF,GAAaiP,EAEfG,EACJlP,aAAqB,EAAAmP,UAAYnP,EAAuC,KAEpE3K,EAAU,IAAI0G,EAAY,CAC9B+D,WACAC,QACAE,YAAaA,GAAyC,EAAAmP,gBAAgBC,KAAK,EAAAnB,IAC3ElO,UAAWkP,EACX/O,QACAvC,SAAUA,EAASyR,KAAK,MACxBzP,WAAY6K,QAAQC,IAAI,CAACqE,EAAIO,QAASN,EAASO,WAAW5R,MAAK,KAAY,OAGvE,GAAEzI,GAAOG,EAEf,IAAIma,EAAWta,EAAG,MASlB,OAPI+Z,IACFA,EAAQnE,QAAQ,CAAEnJ,QAAS,WAAkB6N,aAC7CP,EAAQnE,QAAQ,CAAEnJ,QAAS,UAAiB6N,aAC5CP,EAAQnE,QAAQ,CAAEnJ,QAAS,iBAAwB6N,aACnDP,EAAQnE,QAAQ,CAAEnJ,QAAS,iBAAwB6N,cAG9Cna,CAAO,GAIkC,CAClDvC,GAAI,GAAG,EAAAob,eACPC,SAAU,CAAC,EAAAsB,eAAgB,MAC3BZ,WAAW,EACXC,SAAU,CACRC,EACA1I,EACAqJ,KAEA,MAAM,SAAE5P,GAAaiP,EACflQ,EAAY,IAAIgK,EAAkB,CACtCxT,QAASqa,EACTrJ,gBACAvG,aAEF4P,EAAM7O,aAAahC,GAEnBkQ,EAAIY,YAAYC,mBACd,WACA,IAAItK,EAAsB,CAAExF,WAAUjB,cACvC,GAIqD,CACxD/L,GAAI,GAAG,EAAAob,qBACPC,SAAU,CAAC,MACXU,WAAW,EACXC,SAAU,CAACC,EAAsBW,KAC/B,MAAM,SAAE5P,GAAaiP,EACflQ,EAAY,IAAIsE,EAAwB,CAC5C9N,QAASqa,EACT5P,aAEF4P,EAAM7O,aAAahC,EAAU,G,4+CCvFpBgR,E,SAEA3B,EAAK2B,EAAQzc,KACb0c,EAAUD,EAAQE,QAClBC,EAAY,GAAG9B,WACf+B,EAAW,QAmCXC,EAAe,IAAI,EAAAC,MAAoBH,GAUvCI,EAAmCvV,OAAO+N,OAAO,CAC5DrQ,QAAQ,EACRvD,WAAW,EACXe,YAAY,EACZmD,WAAW,EACXoU,WAAW,IAyBN,IAAU+C,EAOAC,EAqDAvJ,GA5DjB,SAAiBsJ,GACF,EAAAE,SAAW,aACX,EAAAnI,WAAa,aACb,EAAAoI,WAAa,mBACb,EAAAC,UAAY,WAC1B,CALD,CAAiBJ,IAAAA,EAAI,KAOrB,SAAiBC,GAEF,EAAAI,SAAW,kBACX,EAAAnb,KAAO,WACP,EAAAob,UAAY,iBACZ,EAAAC,aAAe,oBACf,EAAAC,SAAW,gBACX,EAAAC,cAAgB,oBAChB,EAAAC,OAAS,gBACT,EAAAC,OAAS,gBACT,EAAAtO,OAAS,gBACT,EAAAuO,YAAc,wBACd,EAAAC,iBAAmB,sBACnB,EAAAC,eAAiB,oBAEjB,EAAA/c,KAAO,UACP,EAAAgU,WAAa,uBAAuBiI,EAAKjI,eAEzC,EAAAgJ,OAAS,iBACT,EAAAzW,WAAa,4BACb,EAAAO,KAAO,mBACP,EAAAmW,YAAc,6BAEd,EAAAzW,UAAY,wBACZ,EAAA6Q,SAAW,uBACX,EAAAE,QAAU,sBACV,EAAAxX,MAAQ,oBAER,EAAAmd,SAAW,mBACX,EAAAC,YAAc,sBACd,EAAAC,UAAY,qBACZ,EAAAC,WAAa,sBACb,EAAAC,MAAQ,oBAER,EAAA/Y,QAAU,kBACV,EAAAgZ,YAAc,sBACd,EAAAC,iBAAmB,uBACnB,EAAAC,cAAgB,wBAChB,EAAAC,SAAW,uBACX,EAAAC,eAAiB,yBAEjB,EAAAC,YAAc,sBACd,EAAAnQ,SAAW,+BACX,EAAAoQ,OAAS,6BACT,EAAAjd,UAAY,wBACZ,EAAAe,WAAa,yBACb,EAAAzB,KAAO,mBACP,EAAAE,QAAU,sBACV,EAAAD,OAAS,sBAET,EAAA0Q,MAAQ,oBACtB,CAnDD,CAAiBqL,IAAAA,EAAG,KAqDpB,SAAiBvJ,GACF,EAAAmL,YAAc,+BACd,EAAAC,aAAe,+BAC7B,CAHD,CAAiBpL,IAAAA,EAAE,KAKZ,MAAMqL,EAAQ,KAMRC,EAAwC,CACnDjX,GAAI,KACJG,KAAM,OACNF,KAAM,OACNC,QAAS,WAGEgX,EAA8C,CACzDhX,QAAS,oCACTD,KAAM,wCACND,GAAI,mDACJG,KAAM,2CAGKgX,EAA+C,CAC1DjX,QAAS,CAAC,cACVD,KAAM,CAAC,aACPD,GAAI,CAAC,WACLG,KAAM,CAAC,cAGIiX,EAAiB,IAAI/V,IAAsC,CACtE,CAAC,CAAC4V,EAAU9W,KAAM8W,EAAU/W,SAAU,2CACtC,CAAC,CAAC+W,EAAUjX,GAAIiX,EAAUhX,MAAO,iDAGtBoX,EAAgB,IAAIhW,IAAwC,CACvE,CAAC,CAAC4V,EAAU9W,KAAM8W,EAAU/W,SAAU,CAAC,UACvC,CAAC,CAAC+W,EAAUjX,GAAIiX,EAAUhX,MAAO,CAAC,kBAG7B,IAAUqX,EAiBAC,GAjBjB,SAAiBD,GAEF,EAAAE,OAAS,cACT,EAAA1V,MAAQ,aACR,EAAAhC,KAAO,YAEP,EAAAF,GAAK,UAEL,EAAAM,QAAU,eACV,EAAAD,KAAO,YACP,EAAAE,KAAO,YACP,EAAAH,GAAK,UAEL,EAAAvC,YAAc,oBACd,EAAAD,YAAc,mBAC5B,CAfD,CAAiB8Z,IAAAA,EAAU,KAiB3B,SAAiBC,GAEF,EAAA/e,UAAY,YACZ,EAAAoB,UAAY,aAEZ,EAAAmL,MAAQ,eACR,EAAA0S,aAAe,GACf,EAAAC,eAAiB,yCAEjB,EAAA1e,KAAO8Z,EAAG6E,MAAM,KAAK,GACrB,EAAA5e,MAAQ,OACtB,CAXD,CAAiBwe,IAAAA,EAAI,KAiBd,MAAMK,EAAc,CAAC,QAAS,WAAY,KAAM,WAAY,QAAS,QAK/DC,EAAe,CAAC,OAAQ,QAAS,QAAS,YAK1CC,EAAiD,CAC5D,IAAK,oCACL9e,KAAM,wCACNC,MAAO,wCACPR,MAAO,qDACPG,SAAU,qC,SC7OZnB,EAAOsgB,QAAU,SAAUC,GACzB,IAAIC,EAAO,GAuDX,OArDAA,EAAKC,SAAW,WACd,OAAOne,KAAKyV,KAAI,SAAU5R,GACxB,IAAImL,EAAUiP,EAAuBpa,GAErC,OAAIA,EAAK,GACA,UAAUua,OAAOva,EAAK,GAAI,MAAMua,OAAOpP,EAAS,KAGlDA,CACT,IAAGqP,KAAK,GACV,EAIAH,EAAKtgB,EAAI,SAAU0gB,EAASC,EAAYC,GACf,iBAAZF,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAIG,EAAyB,CAAC,EAE9B,GAAID,EACF,IAAK,IAAI5gB,EAAI,EAAGA,EAAIoC,KAAKsG,OAAQ1I,IAAK,CAEpC,IAAID,EAAKqC,KAAKpC,GAAG,GAEP,MAAND,IACF8gB,EAAuB9gB,IAAM,EAEjC,CAGF,IAAK,IAAI+gB,EAAK,EAAGA,EAAKJ,EAAQhY,OAAQoY,IAAM,CAC1C,IAAI7a,EAAO,GAAGua,OAAOE,EAAQI,IAEzBF,GAAUC,EAAuB5a,EAAK,MAKtC0a,IACG1a,EAAK,GAGRA,EAAK,GAAK,GAAGua,OAAOG,EAAY,SAASH,OAAOva,EAAK,IAFrDA,EAAK,GAAK0a,GAMdL,EAAKzgB,KAAKoG,GACZ,CACF,EAEOqa,CACT,C,UCzDA,SAASS,EAAkBC,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAItY,UAAQuY,EAAMD,EAAItY,QAAQ,IAAK,IAAI1I,EAAI,EAAGkhB,EAAO,IAAIC,MAAMF,GAAMjhB,EAAIihB,EAAKjhB,IAAOkhB,EAAKlhB,GAAKghB,EAAIhhB,GAAM,OAAOkhB,CAAM,CAMtLphB,EAAOsgB,QAAU,SAAgCna,GAC/C,IAbsB+a,EAAKhhB,EAavBohB,GAbuBphB,EAaM,EAHnC,SAAyBghB,GAAO,GAAIG,MAAME,QAAQL,GAAM,OAAOA,CAAK,CAV3BM,CAAjBN,EAaK/a,IAL7B,SAA+B+a,EAAKhhB,GAAK,IAAI8gB,EAAKE,IAA0B,oBAAXO,QAA0BP,EAAIO,OAAOC,WAAaR,EAAI,eAAgB,GAAU,MAANF,EAAJ,CAAwB,IAAkDW,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKf,EAAKA,EAAGrJ,KAAKuJ,KAAQY,GAAMH,EAAKX,EAAGrR,QAAQqS,QAAoBH,EAAK9hB,KAAK4hB,EAAG/d,QAAY1D,GAAK2hB,EAAKjZ,SAAW1I,GAA3D4hB,GAAK,GAA0M,CAAtI,MAAOG,GAAOF,GAAK,EAAMH,EAAKK,CAAK,CAAE,QAAU,IAAWH,GAAsB,MAAhBd,EAAW,QAAWA,EAAW,QAAmC,CAA5B,QAAU,GAAIe,EAAI,MAAMH,CAAI,CAAE,CAAE,OAAOC,CAAjV,CAAuV,CARnbK,CAAsBhB,EAAKhhB,IAI5F,SAAqCiiB,EAAGC,GAAU,GAAKD,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAOlB,EAAkBkB,EAAGC,GAAS,IAAInH,EAAIjT,OAAOqa,UAAU5B,SAAS9I,KAAKwK,GAAGnQ,MAAM,GAAI,GAAiE,MAAnD,WAANiJ,GAAkBkH,EAAErgB,cAAamZ,EAAIkH,EAAErgB,YAAYvB,MAAgB,QAAN0a,GAAqB,QAANA,EAAoBoG,MAAMiB,KAAKH,GAAc,cAANlH,GAAqB,2CAA2CsH,KAAKtH,GAAWgG,EAAkBkB,EAAGC,QAAzG,CAA7O,CAA+V,CAJ7TI,CAA4BtB,EAAKhhB,IAEnI,WAA8B,MAAM,IAAIuiB,UAAU,4IAA8I,CAFvDC,IAcnIpR,EAAUgQ,EAAM,GAChBqB,EAAarB,EAAM,GAEvB,IAAKqB,EACH,OAAOrR,EAGT,GAAoB,mBAATsR,KAAqB,CAE9B,IAAIC,EAASD,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUN,MACzDO,EAAO,+DAA+DxC,OAAOmC,GAC7EM,EAAgB,OAAOzC,OAAOwC,EAAM,OACpCE,EAAaT,EAAWU,QAAQtL,KAAI,SAAUuL,GAChD,MAAO,iBAAiB5C,OAAOiC,EAAWY,YAAc,IAAI7C,OAAO4C,EAAQ,MAC7E,IACA,MAAO,CAAChS,GAASoP,OAAO0C,GAAY1C,OAAO,CAACyC,IAAgBxC,KAAK,KACnE,CAEA,MAAO,CAACrP,GAASqP,KAAK,KACxB,C,eCjCA,IACM6C,EAeFC,EAAY,WACd,IAAID,EAAO,CAAC,EACZ,OAAO,SAAkB1O,GACvB,QAA4B,IAAjB0O,EAAK1O,GAAyB,CACvC,IAAI4O,EAAc1e,SAAS2e,cAAc7O,GAEzC,GAAInJ,OAAOiY,mBAAqBF,aAAuB/X,OAAOiY,kBAC5D,IAGEF,EAAcA,EAAYG,gBAAgBC,IAI5C,CAHE,MAAOvK,GAEPmK,EAAc,IAChB,CAGFF,EAAK1O,GAAU4O,CACjB,CAEA,OAAOF,EAAK1O,EACd,CACF,CAtBgB,GAwBZiP,EAAc,GAElB,SAASC,EAAqBC,GAG5B,IAFA,IAAIC,GAAU,EAELhkB,EAAI,EAAGA,EAAI6jB,EAAYnb,OAAQ1I,IACtC,GAAI6jB,EAAY7jB,GAAG+jB,aAAeA,EAAY,CAC5CC,EAAShkB,EACT,KACF,CAGF,OAAOgkB,CACT,CAEA,SAASC,EAAa3D,EAAMze,GAI1B,IAHA,IAAIqiB,EAAa,CAAC,EACdC,EAAc,GAETnkB,EAAI,EAAGA,EAAIsgB,EAAK5X,OAAQ1I,IAAK,CACpC,IAAIiG,EAAOqa,EAAKtgB,GACZD,EAAK8B,EAAQuiB,KAAOne,EAAK,GAAKpE,EAAQuiB,KAAOne,EAAK,GAClDoe,EAAQH,EAAWnkB,IAAO,EAC1BgkB,EAAa,GAAGvD,OAAOzgB,EAAI,KAAKygB,OAAO6D,GAC3CH,EAAWnkB,GAAMskB,EAAQ,EACzB,IAAI9S,EAAQuS,EAAqBC,GAC7BO,EAAM,CACRC,IAAKte,EAAK,GACVue,MAAOve,EAAK,GACZwe,UAAWxe,EAAK,KAGH,IAAXsL,GACFsS,EAAYtS,GAAOmT,aACnBb,EAAYtS,GAAOoT,QAAQL,IAE3BT,EAAYhkB,KAAK,CACfkkB,WAAYA,EACZY,QAASC,EAASN,EAAKziB,GACvB6iB,WAAY,IAIhBP,EAAYtkB,KAAKkkB,EACnB,CAEA,OAAOI,CACT,CAEA,SAASU,EAAmBhjB,GAC1B,IAAI2K,EAAQ1H,SAASqN,cAAc,SAC/B2S,EAAajjB,EAAQijB,YAAc,CAAC,EAExC,QAAgC,IAArBA,EAAWC,MAAuB,CAC3C,IAAIA,EAAmD,KAEnDA,IACFD,EAAWC,MAAQA,EAEvB,CAMA,GAJAjd,OAAO+G,KAAKiW,GAAYE,SAAQ,SAAUniB,GACxC2J,EAAMG,aAAa9J,EAAKiiB,EAAWjiB,GACrC,IAE8B,mBAAnBhB,EAAQojB,OACjBpjB,EAAQojB,OAAOzY,OACV,CACL,IAAIoI,EAAS2O,EAAU1hB,EAAQojB,QAAU,QAEzC,IAAKrQ,EACH,MAAM,IAAIsQ,MAAM,2GAGlBtQ,EAAO5P,YAAYwH,EACrB,CAEA,OAAOA,CACT,CAaA,IACM2Y,EADFC,GACED,EAAY,GACT,SAAiB5T,EAAO8T,GAE7B,OADAF,EAAU5T,GAAS8T,EACZF,EAAUG,OAAOC,SAAS9E,KAAK,KACxC,GAGF,SAAS+E,EAAoBhZ,EAAO+E,EAAOkU,EAAQnB,GACjD,IAAIC,EAAMkB,EAAS,GAAKnB,EAAIE,MAAQ,UAAUhE,OAAO8D,EAAIE,MAAO,MAAMhE,OAAO8D,EAAIC,IAAK,KAAOD,EAAIC,IAIjG,GAAI/X,EAAMkZ,WACRlZ,EAAMkZ,WAAWC,QAAUP,EAAY7T,EAAOgT,OACzC,CACL,IAAIqB,EAAU9gB,SAAS+gB,eAAetB,GAClCuB,EAAatZ,EAAMsZ,WAEnBA,EAAWvU,IACb/E,EAAMrH,YAAY2gB,EAAWvU,IAG3BuU,EAAWpd,OACb8D,EAAMuZ,aAAaH,EAASE,EAAWvU,IAEvC/E,EAAMxH,YAAY4gB,EAEtB,CACF,CAEA,SAASI,EAAWxZ,EAAO3K,EAASyiB,GAClC,IAAIC,EAAMD,EAAIC,IACVC,EAAQF,EAAIE,MACZC,EAAYH,EAAIG,UAepB,GAbID,EACFhY,EAAMG,aAAa,QAAS6X,GAE5BhY,EAAMyZ,gBAAgB,SAGpBxB,GAA6B,oBAAT/B,OACtB6B,GAAO,uDAAuD/D,OAAOkC,KAAKE,SAASC,mBAAmBC,KAAKC,UAAU0B,MAAe,QAMlIjY,EAAMkZ,WACRlZ,EAAMkZ,WAAWC,QAAUpB,MACtB,CACL,KAAO/X,EAAM0Z,YACX1Z,EAAMrH,YAAYqH,EAAM0Z,YAG1B1Z,EAAMxH,YAAYF,SAAS+gB,eAAetB,GAC5C,CACF,CAEA,IAAI4B,EAAY,KACZC,EAAmB,EAEvB,SAASxB,EAASN,EAAKziB,GACrB,IAAI2K,EACAZ,EACA6Z,EAEJ,GAAI5jB,EAAQskB,UAAW,CACrB,IAAIE,EAAaD,IACjB5Z,EAAQ2Z,IAAcA,EAAYtB,EAAmBhjB,IACrD+J,EAAS4Z,EAAoBc,KAAK,KAAM9Z,EAAO6Z,GAAY,GAC3DZ,EAASD,EAAoBc,KAAK,KAAM9Z,EAAO6Z,GAAY,EAC7D,MACE7Z,EAAQqY,EAAmBhjB,GAC3B+J,EAASoa,EAAWM,KAAK,KAAM9Z,EAAO3K,GAEtC4jB,EAAS,YAxFb,SAA4BjZ,GAE1B,GAAyB,OAArBA,EAAM+Z,WACR,OAAO,EAGT/Z,EAAM+Z,WAAWphB,YAAYqH,EAC/B,CAkFMga,CAAmBha,EACrB,EAIF,OADAZ,EAAO0Y,GACA,SAAqBmC,GAC1B,GAAIA,EAAQ,CACV,GAAIA,EAAOlC,MAAQD,EAAIC,KAAOkC,EAAOjC,QAAUF,EAAIE,OAASiC,EAAOhC,YAAcH,EAAIG,UACnF,OAGF7Y,EAAO0Y,EAAMmC,EACf,MACEhB,GAEJ,CACF,CAEA3lB,EAAOsgB,QAAU,SAAUE,EAAMze,IAC/BA,EAAUA,GAAW,CAAC,GAGTskB,WAA0C,kBAAtBtkB,EAAQskB,YACvCtkB,EAAQskB,gBArOY,IAAT7C,IAMTA,EAAOiC,QAAQ9Z,QAAU3G,UAAYA,SAAS6S,MAAQlM,OAAOib,OAGxDpD,IAgOT,IAAIqD,EAAkB1C,EADtB3D,EAAOA,GAAQ,GAC0Bze,GACzC,OAAO,SAAgB+kB,GAGrB,GAFAA,EAAUA,GAAW,GAE2B,mBAA5C9e,OAAOqa,UAAU5B,SAAS9I,KAAKmP,GAAnC,CAIA,IAAK,IAAI5mB,EAAI,EAAGA,EAAI2mB,EAAgBje,OAAQ1I,IAAK,CAC/C,IACIuR,EAAQuS,EADK6C,EAAgB3mB,IAEjC6jB,EAAYtS,GAAOmT,YACrB,CAIA,IAFA,IAAImC,EAAqB5C,EAAa2C,EAAS/kB,GAEtCif,EAAK,EAAGA,EAAK6F,EAAgBje,OAAQoY,IAAM,CAClD,IAEIgG,EAAShD,EAFK6C,EAAgB7F,IAIK,IAAnC+C,EAAYiD,GAAQpC,aACtBb,EAAYiD,GAAQnC,UAEpBd,EAAYvU,OAAOwX,EAAQ,GAE/B,CAEAH,EAAkBE,CAtBlB,CAuBF,CACF,C","sources":["webpack://@deathbeds/jupyterlab-deck/./style/decktools.css","webpack://@deathbeds/jupyterlab-deck/./style/design.css","webpack://@deathbeds/jupyterlab-deck/./style/index.css","webpack://@deathbeds/jupyterlab-deck/./style/layover.css","webpack://@deathbeds/jupyterlab-deck/./style/markdown.css","webpack://@deathbeds/jupyterlab-deck/./style/notebook.css","webpack://@deathbeds/jupyterlab-deck/./style/remote.css","webpack://@deathbeds/jupyterlab-deck/./style/shell.css","webpack://@deathbeds/jupyterlab-deck/./style/variables.css","webpack://@deathbeds/jupyterlab-deck/./style/img/chat-remove-outline.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/deck.svg","webpack://@deathbeds/jupyterlab-deck/./src/icons.ts","webpack://@deathbeds/jupyterlab-deck/./style/img/transform.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/transform-stop.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/plus-box.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/plus-box-multiple.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/checkbox-blank-outline.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/checkbox-intermediate-variant.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/close-box-outline.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/image-filter-hdr.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/image-outline-multiple.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/image-outline.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/message-image-outline.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/image-off-outline.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/loupe.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/order-numeric-descending.svg","webpack://@deathbeds/jupyterlab-deck/./style/img/square-opacity.svg","webpack://@deathbeds/jupyterlab-deck/./src/tools/design.tsx","webpack://@deathbeds/jupyterlab-deck/./src/tools/remote.tsx","webpack://@deathbeds/jupyterlab-deck/./src/manager.ts","webpack://@deathbeds/jupyterlab-deck/./src/markdown/presenter.ts","webpack://@deathbeds/jupyterlab-deck/./src/notebook/extension.ts","webpack://@deathbeds/jupyterlab-deck/./src/notebook/metadata.tsx","webpack://@deathbeds/jupyterlab-deck/./src/notebook/presenter.ts","webpack://@deathbeds/jupyterlab-deck/./style/index.css?f019","webpack://@deathbeds/jupyterlab-deck/./src/plugin.ts","webpack://@deathbeds/jupyterlab-deck/./src/tokens.ts","webpack://@deathbeds/jupyterlab-deck/../../node_modules/css-loader/dist/runtime/api.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://@deathbeds/jupyterlab-deck/../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jp-Deck-SelectSplit {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.jp-Deck-SelectSplit .jp-select-wrapper {\\n  flex: 1;\\n  margin: 0;\\n  height: unset;\\n}\\n\\n.jp-Deck-SelectSplit button {\\n  flex-shrink: 1;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/decktools.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,OAAO;EACP,SAAS;EACT,aAAa;AACf;;AAEA;EACE,cAAc;AAChB\",\"sourcesContent\":[\".jp-Deck-SelectSplit {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.jp-Deck-SelectSplit .jp-select-wrapper {\\n  flex: 1;\\n  margin: 0;\\n  height: unset;\\n}\\n\\n.jp-Deck-SelectSplit button {\\n  flex-shrink: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jp-Deck-DesignTools {\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  z-index: var(--jp-deck-z-remote);\\n}\\n\\n.jp-Deck-DesignTools label {\\n  color: var(--jp-ui-font-color1);\\n}\\n\\n.jp-Deck-DesignTools > div {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n  align-items: end;\\n}\\n\\n.jp-Deck-DesignTools button {\\n  border: 0;\\n  background-color: transparent;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-DesignTools button label {\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li {\\n  align-items: center;\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  margin: 0;\\n  opacity: 0.25;\\n  padding: 0;\\n  transition: opacity 0.1s;\\n}\\n\\n/* stlyelint wants these here... */\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider label {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider label span {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider:hover label span {\\n  display: block;\\n}\\n\\n/* and now back ... */\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li label {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:hover,\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:active {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:hover label,\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:active label {\\n  display: block;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li.jp-mod-active {\\n  opacity: 1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:not(.jp-mod-active) {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector:hover li:not(.jp-mod-active) {\\n  display: block;\\n}\\n\\n/* slider */\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: start;\\n  opacity: 0.5;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider.jp-mod-active {\\n  opacity: 1;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider input {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider input[type='checkbox'] {\\n  width: var(--jp-deck-checkbox-width);\\n  flex: 0;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider input[type='range'] {\\n  flex: 1;\\n  appearance: slider-vertical;\\n  width: var(--jp-deck-vslider-width);\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider:hover input,\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider:active input {\\n  display: block;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/design.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,OAAO;EACP,SAAS;EACT,aAAa;EACb,sBAAsB;EACtB,gCAAgC;AAClC;;AAEA;EACE,+BAA+B;AACjC;;AAEA;EACE,aAAa;EACb,OAAO;EACP,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,6BAA6B;EAC7B,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,OAAO;EACP,sBAAsB;EACtB,SAAS;EACT,UAAU;EACV,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,mBAAmB;EACnB,OAAO;EACP,SAAS;EACT,aAAa;EACb,UAAU;EACV,wBAAwB;AAC1B;;AAEA,kCAAkC;AAClC;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA,qBAAqB;;AAErB;EACE,aAAa;AACf;;AAEA;;EAEE,YAAY;EACZ,wBAAwB;AAC1B;;AAEA;;EAEE,cAAc;AAChB;;AAEA;EACE,UAAU;EACV,wBAAwB;AAC1B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA,WAAW;AACX;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oCAAoC;EACpC,OAAO;AACT;;AAEA;EACE,OAAO;EACP,2BAA2B;EAC3B,mCAAmC;AACrC;;AAEA;;EAEE,cAAc;AAChB\",\"sourcesContent\":[\".jp-Deck-DesignTools {\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  z-index: var(--jp-deck-z-remote);\\n}\\n\\n.jp-Deck-DesignTools label {\\n  color: var(--jp-ui-font-color1);\\n}\\n\\n.jp-Deck-DesignTools > div {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n  align-items: end;\\n}\\n\\n.jp-Deck-DesignTools button {\\n  border: 0;\\n  background-color: transparent;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-DesignTools button label {\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li {\\n  align-items: center;\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1;\\n  margin: 0;\\n  opacity: 0.25;\\n  padding: 0;\\n  transition: opacity 0.1s;\\n}\\n\\n/* stlyelint wants these here... */\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider label {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider label span {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider:hover label span {\\n  display: block;\\n}\\n\\n/* and now back ... */\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li label {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:hover,\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:active {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:hover label,\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:active label {\\n  display: block;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li.jp-mod-active {\\n  opacity: 1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector li:not(.jp-mod-active) {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Selector:hover li:not(.jp-mod-active) {\\n  display: block;\\n}\\n\\n/* slider */\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: start;\\n  opacity: 0.5;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider.jp-mod-active {\\n  opacity: 1;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider input {\\n  display: none;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider input[type='checkbox'] {\\n  width: var(--jp-deck-checkbox-width);\\n  flex: 0;\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider input[type='range'] {\\n  flex: 1;\\n  appearance: slider-vertical;\\n  width: var(--jp-deck-vslider-width);\\n}\\n\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider:hover input,\\n.jp-Deck-DesignTools .jp-Deck-DesignTools-Slider:active input {\\n  display: block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./variables.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_1___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./shell.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_2___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./remote.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_3___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./decktools.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_4___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./layover.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_5___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./design.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_6___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./markdown.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_7___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./notebook.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_2___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_3___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_4___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_5___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_6___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_7___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* tools */\\n\\n/* docs */\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/index.css\"],\"names\":[],\"mappings\":\"AAGA,UAAU;;AAMV,SAAS\",\"sourcesContent\":[\"@import './variables.css';\\n@import './shell.css';\\n\\n/* tools */\\n@import './remote.css';\\n@import './decktools.css';\\n@import './layover.css';\\n@import './design.css';\\n\\n/* docs */\\n@import './markdown.css';\\n@import './notebook.css';\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jp-Deck-Layover {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  background-color: rgba(0, 0, 0, 0.06);\\n  pointer-events: none;\\n}\\n\\n.jp-Deck-Layover .jp-deck-mod-dragging {\\n  z-index: var(--jp-deck-z-layover);\\n  cursor: grabbing;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart {\\n  position: absolute;\\n  pointer-events: all;\\n  border: solid 2px var(--jp-deck-layover-color);\\n  opacity: 0.25;\\n  cursor: grab;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart:hover,\\n.jp-Deck-Layover .jp-Deck-LayoverPart:active {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-LayoverHandle {\\n  border: solid 1px var(--jp-deck-layover-color);\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart .jp-Deck-LayoverHandle {\\n  position: absolute;\\n  width: var(--jp-deck-handle-size);\\n  height: var(--jp-deck-handle-size);\\n  opacity: 0.1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverHandle:hover {\\n  opacity: 1;\\n  background-color: var(--jp-deck-layover-color);\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart:hover .jp-Deck-LayoverHandle,\\n.jp-Deck-Layover .jp-Deck-LayoverPart:active .jp-Deck-LayoverHandle {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n/* centering */\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-n,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-s {\\n  left: 50%;\\n  margin-left: calc(-0.5 * var(--jp-deck-handle-size));\\n  cursor: ns-resize;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-e,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-w {\\n  top: 50%;\\n  margin-top: calc(-0.5 * var(--jp-deck-handle-size));\\n  cursor: ew-resize;\\n}\\n\\n/* border and position */\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-n,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-nw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-ne {\\n  top: 0;\\n  border-top: 0;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-s,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-sw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-se {\\n  bottom: 0;\\n  border-bottom: 0;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-e,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-ne,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-se {\\n  right: 0;\\n  border-right: 0;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-w,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-nw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-sw {\\n  left: 0;\\n  border-left: 0;\\n}\\n\\n/** extra cursors */\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-ne,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-sw {\\n  cursor: nesw-resize;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-nw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-se {\\n  cursor: nwse-resize;\\n}\\n\\n/* index */\\n\\n.jp-Deck-Layover .jp-Deck-LayoverUnstyle,\\n.jp-Deck-Layover .jp-Deck-LayoverLabel {\\n  line-height: 1.75;\\n  font-weight: bold;\\n  position: absolute;\\n  margin-top: calc(-0.5 * var(--jp-deck-handle-size));\\n  margin-left: calc(-0.5 * var(--jp-deck-handle-size));\\n  text-align: center;\\n  height: var(--jp-deck-handle-size);\\n  width: var(--jp-deck-handle-size);\\n  color: var(--jp-layout-color0);\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverLabel {\\n  background-color: var(--jp-deck-layover-color);\\n  left: 50%;\\n  top: 50%;\\n  border-radius: var(--jp-deck-handle-size);\\n  border: solid 1px var(--jp-deck-layover-color);\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverUnstyle {\\n  background-color: var(--jp-error-color1);\\n  border: none;\\n  left: 75%;\\n  margin-top: calc(-0.5 * var(--jp-deck-handle-size));\\n  top: 50%;\\n  cursor: pointer;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/layover.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,QAAQ;EACR,MAAM;EACN,SAAS;EACT,OAAO;EACP,qCAAqC;EACrC,oBAAoB;AACtB;;AAEA;EACE,iCAAiC;EACjC,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,8CAA8C;EAC9C,aAAa;EACb,YAAY;AACd;;AAEA;;EAEE,YAAY;EACZ,wBAAwB;AAC1B;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,kBAAkB;EAClB,iCAAiC;EACjC,kCAAkC;EAClC,YAAY;EACZ,wBAAwB;AAC1B;;AAEA;EACE,UAAU;EACV,8CAA8C;EAC9C,wBAAwB;AAC1B;;AAEA;;EAEE,YAAY;EACZ,wBAAwB;AAC1B;;AAEA,cAAc;AACd;;EAEE,SAAS;EACT,oDAAoD;EACpD,iBAAiB;AACnB;;AAEA;;EAEE,QAAQ;EACR,mDAAmD;EACnD,iBAAiB;AACnB;;AAEA,wBAAwB;AACxB;;;EAGE,MAAM;EACN,aAAa;AACf;;AAEA;;;EAGE,SAAS;EACT,gBAAgB;AAClB;;AAEA;;;EAGE,QAAQ;EACR,eAAe;AACjB;;AAEA;;;EAGE,OAAO;EACP,cAAc;AAChB;;AAEA,mBAAmB;AACnB;;EAEE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA,UAAU;;AAEV;;EAEE,iBAAiB;EACjB,iBAAiB;EACjB,kBAAkB;EAClB,mDAAmD;EACnD,oDAAoD;EACpD,kBAAkB;EAClB,kCAAkC;EAClC,iCAAiC;EACjC,8BAA8B;AAChC;;AAEA;EACE,8CAA8C;EAC9C,SAAS;EACT,QAAQ;EACR,yCAAyC;EACzC,8CAA8C;AAChD;;AAEA;EACE,wCAAwC;EACxC,YAAY;EACZ,SAAS;EACT,mDAAmD;EACnD,QAAQ;EACR,eAAe;AACjB\",\"sourcesContent\":[\".jp-Deck-Layover {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  background-color: rgba(0, 0, 0, 0.06);\\n  pointer-events: none;\\n}\\n\\n.jp-Deck-Layover .jp-deck-mod-dragging {\\n  z-index: var(--jp-deck-z-layover);\\n  cursor: grabbing;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart {\\n  position: absolute;\\n  pointer-events: all;\\n  border: solid 2px var(--jp-deck-layover-color);\\n  opacity: 0.25;\\n  cursor: grab;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart:hover,\\n.jp-Deck-Layover .jp-Deck-LayoverPart:active {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-LayoverHandle {\\n  border: solid 1px var(--jp-deck-layover-color);\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart .jp-Deck-LayoverHandle {\\n  position: absolute;\\n  width: var(--jp-deck-handle-size);\\n  height: var(--jp-deck-handle-size);\\n  opacity: 0.1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverHandle:hover {\\n  opacity: 1;\\n  background-color: var(--jp-deck-layover-color);\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverPart:hover .jp-Deck-LayoverHandle,\\n.jp-Deck-Layover .jp-Deck-LayoverPart:active .jp-Deck-LayoverHandle {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n/* centering */\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-n,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-s {\\n  left: 50%;\\n  margin-left: calc(-0.5 * var(--jp-deck-handle-size));\\n  cursor: ns-resize;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-e,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-w {\\n  top: 50%;\\n  margin-top: calc(-0.5 * var(--jp-deck-handle-size));\\n  cursor: ew-resize;\\n}\\n\\n/* border and position */\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-n,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-nw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-ne {\\n  top: 0;\\n  border-top: 0;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-s,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-sw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-se {\\n  bottom: 0;\\n  border-bottom: 0;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-e,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-ne,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-se {\\n  right: 0;\\n  border-right: 0;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-w,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-nw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-sw {\\n  left: 0;\\n  border-left: 0;\\n}\\n\\n/** extra cursors */\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-ne,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-sw {\\n  cursor: nesw-resize;\\n}\\n\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-nw,\\n.jp-Deck-LayoverHandle.jp-Deck-LayoverHandle-se {\\n  cursor: nwse-resize;\\n}\\n\\n/* index */\\n\\n.jp-Deck-Layover .jp-Deck-LayoverUnstyle,\\n.jp-Deck-Layover .jp-Deck-LayoverLabel {\\n  line-height: 1.75;\\n  font-weight: bold;\\n  position: absolute;\\n  margin-top: calc(-0.5 * var(--jp-deck-handle-size));\\n  margin-left: calc(-0.5 * var(--jp-deck-handle-size));\\n  text-align: center;\\n  height: var(--jp-deck-handle-size);\\n  width: var(--jp-deck-handle-size);\\n  color: var(--jp-layout-color0);\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverLabel {\\n  background-color: var(--jp-deck-layover-color);\\n  left: 50%;\\n  top: 50%;\\n  border-radius: var(--jp-deck-handle-size);\\n  border: solid 1px var(--jp-deck-layover-color);\\n}\\n\\n.jp-Deck-Layover .jp-Deck-LayoverUnstyle {\\n  background-color: var(--jp-error-color1);\\n  border: none;\\n  left: 75%;\\n  margin-top: calc(-0.5 * var(--jp-deck-handle-size));\\n  top: 50%;\\n  cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jp-Deck > .jp-MarkdownViewer {\\n  display: flex;\\n  flex-direction: column;\\n  position: fixed;\\n  left: var(--jp-private-sidebar-tab-width);\\n  right: var(--jp-private-sidebar-tab-width);\\n  justify-content: center;\\n  align-content: center;\\n  align-items: stretch;\\n  height: 100vh;\\n  overflow-y: hidden;\\n}\\n\\n.jp-Deck > .jp-MarkdownViewer > .jp-RenderedMarkdown {\\n  flex-shrink: 0;\\n  gap: 0;\\n  overflow-y: auto;\\n  max-height: 100vh;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n}\\n\\n.jp-Deck > .jp-MarkdownViewer > .jp-RenderedMarkdown > * {\\n  display: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/markdown.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,yCAAyC;EACzC,0CAA0C;EAC1C,uBAAuB;EACvB,qBAAqB;EACrB,oBAAoB;EACpB,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,MAAM;EACN,gBAAgB;EAChB,iBAAiB;EACjB,SAAS;EACT,UAAU;EACV,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf\",\"sourcesContent\":[\".jp-Deck > .jp-MarkdownViewer {\\n  display: flex;\\n  flex-direction: column;\\n  position: fixed;\\n  left: var(--jp-private-sidebar-tab-width);\\n  right: var(--jp-private-sidebar-tab-width);\\n  justify-content: center;\\n  align-content: center;\\n  align-items: stretch;\\n  height: 100vh;\\n  overflow-y: hidden;\\n}\\n\\n.jp-Deck > .jp-MarkdownViewer > .jp-RenderedMarkdown {\\n  flex-shrink: 0;\\n  gap: 0;\\n  overflow-y: auto;\\n  max-height: 100vh;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n}\\n\\n.jp-Deck > .jp-MarkdownViewer > .jp-RenderedMarkdown > * {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/** heavy ui tweaks **/\\n.jp-Deck .jp-InputPrompt,\\n.jp-Deck .jp-OutputPrompt,\\n.jp-Deck .jp-cell-toolbar {\\n  display: none;\\n}\\n\\n.jp-Deck .jp-NotebookPanel-toolbar {\\n  position: absolute;\\n  border: 0;\\n  opacity: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 6em;\\n  height: var(--jp-private-toolbar-height) !important;\\n  max-height: var(--jp-private-toolbar-height) !important;\\n  box-shadow: unset;\\n}\\n\\n.jp-Deck .jp-NotebookPanel-toolbar:hover {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck.jp-NotebookPanel {\\n  display: flex;\\n  flex-direction: column;\\n  position: fixed;\\n  left: var(--jp-private-sidebar-tab-width);\\n  right: var(--jp-private-sidebar-tab-width);\\n  justify-content: center;\\n  align-content: center;\\n  align-items: stretch;\\n  height: 100vh;\\n  overflow-y: hidden;\\n}\\n\\n.jp-Deck .jp-Notebook {\\n  flex-shrink: 0;\\n  gap: 0;\\n  overflow-y: auto;\\n  max-height: 100vh;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n}\\n\\n.jp-Deck .jp-Notebook.jp-mod-scrollPastEnd::after {\\n  display: none;\\n}\\n\\n.jp-Deck .jp-Collapser {\\n  margin-right: 0.25em;\\n}\\n\\n/** on-screen real-estate management **/\\n.jp-Deck .jp-Cell:not(.jp-deck-mod-onscreen) {\\n  max-height: 0;\\n  height: 0;\\n  overflow: hidden;\\n  pointer-events: none;\\n}\\n\\n.jp-Deck .jp-Cell.jp-deck-mod-onscreen {\\n  flex: 0;\\n}\\n\\n.jp-Deck .jp-Cell.jp-deck-mod-onscreen:not(.jp-deck-mod-visible) {\\n  opacity: 0;\\n}\\n\\n.jp-Deck .jp-Cell.jp-deck-mod-onscreen.jp-deck-mod-visible {\\n  opacity: 1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck .jp-deck-mod-layer {\\n  position: fixed;\\n}\\n\\n/** markdown tweaks **/\\n.jp-Deck .jp-MarkdownOutput {\\n  border: 0;\\n}\\n\\n/** editor **/\\n.jp-Deck .jp-InputArea-editor,\\n.jp-Deck .jp-Notebook.jp-mod-editMode .jp-Cell.jp-mod-active .jp-InputArea-editor {\\n  border: 0;\\n  box-shadow: unset;\\n}\\n\\n/** side-by-side **/\\n.jp-Deck .jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {\\n  margin: 0 !important;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/notebook.css\"],\"names\":[],\"mappings\":\"AAAA,sBAAsB;AACtB;;;EAGE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,SAAS;EACT,OAAO;EACP,UAAU;EACV,mDAAmD;EACnD,uDAAuD;EACvD,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,wBAAwB;AAC1B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,yCAAyC;EACzC,0CAA0C;EAC1C,uBAAuB;EACvB,qBAAqB;EACrB,oBAAoB;EACpB,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,MAAM;EACN,gBAAgB;EAChB,iBAAiB;EACjB,SAAS;EACT,UAAU;EACV,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;AACtB;;AAEA,uCAAuC;AACvC;EACE,aAAa;EACb,SAAS;EACT,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,wBAAwB;AAC1B;;AAEA;EACE,eAAe;AACjB;;AAEA,sBAAsB;AACtB;EACE,SAAS;AACX;;AAEA,aAAa;AACb;;EAEE,SAAS;EACT,iBAAiB;AACnB;;AAEA,mBAAmB;AACnB;EACE,oBAAoB;AACtB\",\"sourcesContent\":[\"/** heavy ui tweaks **/\\n.jp-Deck .jp-InputPrompt,\\n.jp-Deck .jp-OutputPrompt,\\n.jp-Deck .jp-cell-toolbar {\\n  display: none;\\n}\\n\\n.jp-Deck .jp-NotebookPanel-toolbar {\\n  position: absolute;\\n  border: 0;\\n  opacity: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 6em;\\n  height: var(--jp-private-toolbar-height) !important;\\n  max-height: var(--jp-private-toolbar-height) !important;\\n  box-shadow: unset;\\n}\\n\\n.jp-Deck .jp-NotebookPanel-toolbar:hover {\\n  opacity: 0.8;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck.jp-NotebookPanel {\\n  display: flex;\\n  flex-direction: column;\\n  position: fixed;\\n  left: var(--jp-private-sidebar-tab-width);\\n  right: var(--jp-private-sidebar-tab-width);\\n  justify-content: center;\\n  align-content: center;\\n  align-items: stretch;\\n  height: 100vh;\\n  overflow-y: hidden;\\n}\\n\\n.jp-Deck .jp-Notebook {\\n  flex-shrink: 0;\\n  gap: 0;\\n  overflow-y: auto;\\n  max-height: 100vh;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n}\\n\\n.jp-Deck .jp-Notebook.jp-mod-scrollPastEnd::after {\\n  display: none;\\n}\\n\\n.jp-Deck .jp-Collapser {\\n  margin-right: 0.25em;\\n}\\n\\n/** on-screen real-estate management **/\\n.jp-Deck .jp-Cell:not(.jp-deck-mod-onscreen) {\\n  max-height: 0;\\n  height: 0;\\n  overflow: hidden;\\n  pointer-events: none;\\n}\\n\\n.jp-Deck .jp-Cell.jp-deck-mod-onscreen {\\n  flex: 0;\\n}\\n\\n.jp-Deck .jp-Cell.jp-deck-mod-onscreen:not(.jp-deck-mod-visible) {\\n  opacity: 0;\\n}\\n\\n.jp-Deck .jp-Cell.jp-deck-mod-onscreen.jp-deck-mod-visible {\\n  opacity: 1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck .jp-deck-mod-layer {\\n  position: fixed;\\n}\\n\\n/** markdown tweaks **/\\n.jp-Deck .jp-MarkdownOutput {\\n  border: 0;\\n}\\n\\n/** editor **/\\n.jp-Deck .jp-InputArea-editor,\\n.jp-Deck .jp-Notebook.jp-mod-editMode .jp-Cell.jp-mod-active .jp-InputArea-editor {\\n  border: 0;\\n  box-shadow: unset;\\n}\\n\\n/** side-by-side **/\\n.jp-Deck .jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {\\n  margin: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jp-Deck-Remote {\\n  position: absolute;\\n  right: 0;\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  z-index: var(--jp-deck-z-remote);\\n}\\n\\n.jp-Deck-Remote-directions {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.jp-Deck-Remote label {\\n  color: var(--jp-ui-font-color1);\\n}\\n\\n/* stack */\\n.jp-Deck-Remote .jp-Deck-Remote-WidgetStack {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: end;\\n  list-style: none;\\n}\\n\\n/* buttons */\\n.jp-Deck-Remote button {\\n  border: 0;\\n  background-color: transparent;\\n  flex: 1;\\n}\\n\\n.jp-Deck-Remote .jp-Deck-Remote-WidgetStack li {\\n  list-style: none;\\n}\\n\\n.jp-Deck-Remote .jp-Deck-Remote-WidgetStack button {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  gap: 0.5em;\\n}\\n\\n.jp-Deck-Remote button:not(.jp-mod-disabled) {\\n  opacity: 0.75;\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-Remote button:not(.jp-mod-disabled) label {\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-Remote button.jp-mod-disabled {\\n  opacity: 0.1;\\n}\\n\\n.jp-Deck-Remote button:hover:not(.jp-mod-disabled) {\\n  opacity: 1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-Remote-directions > * {\\n  flex: 1;\\n}\\n\\n.jp-Deck-Remote-directions > div {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.jp-deck-mod-direction-forward {\\n  transform: rotate(0.25turn);\\n}\\n\\n.jp-deck-mod-direction-down {\\n  transform: rotate(0.5turn);\\n}\\n\\n.jp-deck-mod-direction-back {\\n  transform: rotate(0.75turn);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/remote.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,aAAa;EACb,sBAAsB;EACtB,gCAAgC;AAClC;;AAEA;EACE,aAAa;EACb,OAAO;EACP,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,+BAA+B;AACjC;;AAEA,UAAU;AACV;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA,YAAY;AACZ;EACE,SAAS;EACT,6BAA6B;EAC7B,OAAO;AACT;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,UAAU;EACV,wBAAwB;AAC1B;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,2BAA2B;AAC7B\",\"sourcesContent\":[\".jp-Deck-Remote {\\n  position: absolute;\\n  right: 0;\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  z-index: var(--jp-deck-z-remote);\\n}\\n\\n.jp-Deck-Remote-directions {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.jp-Deck-Remote label {\\n  color: var(--jp-ui-font-color1);\\n}\\n\\n/* stack */\\n.jp-Deck-Remote .jp-Deck-Remote-WidgetStack {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: end;\\n  list-style: none;\\n}\\n\\n/* buttons */\\n.jp-Deck-Remote button {\\n  border: 0;\\n  background-color: transparent;\\n  flex: 1;\\n}\\n\\n.jp-Deck-Remote .jp-Deck-Remote-WidgetStack li {\\n  list-style: none;\\n}\\n\\n.jp-Deck-Remote .jp-Deck-Remote-WidgetStack button {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  gap: 0.5em;\\n}\\n\\n.jp-Deck-Remote button:not(.jp-mod-disabled) {\\n  opacity: 0.75;\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-Remote button:not(.jp-mod-disabled) label {\\n  cursor: pointer;\\n}\\n\\n.jp-Deck-Remote button.jp-mod-disabled {\\n  opacity: 0.1;\\n}\\n\\n.jp-Deck-Remote button:hover:not(.jp-mod-disabled) {\\n  opacity: 1;\\n  transition: opacity 0.1s;\\n}\\n\\n.jp-Deck-Remote-directions > * {\\n  flex: 1;\\n}\\n\\n.jp-Deck-Remote-directions > div {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.jp-deck-mod-direction-forward {\\n  transform: rotate(0.25turn);\\n}\\n\\n.jp-deck-mod-direction-down {\\n  transform: rotate(0.5turn);\\n}\\n\\n.jp-deck-mod-direction-back {\\n  transform: rotate(0.75turn);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body[data-jp-deck-mode='presenting'] {\\n  background: var(--jp-layout-color0);\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-main-content-panel {\\n  width: 100vw !important;\\n  height: 100vh !important;\\n  border: 0 !important;\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  top: 0 !important;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-menu-panel,\\nbody[data-jp-deck-mode='presenting'] #jp-top-panel {\\n  display: none;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar {\\n  opacity: 0;\\n  transition: opacity 0.1s;\\n  z-index: var(--jp-deck-z-lab-chrome);\\n  background: none;\\n  border-color: transparent;\\n  visibility: var(--jp-deck-chrome-visibility);\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar.lm-TabBar.jp-mod-left,\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar.lm-TabBar.jp-mod-right {\\n  border-color: transparent;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar .lm-TabBar-tab:not(.lm-mod-current) {\\n  background: unset;\\n  border-color: transparent;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-right-stack,\\nbody[data-jp-deck-mode='presenting'] #jp-left-stack {\\n  opacity: 0.25;\\n  z-index: var(--jp-deck-z-lab-chrome);\\n  transition: opacity 0.1s;\\n  visibility: var(--jp-deck-chrome-visibility);\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar:hover,\\nbody[data-jp-deck-mode='presenting'] #jp-right-stack:hover,\\nbody[data-jp-deck-mode='presenting'] #jp-left-stack:hover {\\n  opacity: 0.9;\\n  transition: opacity 0.1s;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-main-dock-panel {\\n  padding: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/shell.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,mCAAmC;AACrC;;AAEA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB,iBAAiB;AACnB;;AAEA;;EAEE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,wBAAwB;EACxB,oCAAoC;EACpC,gBAAgB;EAChB,yBAAyB;EACzB,4CAA4C;AAC9C;;AAEA;;EAEE,yBAAyB;AAC3B;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;AAC3B;;AAEA;;EAEE,aAAa;EACb,oCAAoC;EACpC,wBAAwB;EACxB,4CAA4C;AAC9C;;AAEA;;;EAGE,YAAY;EACZ,wBAAwB;AAC1B;;AAEA;EACE,UAAU;AACZ\",\"sourcesContent\":[\"body[data-jp-deck-mode='presenting'] {\\n  background: var(--jp-layout-color0);\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-main-content-panel {\\n  width: 100vw !important;\\n  height: 100vh !important;\\n  border: 0 !important;\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  top: 0 !important;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-menu-panel,\\nbody[data-jp-deck-mode='presenting'] #jp-top-panel {\\n  display: none;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar {\\n  opacity: 0;\\n  transition: opacity 0.1s;\\n  z-index: var(--jp-deck-z-lab-chrome);\\n  background: none;\\n  border-color: transparent;\\n  visibility: var(--jp-deck-chrome-visibility);\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar.lm-TabBar.jp-mod-left,\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar.lm-TabBar.jp-mod-right {\\n  border-color: transparent;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar .lm-TabBar-tab:not(.lm-mod-current) {\\n  background: unset;\\n  border-color: transparent;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-right-stack,\\nbody[data-jp-deck-mode='presenting'] #jp-left-stack {\\n  opacity: 0.25;\\n  z-index: var(--jp-deck-z-lab-chrome);\\n  transition: opacity 0.1s;\\n  visibility: var(--jp-deck-chrome-visibility);\\n}\\n\\nbody[data-jp-deck-mode='presenting'] .jp-SideBar:hover,\\nbody[data-jp-deck-mode='presenting'] #jp-right-stack:hover,\\nbody[data-jp-deck-mode='presenting'] #jp-left-stack:hover {\\n  opacity: 0.9;\\n  transition: opacity 0.1s;\\n}\\n\\nbody[data-jp-deck-mode='presenting'] #jp-main-dock-panel {\\n  padding: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body[data-jp-deck-mode='presenting'] {\\n  --jp-cell-padding: 0;\\n  --jp-statusbar-height: 0;\\n  --jp-private-menubar-height: 0;\\n\\n  /* z-stack */\\n  --jp-deck-z-remote: 9999;\\n  --jp-deck-z-lab-chrome: 9998;\\n  --jp-deck-z-layover: 9997;\\n\\n  /* layover */\\n  --jp-deck-layover-color: var(--jp-warn-color1);\\n  --jp-deck-handle-size: var(--jp-content-font-size4);\\n  --jp-deck-chrome-visibility: visible;\\n\\n  /* design */\\n  --jp-deck-vslider-width: calc(1.2 * var(--jp-content-font-size4));\\n  --jp-deck-checkbox-width: calc(1.1 * var(--jp-content-font-size4));\\n}\\n\\nbody[data-jp-deck-mode='presenting'][data-jp-deck-layout-mode='designing'] {\\n  --jp-deck-chrome-visibility: hidden;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/variables.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,oBAAoB;EACpB,wBAAwB;EACxB,8BAA8B;;EAE9B,YAAY;EACZ,wBAAwB;EACxB,4BAA4B;EAC5B,yBAAyB;;EAEzB,YAAY;EACZ,8CAA8C;EAC9C,mDAAmD;EACnD,oCAAoC;;EAEpC,WAAW;EACX,iEAAiE;EACjE,kEAAkE;AACpE;;AAEA;EACE,mCAAmC;AACrC\",\"sourcesContent\":[\"body[data-jp-deck-mode='presenting'] {\\n  --jp-cell-padding: 0;\\n  --jp-statusbar-height: 0;\\n  --jp-private-menubar-height: 0;\\n\\n  /* z-stack */\\n  --jp-deck-z-remote: 9999;\\n  --jp-deck-z-lab-chrome: 9998;\\n  --jp-deck-z-layover: 9997;\\n\\n  /* layover */\\n  --jp-deck-layover-color: var(--jp-warn-color1);\\n  --jp-deck-handle-size: var(--jp-content-font-size4);\\n  --jp-deck-chrome-visibility: visible;\\n\\n  /* design */\\n  --jp-deck-vslider-width: calc(1.2 * var(--jp-content-font-size4));\\n  --jp-deck-checkbox-width: calc(1.1 * var(--jp-content-font-size4));\\n}\\n\\nbody[data-jp-deck-mode='presenting'][data-jp-deck-layout-mode='designing'] {\\n  --jp-deck-chrome-visibility: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M15.46 15.88L16.88 14.46L19 16.59L21.12 14.47L22.54 15.88L20.41 18L22.54 20.12L21.12 21.54L19 19.41L16.88 21.54L15.46 20.12L17.59 18L15.47 15.88M12 3C17.5 3 22 6.58 22 11C22 11.58 21.92 12.14 21.78 12.68C21.19 12.38 20.55 12.16 19.88 12.06C19.96 11.72 20 11.36 20 11C20 7.69 16.42 5 12 5C7.58 5 4 7.69 4 11C4 14.31 7.58 17 12 17L13.09 16.95L13 18L13.08 18.95L12 19C10.81 19 9.62 18.83 8.47 18.5C6.64 20 4.37 20.89 2 21C4.33 18.67 4.75 17.1 4.75 16.5C3.06 15.17 2.05 13.15 2 11C2 6.58 6.5 3 12 3Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M11.19,2.25C11.97,2.26 12.71,2.73 13,3.5L18,15.45C18.09,15.71 18.14,16 18.13,16.25C18.11,17 17.65,17.74 16.9,18.05L9.53,21.1C9.27,21.22 9,21.25 8.74,21.25C7.97,21.23 7.24,20.77 6.93,20L1.97,8.05C1.55,7.04 2.04,5.87 3.06,5.45L10.42,2.4C10.67,2.31 10.93,2.25 11.19,2.25M14.67,2.25H16.12A2,2 0 0,1 18.12,4.25V10.6L14.67,2.25M20.13,3.79L21.47,4.36C22.5,4.78 22.97,5.94 22.56,6.96L20.13,12.82V3.79M11.19,4.22L3.8,7.29L8.77,19.3L16.17,16.24L11.19,4.22M8.65,8.54L11.88,10.95L11.44,14.96L8.21,12.54L8.65,8.54Z\\\" />\\n  </g>\\n</svg>\\n\";","import { LabIcon, caretUpEmptyThinIcon } from '@jupyterlab/ui-components';\n\nimport NOTE from '../style/img/chat-remove-outline.svg';\nimport NULL from '../style/img/checkbox-blank-outline.svg';\nimport FRAGMENT from '../style/img/checkbox-intermediate-variant.svg';\nimport SKIP from '../style/img/close-box-outline.svg';\nimport DECK_START from '../style/img/deck.svg';\nimport LAYER_DECK from '../style/img/image-filter-hdr.svg';\nimport LAYER_NULL from '../style/img/image-off-outline.svg';\nimport LAYER_STACK from '../style/img/image-outline-multiple.svg';\nimport LAYER_SLIDE from '../style/img/image-outline.svg';\nimport ZOOM from '../style/img/loupe.svg';\nimport LAYER_FRAGMENT from '../style/img/message-image-outline.svg';\nimport Z_INDEX from '../style/img/order-numeric-descending.svg';\nimport SUBSLIDE from '../style/img/plus-box-multiple.svg';\nimport SLIDE from '../style/img/plus-box.svg';\nimport OPACITY from '../style/img/square-opacity.svg';\nimport TRANSFORM_STOP from '../style/img/transform-stop.svg';\nimport TRANSFORM from '../style/img/transform.svg';\n\nimport { CSS, TLayerScope, TSlideType } from './tokens';\n\nconst DECK_STOP = DECK_START.replace(CSS.icon, CSS.iconWarn);\n\nexport namespace ICONS {\n  export const deckStart = new LabIcon({ name: 'deck:start', svgstr: DECK_START });\n  export const deckStop = new LabIcon({ name: 'deck:stop', svgstr: DECK_STOP });\n  export const goEnabled = new LabIcon({\n    name: 'deck:go',\n    svgstr: caretUpEmptyThinIcon.svgstr.replace(CSS.icon, CSS.iconContrast),\n  });\n  export const goDisabled = caretUpEmptyThinIcon;\n  // layover\n  export const transformStart = new LabIcon({\n    name: 'deck:layover-start',\n    svgstr: TRANSFORM,\n  });\n  export const transformStop = new LabIcon({\n    name: 'deck:layover-stop',\n    svgstr: TRANSFORM_STOP,\n  });\n  // design\n  export const slideshow: Record<'null' | Exclude<TSlideType, null>, LabIcon> = {\n    slide: new LabIcon({ name: 'deck:slide-slide', svgstr: SLIDE }),\n    subslide: new LabIcon({ name: 'deck:slide-subslide', svgstr: SUBSLIDE }),\n    null: new LabIcon({ name: 'deck:slide-null', svgstr: NULL }),\n    fragment: new LabIcon({ name: 'deck:slide-fragment', svgstr: FRAGMENT }),\n    skip: new LabIcon({ name: 'deck:slide-skip', svgstr: SKIP }),\n    notes: new LabIcon({ name: 'deck:slide-note', svgstr: NOTE }),\n  };\n  export const layer: Record<TLayerScope | 'null', LabIcon> = {\n    deck: new LabIcon({ name: 'deck:layer-deck', svgstr: LAYER_DECK }),\n    stack: new LabIcon({ name: 'deck:layer-stack', svgstr: LAYER_STACK }),\n    slide: new LabIcon({ name: 'deck:layer-slide', svgstr: LAYER_SLIDE }),\n    fragment: new LabIcon({ name: 'deck:layer-fragment', svgstr: LAYER_FRAGMENT }),\n    null: new LabIcon({ name: 'deck:layer-null', svgstr: LAYER_NULL }),\n  };\n  export const zoom = new LabIcon({ name: 'deck:zoom', svgstr: ZOOM });\n  export const zIndex = new LabIcon({ name: 'deck:z-index', svgstr: Z_INDEX });\n  export const opacity = new LabIcon({ name: 'deck:opacity', svgstr: OPACITY });\n}\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon-brand1 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M20,11H4V8H20M20,15H13V13H20M20,19H13V17H20M11,19H4V13H11M20.33,4.67L18.67,3L17,4.67L15.33,3L13.67,4.67L12,3L10.33,4.67L8.67,3L7,4.67L5.33,3L3.67,4.67L2,3V19A2,2 0 0,0 4,21H20A2,2 0 0,0 22,19V3L20.33,4.67Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon-warn0 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M20.12 14.46L21.54 15.88L19.41 18L21.54 20.12L20.12 21.54L18 19.41L15.88 21.54L14.47 20.12L16.59 18L14.47 15.88L15.88 14.47L18 16.59L20.12 14.46M20.33 4.67L18.67 3L17 4.67L15.33 3L13.67 4.67L12 3L10.33 4.67L8.67 3L7 4.67L5.33 3L3.67 4.67L2 3V19C2 20.11 2.9 21 4 21H12.8C12.29 20.12 12 19.09 12 18C12 16.77 12.37 15.63 13 14.68V13H14.68C15.63 12.37 16.77 12 18 12C19.53 12 20.93 12.58 22 13.5V3L20.33 4.67M11 19H4V13H11V19M20 11H4V8H20V11Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M19,11H15V15H13V11H9V9H13V5H15V9H19M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M19 19H5V5H19V19M7 17V7H17\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M17,8.4L13.4,12L17,15.6L15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M14,6L10.25,11L13.1,14.8L11.5,16C9.81,13.75 7,10 7,10L1,18H23L14,6Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M21,17H7V3H21M21,1H7A2,2 0 0,0 5,3V17A2,2 0 0,0 7,19H21A2,2 0 0,0 23,17V3A2,2 0 0,0 21,1M3,5H1V21A2,2 0 0,0 3,23H19V21H3M15.96,10.29L13.21,13.83L11.25,11.47L8.5,15H19.5L15.96,10.29Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2M20 16H5.2L4 17.2V4H20V16M5 14L8.5 9.5L11 12.5L14.5 8L19 14\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M22 20.7L3.3 2L2 3.3L3 4.3V19C3 20.1 3.9 21 5 21H19.7L20.7 22L22 20.7M5 19V6.3L12.6 13.9L11.1 15.8L9 13.1L6 17H15.7L17.7 19H5M8.8 5L6.8 3H19C20.1 3 21 3.9 21 5V17.2L19 15.2V5H8.8\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22H20A2,2 0 0,0 22,20V12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M7 11H3V9H7V8H5C3.9 8 3 7.11 3 6V5C3 3.9 3.9 3 5 3H7C8.11 3 9 3.9 9 5V9C9 10.11 8.11 11 7 11M7 5H5V6H7M5 13H7C8.11 13 9 13.9 9 15V19C9 20.11 8.11 21 7 21H5C3.9 21 3 20.11 3 19V15C3 13.9 3.9 13 5 13M5 19H7V15H5M12 5H22V7H12M12 19V17H22V19M12 11H22V13H12Z\\\" />\\n  </g>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\">\\n  <g class=\\\"jp-icon3 jp-icon-selectable\\\" fill=\\\"#616161\\\">\\n    <path d=\\\"M19 13V11H21V13H19M21 9V7H19V9H21M21 3H19V5H21V3M17 15H19V13H17V15M21 17V15H19V17H21M13 17V15H15V13H13V11H15V9H13V7H15V5H13V3H3V21H13V19H15V17H13M15 21H17V19H15V21M17 3H15V5H17V3M17 11H19V9H17V11M15 17H17V15H15V17M17 19H19V17H17V19M21 21V19H19V21H21M15 9H17V7H15V9M15 13H17V11H15V13M17 5V7H19V5H17Z\\\" />\\n  </g>\\n</svg>\\n\";","import type { GlobalStyles } from '@deathbeds/jupyterlab-fonts/lib/_schema';\nimport { VDomRenderer, VDomModel } from '@jupyterlab/apputils';\nimport { LabIcon, ellipsesIcon, caretLeftIcon } from '@jupyterlab/ui-components';\nimport { JSONExt } from '@lumino/coreutils';\nimport React from 'react';\n\nimport { ICONS } from '../icons';\nimport {\n  CSS,\n  IDeckManager,\n  INCAPABLE,\n  IPresenterCapbilities,\n  LAYER_SCOPES,\n  SLIDE_TYPES,\n  TLayerScope,\n  TSlideType,\n} from '../tokens';\n\nexport class DesignTools extends VDomRenderer<DesignTools.Model> {\n  constructor(options: DesignTools.IOptions) {\n    super(new DesignTools.Model(options));\n    this.addClass(CSS.designTools);\n    document.body.appendChild(this.node);\n  }\n\n  dispose() {\n    this.model.dispose();\n    super.dispose();\n    document.body.removeChild(this.node);\n  }\n\n  protected render(): JSX.Element {\n    return <div>{this.more()}</div>;\n  }\n\n  more(): JSX.Element[] {\n    const { model } = this;\n    const { __ } = model.manager;\n    const { capabilities, showMore } = model;\n\n    if (!capabilities.layout && !capabilities.slideType && !capabilities.layerScope) {\n      return [];\n    }\n\n    if (!showMore) {\n      return [\n        this.makeButton(\n          ellipsesIcon,\n          __('Show Design Tools'),\n          () => (model.showMore = true)\n        ),\n      ];\n    }\n\n    let items: JSX.Element[] = [\n      this.makeButton(\n        caretLeftIcon,\n        __('Hide Design Tools'),\n        () => (model.showMore = false)\n      ),\n    ];\n\n    const { layover } = this.model.manager;\n\n    if (capabilities.layout) {\n      items.push(\n        this.makeButton(\n          layover ? ICONS.transformStop : ICONS.transformStart,\n          layover ? __('Hide Layout') : __('Show Layout'),\n          () => {\n            let { manager } = this.model;\n            manager.layover ? manager.hideLayover() : manager.showLayover();\n          }\n        )\n      );\n    }\n\n    if (capabilities.slideType) {\n      const { currentSlideType } = model;\n      let slideTypes: JSX.Element[] = [];\n      let slideType: TSlideType;\n      let activeItem: JSX.Element | null = null;\n      for (slideType of SLIDE_TYPES) {\n        let item = this.makeSlideTypeItem(slideType, currentSlideType);\n        if (currentSlideType === slideType) {\n          activeItem = item;\n        } else {\n          slideTypes.push(item);\n        }\n      }\n      if (activeItem) {\n        slideTypes.push(activeItem);\n      }\n      items.push(\n        <ul key=\"slide-type\" className={`${CSS.selector} ${CSS.slideType}`}>\n          {slideTypes}\n        </ul>\n      );\n    }\n\n    if (capabilities.layerScope) {\n      const { currentLayerScope } = model;\n      let layerScopes: JSX.Element[] = [];\n      let layerScope: TLayerScope | null;\n      let activeItem: JSX.Element | null = null;\n      for (layerScope of [...LAYER_SCOPES, null]) {\n        let item = this.makeLayerScopeItem(layerScope, currentLayerScope);\n        if (currentLayerScope === layerScope) {\n          activeItem = item;\n        } else {\n          layerScopes.push(item);\n        }\n      }\n      if (activeItem) {\n        layerScopes.push(activeItem);\n      }\n      items.push(\n        <ul key=\"layer\" className={`${CSS.selector} ${CSS.layerScope}`}>\n          {layerScopes}\n        </ul>\n      );\n    }\n\n    if (capabilities.stylePart) {\n      let { currentPartStyles } = model;\n      items.push(\n        this.makeSlider('z-index', currentPartStyles),\n        this.makeSlider('zoom', currentPartStyles),\n        this.makeSlider('opacity', currentPartStyles)\n      );\n    }\n\n    return items;\n  }\n\n  makeSlideTypeItem = (\n    slideType: TSlideType,\n    currentSlideType: TSlideType\n  ): JSX.Element => {\n    let { __ } = this.model.manager;\n    let slideTypeKey = slideType == null ? 'null' : slideType;\n    let icon = ICONS.slideshow[slideTypeKey];\n    let label = __(slideTypeKey);\n    let button = this.makeButton(\n      icon,\n      label,\n      () => this.model.manager.setSlideType(slideType),\n      '',\n      [<label key=\"label\">{label}</label>]\n    );\n    return (\n      <li key={slideType} className={currentSlideType === slideType ? CSS.active : ''}>\n        {button}\n      </li>\n    );\n  };\n\n  makeLayerScopeItem = (\n    layerScope: TLayerScope | null,\n    currentLayerScope: TLayerScope | null\n  ): JSX.Element => {\n    let { __ } = this.model.manager;\n    let layerScopeKey = layerScope == null ? 'null' : layerScope;\n    let icon = ICONS.layer[layerScopeKey];\n    let label = __(layerScopeKey);\n    let button = this.makeButton(\n      icon,\n      label,\n      () => this.model.manager.setLayerScope(layerScope),\n      '',\n      [<label key=\"label\">{label}</label>]\n    );\n    return (\n      <li className={currentLayerScope === layerScope ? CSS.active : ''}>{button}</li>\n    );\n  };\n\n  makeSlider = (\n    attr: DesignTools.TSliderAttr,\n    styles: GlobalStyles | null\n  ): JSX.Element => {\n    const config = DesignTools.SLIDER_CONFIG[attr];\n    const { suffix, className, icon } = config;\n\n    let value = styles ? (styles[attr] as any) : null;\n\n    let checkbox: JSX.Element | null = null;\n    if (value != null) {\n      if (suffix) {\n        value = value.replace(suffix, '');\n      }\n      value = parseFloat(value);\n      checkbox = (\n        <input\n          type=\"checkbox\"\n          name={`${attr}-enabled`}\n          checked\n          onChange={this.onSliderChange}\n        ></input>\n      );\n    }\n\n    let valueAttr = { value: value == null ? config.defaultValue : value };\n    let finalClassName = value == null ? className : `${className} ${CSS.active}`;\n\n    return (\n      <div className={`${CSS.slider} ${finalClassName}`} title={attr} key={attr}>\n        {checkbox ? [checkbox] : []}\n        <input\n          name={attr}\n          type=\"range\"\n          {...config.attrs}\n          {...valueAttr}\n          onChange={this.onSliderChange}\n        ></input>\n        <label>\n          <icon.react width={32} />\n          <span>{attr}</span>\n        </label>\n      </div>\n    );\n  };\n\n  onSliderChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value, name, checked } = event.currentTarget;\n    if (name.endsWith('-enabled')) {\n      if (!checked) {\n        this.model.setPartStyles(name.replace('-enabled', ''), null);\n      }\n    } else {\n      const config = DesignTools.SLIDER_CONFIG[name as DesignTools.TSliderAttr];\n      const suffix = config.suffix || '';\n      this.model.setPartStyles(name, `${value}${suffix}`);\n    }\n  };\n\n  makeButton(\n    icon: LabIcon,\n    title: string,\n    onClick: () => void,\n    className: string = '',\n    children: JSX.Element[] = []\n  ) {\n    return (\n      <button\n        className={className}\n        onClick={onClick}\n        title={this.model.manager.__(title)}\n        key={title}\n      >\n        <icon.react width={32} />\n        {children}\n      </button>\n    );\n  }\n}\n\nexport namespace DesignTools {\n  export class Model extends VDomModel {\n    private _manager: IDeckManager;\n    private _showMore = false;\n\n    constructor(options: IOptions) {\n      super();\n      this._manager = options.manager;\n      this._manager.activeChanged.connect(this._onActiveChanged, this);\n      this._manager.layoverChanged.connect(this._emit);\n    }\n\n    dispose() {\n      this._manager.activeChanged.disconnect(this._onActiveChanged, this);\n      this._manager.layoverChanged.disconnect(this._emit);\n      super.dispose();\n    }\n\n    get manager(): IDeckManager {\n      return this._manager;\n    }\n\n    get showMore() {\n      return this._showMore;\n    }\n\n    set showMore(showMore: boolean) {\n      if (this._showMore !== showMore) {\n        this._showMore = showMore;\n        this._emit();\n      }\n    }\n\n    get capabilities(): IPresenterCapbilities {\n      return this._manager.activePresenter?.capabilities || INCAPABLE;\n    }\n\n    get currentSlideType(): TSlideType | null {\n      return this._manager.getSlideType();\n    }\n\n    get currentLayerScope(): TLayerScope | null {\n      return this._manager.getLayerScope();\n    }\n\n    get currentPartStyles(): GlobalStyles | null {\n      let styles = this._manager.getPartStyles();\n      return styles;\n    }\n\n    setPartStyles(attr: string, value: any) {\n      let styles = { ...(this.currentPartStyles || JSONExt.emptyObject) };\n      styles[attr] = value;\n      this._manager.setPartStyles(styles as GlobalStyles);\n      this._emit();\n    }\n\n    private _emit = () => {\n      this.stateChanged.emit(void 0);\n    };\n\n    private _onActiveChanged() {\n      this.stateChanged.emit(void 0);\n    }\n  }\n  export interface IOptions {\n    manager: IDeckManager;\n  }\n\n  export type TSliderAttr = 'z-index' | 'zoom' | 'opacity';\n\n  export interface ISliderBounds {\n    attrs: {\n      min: number;\n      max: number;\n      step: number;\n    };\n    defaultValue: number;\n    suffix?: string;\n    icon: LabIcon;\n    className: string;\n  }\n  export type TSliders = {\n    [key in TSliderAttr]: ISliderBounds;\n  };\n\n  export const SLIDER_CONFIG: TSliders = {\n    zoom: {\n      attrs: { min: 50, max: 500, step: 1 },\n      defaultValue: 100,\n      suffix: '%',\n      icon: ICONS.zoom,\n      className: CSS.zoom,\n    },\n    'z-index': {\n      attrs: { min: -10, max: 10, step: 1 },\n      defaultValue: 0,\n      icon: ICONS.zIndex,\n      className: CSS.zIndex,\n    },\n    opacity: {\n      attrs: { min: 0, max: 100, step: 1 },\n      suffix: '%',\n      defaultValue: 100,\n      icon: ICONS.opacity,\n      className: CSS.opacity,\n    },\n  };\n}\n","import { VDomRenderer, VDomModel } from '@jupyterlab/apputils';\nimport { PathExt } from '@jupyterlab/coreutils';\nimport { LabIcon } from '@jupyterlab/ui-components';\nimport { JSONExt } from '@lumino/coreutils';\nimport type { Widget } from '@lumino/widgets';\nimport React from 'react';\n\nimport { ICONS } from '../icons';\nimport {\n  CSS,\n  IDeckManager,\n  DIRECTION,\n  DIRECTION_LABEL,\n  TCanGoDirection,\n  IPresenter,\n} from '../tokens';\n\nexport class DeckRemote extends VDomRenderer<DeckRemote.Model> {\n  constructor(options: DeckRemote.IOptions) {\n    super(new DeckRemote.Model(options));\n    this.addClass(CSS.remote);\n    document.body.appendChild(this.node);\n  }\n\n  dispose() {\n    this.model.dispose();\n    super.dispose();\n    document.body.removeChild(this.node);\n  }\n\n  protected render(): JSX.Element {\n    const { manager, canGo } = this.model;\n    const { __ } = manager;\n\n    const directions: Record<string, JSX.Element> = {};\n\n    for (const direction of Object.values(DIRECTION)) {\n      const enabled = !!canGo[direction];\n      directions[direction] = this.makeButton(\n        enabled ? ICONS.goEnabled : ICONS.goDisabled,\n        DIRECTION_LABEL[direction],\n        enabled ? () => manager.go(direction) : () => null,\n        `${CSS.direction}-${direction} ${enabled ? '' : CSS.disabled}`\n      );\n    }\n\n    const exit = this.makeButton(\n      ICONS.deckStop,\n      __('Exit Deck'),\n      () => void this.model.manager.stop(),\n      CSS.stop\n    );\n\n    return (\n      <div className={CSS.directions}>\n        {this.makeStack()}\n        {directions.up}\n        <div>\n          {directions.back}\n          {exit}\n          {directions.forward}\n        </div>\n        {directions.down}\n      </div>\n    );\n  }\n\n  makeStack(): JSX.Element {\n    let { manager } = this.model;\n    if (!manager.activeWidgetStack.length) {\n      return <></>;\n    }\n    let stack: JSX.Element[] = [];\n    for (const widget of manager.activeWidgetStack) {\n      let icon = widget.title.icon as LabIcon;\n      let label = PathExt.basename(widget.title.label);\n      stack.push(\n        <li key={widget.id}>\n          <button onClick={() => this.model.manager.activateWidget(widget)}>\n            <label>{label}</label>\n            <icon.react width={24}></icon.react>\n          </button>\n        </li>\n      );\n    }\n    return <ul className={CSS.widgetStack}>{stack}</ul>;\n  }\n\n  makeButton(\n    icon: LabIcon,\n    title: string,\n    onClick: () => void,\n    className: string = ''\n  ) {\n    return (\n      <button\n        className={className}\n        onClick={onClick}\n        title={this.model.manager.__(title)}\n      >\n        <icon.react width={32} />\n      </button>\n    );\n  }\n}\n\nexport namespace DeckRemote {\n  export class Model extends VDomModel {\n    private _manager: IDeckManager;\n    private _canGo: Partial<TCanGoDirection> = {};\n    private _activePresenter: IPresenter<Widget> | null = null;\n\n    constructor(options: IOptions) {\n      super();\n      this._manager = options.manager;\n      this._manager.activeChanged.connect(this._onActiveChanged, this);\n    }\n\n    dispose() {\n      this._manager.activeChanged.disconnect(this._onActiveChanged, this);\n      super.dispose();\n    }\n\n    get manager(): IDeckManager {\n      return this._manager;\n    }\n\n    get canGo(): Partial<TCanGoDirection> {\n      return this._canGo;\n    }\n\n    private _onActiveChanged() {\n      const canGo = this._manager.canGo();\n      let emit = false;\n      if (!JSONExt.deepEqual(canGo, this._canGo)) {\n        this._canGo = canGo;\n        emit = true;\n      }\n      let { activePresenter } = this._manager;\n      if (activePresenter !== this._activePresenter) {\n        this._activePresenter = activePresenter;\n        emit = true;\n      }\n      if (emit) {\n        this.emit();\n      }\n    }\n\n    private emit = () => {\n      this.stateChanged.emit(void 0);\n    };\n  }\n  export interface IOptions {\n    manager: IDeckManager;\n  }\n}\n","import { IFontManager } from '@deathbeds/jupyterlab-fonts';\nimport { GlobalStyles } from '@deathbeds/jupyterlab-fonts/lib/_schema';\nimport { LabShell } from '@jupyterlab/application';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { StatusBar } from '@jupyterlab/statusbar';\nimport { TranslationBundle } from '@jupyterlab/translation';\nimport { each } from '@lumino/algorithm';\nimport { CommandRegistry } from '@lumino/commands';\nimport { Signal, ISignal } from '@lumino/signaling';\nimport { Widget, DockPanel } from '@lumino/widgets';\n\nimport { ICONS } from './icons';\nimport {\n  IDeckManager,\n  DATA,\n  CommandIds,\n  TDirection,\n  IPresenter,\n  DIRECTION,\n  DIRECTION_LABEL,\n  EMOJI,\n  TCanGoDirection,\n  DIRECTION_KEYS,\n  CSS,\n  COMPOUND_KEYS,\n  IStylePreset,\n  IDeckSettings,\n  TSlideType,\n  TLayerScope,\n} from './tokens';\nimport { DesignTools } from './tools/design';\nimport type { Layover } from './tools/layover';\nimport { DeckRemote } from './tools/remote';\n\nexport class DeckManager implements IDeckManager {\n  protected _active = false;\n  protected _activeChanged = new Signal<IDeckManager, void>(this);\n  protected _activeWidget: Widget | null = null;\n  protected _presenters: IPresenter<any>[] = [];\n  protected _appStarted: Promise<void>;\n  protected _commands: CommandRegistry;\n  protected _remote: DeckRemote | null = null;\n  protected _designTools: DesignTools | null = null;\n  protected _settings: Promise<ISettingRegistry.ISettings>;\n  protected _shell: LabShell;\n  protected _statusbar: StatusBar | null;\n  protected _statusBarWasEnabled = false;\n  protected _styleCache = new Map<HTMLElement, string>();\n  protected _trans: TranslationBundle;\n  protected _stylePresets = new Map<string, IStylePreset>();\n  protected _stylePresetsChanged = new Signal<IDeckManager, void>(this);\n  protected _layoverChanged = new Signal<IDeckManager, void>(this);\n  protected _fonts: IFontManager;\n  protected _layover: Layover | null = null;\n  protected _activePresenter: IPresenter<Widget> | null = null;\n  protected _activeWidgetStack: Widget[] = [];\n\n  constructor(options: DeckManager.IOptions) {\n    this._appStarted = options.appStarted;\n    this._commands = options.commands;\n    this._shell = options.shell;\n    this._statusbar = options.statusbar;\n    this._trans = options.translator;\n    this._settings = options.settings;\n    this._fonts = options.fonts;\n\n    this._shell.activeChanged.connect(this._onActiveWidgetChanged, this);\n    this._shell.layoutModified.connect(this._addDeckStylesLater, this);\n    this._addCommands();\n    this._addKeyBindings();\n    this._settings\n      .then(async (settings) => {\n        settings.changed.connect(this._onSettingsChanged, this);\n        await this._onSettingsChanged();\n      })\n      .catch(console.warn);\n  }\n\n  public get activePresenter() {\n    return this._activePresenter;\n  }\n\n  public get layover() {\n    return this._layover;\n  }\n\n  public get fonts() {\n    return this._fonts;\n  }\n\n  public get activeChanged(): ISignal<IDeckManager, void> {\n    return this._activeChanged;\n  }\n\n  public get stylePresetsChanged(): ISignal<IDeckManager, void> {\n    return this._stylePresetsChanged;\n  }\n\n  public get layoverChanged(): ISignal<IDeckManager, void> {\n    return this._layoverChanged;\n  }\n\n  /**\n   * translate a string by message id (usually the en-US string), potentially\n   * with positional arguments, starting with %1.\n   */\n  public __ = (msgid: string, ...args: string[]): string => {\n    return this._trans.__(msgid, ...args);\n  };\n\n  public addPresenter(presenter: IPresenter<any>): void {\n    let newPresenters = [...this._presenters, presenter];\n    newPresenters.sort(this._sortByRank);\n    this._presenters = newPresenters;\n    presenter.activeChanged.connect(() => this._activeChanged.emit(void 0));\n  }\n\n  public addStylePreset(preset: IStylePreset): void {\n    this._stylePresets.set(preset.key, preset);\n    this._stylePresetsChanged.emit(void 0);\n  }\n\n  public get stylePresets(): IStylePreset[] {\n    return [...this._stylePresets.values()];\n  }\n\n  /** enable deck mode */\n  public start = async (force: boolean = false): Promise<void> => {\n    await this._appStarted;\n    const wasActive = this._active;\n\n    /* istanbul ignore if */\n    if (wasActive && !force) {\n      return;\n    }\n\n    if (!this._activeWidget) {\n      const { _shellActiveWidget } = this;\n      if (_shellActiveWidget) {\n        this._activeWidget = _shellActiveWidget;\n      } else {\n        setTimeout(async () => await this.start(), 10);\n        return;\n      }\n    }\n\n    const { _shell, _activeWidget } = this;\n\n    if (!wasActive) {\n      this._active = true;\n      void this._settings.then((settings) => settings.set('active', true));\n      if (this._statusbar) {\n        this._statusBarWasEnabled = this._statusbar.isVisible;\n        this._statusbar.hide();\n      }\n      _shell.presentationMode = false;\n      document.body.dataset[DATA.deckMode] = DATA.presenting;\n      each(this._dockpanel.tabBars(), (bar) => bar.hide());\n      _shell.mode = 'single-document';\n      this._remote = new DeckRemote({ manager: this });\n      this._designTools = new DesignTools({ manager: this });\n      window.addEventListener('resize', this._addDeckStylesLater);\n    }\n    _shell.update();\n\n    await this._onActiveWidgetChanged();\n\n    if (_activeWidget) {\n      const presenter = this._getPresenter(_activeWidget);\n      if (presenter) {\n        this._activePresenter = presenter;\n        await presenter.start(_activeWidget);\n      } else {\n        this._activePresenter = null;\n      }\n    }\n\n    _shell.expandLeft();\n    _shell.expandRight();\n    _shell.collapseLeft();\n    _shell.collapseRight();\n    setTimeout(() => {\n      _shell.collapseLeft();\n      _shell.collapseRight();\n    }, 1000);\n\n    if (!wasActive) {\n      this._addDeckStyles();\n    }\n    this._activeChanged.emit(void 0);\n  };\n\n  public get activeWidget(): Widget | null {\n    return this._activeWidget;\n  }\n\n  /** disable deck mode */\n  public stop = async (): Promise<void> => {\n    /* istanbul ignore if */\n    if (!this._active) {\n      return;\n    }\n\n    const { _activeWidget, _shell, _statusbar, _remote, _layover, _designTools } = this;\n\n    /* istanbul ignore if */\n    if (_layover) {\n      await this.hideLayover();\n    }\n\n    if (_activeWidget) {\n      const presenter = this._getPresenter(_activeWidget);\n      if (presenter) {\n        await presenter.stop(_activeWidget);\n      }\n    }\n\n    if (_statusbar && this._statusBarWasEnabled) {\n      _statusbar.show();\n    }\n\n    each(this._dockpanel.tabBars(), (bar) => bar.show());\n\n    if (_remote) {\n      _remote.dispose();\n      this._remote = null;\n    }\n    if (_designTools) {\n      _designTools.dispose();\n      this._designTools = null;\n    }\n    _shell.presentationMode = false;\n    _shell.mode = 'multiple-document';\n    window.removeEventListener('resize', this._addDeckStylesLater);\n    delete document.body.dataset[DATA.deckMode];\n    this._activeWidget = null;\n    this._active = false;\n    this._activeWidgetStack = [];\n    void this._settings.then((settings) => settings.set('active', false));\n  };\n\n  /** move around */\n  public go = async (direction: TDirection, alternate?: TDirection): Promise<void> => {\n    /* istanbul ignore if */\n    if (!this._activeWidget) {\n      return;\n    }\n    const presenter = this._getPresenter(this._activeWidget);\n    /* istanbul ignore if */\n    if (!presenter) {\n      return;\n    }\n    await presenter.go(this._activeWidget, direction, alternate);\n    this._activeChanged.emit(void 0);\n  };\n\n  public canGo(): Partial<TCanGoDirection> {\n    const { _active, _activeWidget } = this;\n    if (_active && _activeWidget) {\n      const presenter = this._getPresenter(_activeWidget);\n      if (presenter) {\n        return presenter.canGo(_activeWidget);\n      }\n    }\n    return {};\n  }\n\n  protected _sortByRank(a: IPresenter<any>, b: IPresenter<any>) {\n    return a.rank - b.rank || a.id.localeCompare(b.id);\n  }\n\n  protected _getPresenter(widget: Widget | null): IPresenter<Widget> | null {\n    if (widget) {\n      for (const presenter of this._presenters) {\n        if (presenter.accepts(widget)) {\n          return presenter;\n        }\n      }\n    }\n    /* istanbul ignore next */\n    return null;\n  }\n\n  /** overload the stock notebook keyboard shortcuts */\n  protected _addKeyBindings() {\n    for (const direction of Object.values(DIRECTION)) {\n      this._commands.addKeyBinding({\n        command: CommandIds[direction],\n        args: {},\n        keys: DIRECTION_KEYS[direction],\n        selector: `.${CSS.remote}`,\n      });\n    }\n    for (const [directions, keys] of COMPOUND_KEYS.entries()) {\n      const [direction, alternate] = directions;\n      this._commands.addKeyBinding({\n        command: CommandIds.go,\n        args: { direction, alternate },\n        keys,\n        selector: `.${CSS.remote}`,\n      });\n    }\n  }\n\n  public async showLayover() {\n    if (!this._layover) {\n      this._layover = new (await import('./tools/layover')).Layover({ manager: this });\n      this._layoverChanged.emit(void 0);\n    }\n    await this.start(true);\n  }\n\n  public async hideLayover() {\n    if (this._layover) {\n      this._layover.dispose();\n      this._layover = null;\n      this._layoverChanged.emit(void 0);\n    }\n  }\n\n  public getSlideType(): TSlideType {\n    let { _activeWidget, _activePresenter } = this;\n    if (_activeWidget && _activePresenter?.getSlideType) {\n      return _activePresenter.getSlideType(_activeWidget) || null;\n    }\n    /* istanbul ignore next */\n    return null;\n  }\n\n  public setSlideType(slideType: TSlideType): void {\n    let { _activeWidget, _activePresenter } = this;\n    if (_activeWidget && _activePresenter?.setSlideType) {\n      _activePresenter.setSlideType(_activeWidget, slideType);\n    }\n  }\n\n  public getLayerScope(): TLayerScope | null {\n    let { _activeWidget, _activePresenter } = this;\n    if (_activeWidget && _activePresenter?.getLayerScope) {\n      return _activePresenter.getLayerScope(_activeWidget) || null;\n    }\n    /* istanbul ignore next */\n    return null;\n  }\n\n  public setLayerScope(layerScope: TLayerScope | null): void {\n    let { _activeWidget, _activePresenter } = this;\n    if (_activeWidget && _activePresenter?.setLayerScope) {\n      _activePresenter.setLayerScope(_activeWidget, layerScope);\n    }\n  }\n\n  public getPartStyles(): GlobalStyles | null {\n    let { _activeWidget, _activePresenter } = this;\n    if (_activeWidget && _activePresenter?.getPartStyles) {\n      const styles = _activePresenter.getPartStyles(_activeWidget) || null;\n      return styles;\n    }\n    /* istanbul ignore next */\n    return null;\n  }\n  public setPartStyles(styles: GlobalStyles | null): void {\n    let { _activeWidget, _activePresenter } = this;\n    if (_activeWidget && _activePresenter?.setPartStyles) {\n      _activePresenter.setPartStyles(_activeWidget, styles);\n    }\n  }\n\n  public activateWidget(widget: Widget): void {\n    this._shell.activateById(widget.node.id);\n  }\n\n  public get activeWidgetStack(): Widget[] {\n    return [...this._activeWidgetStack];\n  }\n\n  protected _addCommands() {\n    let { _commands, __, go } = this;\n    _commands.addCommand(CommandIds.start, {\n      label: __('Start Deck'),\n      icon: ICONS.deckStart,\n      execute: () => this.start(),\n    });\n    _commands.addCommand(CommandIds.stop, {\n      label: __('Stop Deck'),\n      icon: ICONS.deckStop,\n      execute: this.stop,\n    });\n    _commands.addCommand(CommandIds.toggle, {\n      label: __('Toggle Deck'),\n      icon: ICONS.deckStop,\n      execute: async () => {\n        await (this._active ? this.stop() : this.start());\n      },\n    });\n\n    this._commands.addCommand(CommandIds.showLayover, {\n      icon: ICONS.transformStart,\n      label: this.__('Show Slide Layout'),\n      execute: () => this.showLayover(),\n    });\n\n    this._commands.addCommand(CommandIds.hideLayover, {\n      icon: ICONS.transformStop,\n      label: this.__('Hide Slide Layout'),\n      execute: () => this.hideLayover(),\n    });\n\n    _commands.addCommand(CommandIds.go, {\n      label: __('Go direction in Deck'),\n      execute: async (args: any) => {\n        const direction = DIRECTION[args.direction];\n        const alternate = DIRECTION[args.alternate];\n        if (direction) {\n          await go(direction, alternate);\n        } else {\n          console.warn(EMOJI + __(`Can't go \"%1\" in Deck`, args.direction));\n        }\n      },\n    });\n    for (const [direction, label] of Object.entries(DIRECTION_LABEL)) {\n      _commands.addCommand(CommandIds[direction as TDirection], {\n        label: __(label),\n        execute: () => go(direction as TDirection),\n      });\n    }\n  }\n\n  protected get _dockpanel(): DockPanel {\n    return (this._shell as any)._dockPanel as DockPanel;\n  }\n\n  /** handle the active widget changing */\n  protected async _onActiveWidgetChanged(): Promise<void> {\n    if (!this._active) {\n      this._activeWidget = null;\n      return;\n    }\n\n    const { _activeWidget, _shellActiveWidget } = this;\n\n    if (!_shellActiveWidget || _shellActiveWidget === _activeWidget) {\n      /* modals and stuff? */\n      return;\n    }\n\n    if (_activeWidget) {\n      const presenter = this._getPresenter(_activeWidget);\n      if (presenter) {\n        await presenter.stop(_activeWidget);\n      }\n      if (!this._activeWidgetStack.includes(_activeWidget)) {\n        this._activeWidgetStack.push(_activeWidget);\n      }\n    }\n\n    this._activeWidget = _shellActiveWidget;\n\n    if (_shellActiveWidget) {\n      if (this._activeWidgetStack.includes(_shellActiveWidget)) {\n        this._activeWidgetStack.splice(\n          this._activeWidgetStack.indexOf(_shellActiveWidget),\n          1\n        );\n      }\n      const presenter = this._getPresenter(_shellActiveWidget);\n      if (presenter) {\n        this._activePresenter = presenter;\n        await presenter.start(_shellActiveWidget);\n      } else {\n        this._activePresenter = null;\n      }\n    } else {\n      this._activePresenter = null;\n    }\n\n    this._addDeckStyles();\n    this._activeChanged.emit(void 0);\n  }\n\n  protected get _shellActiveWidget(): Widget | null {\n    if (this._shell.activeWidget) {\n      return this._shell.activeWidget;\n    }\n    const selected = this._dockpanel.selectedWidgets();\n    const widget = selected.next();\n    return widget || null;\n  }\n\n  protected async _onSettingsChanged() {\n    const settings = await this._settings;\n    let composite: IDeckSettings;\n    composite = settings.composite as IDeckSettings;\n    const active = composite.active === true;\n\n    if (active && !this._active) {\n      void this.start();\n    } else if (!active && this._active) {\n      void this.stop();\n    }\n\n    if (composite.stylePresets) {\n      for (let keyPreset of Object.entries(composite.stylePresets)) {\n        let [key, preset] = keyPreset;\n        let { scope, label, styles } = preset;\n        if (!styles || !label) {\n          continue;\n        }\n        this._stylePresets.set(key, {\n          key,\n          scope: scope || 'any',\n          styles,\n          label,\n        });\n        this._stylePresetsChanged.emit(void 0);\n      }\n    }\n  }\n\n  cacheStyle(...nodes: HTMLElement[]) {\n    for (const node of nodes) {\n      if (!this._styleCache.get(node)) {\n        this._styleCache.set(node, node.getAttribute('style') || '');\n      }\n      node.setAttribute('style', '');\n    }\n  }\n\n  uncacheStyle(...nodes: HTMLElement[]) {\n    for (const node of nodes) {\n      const style = this._styleCache.get(node);\n      if (style) {\n        node.setAttribute('style', style);\n        this._styleCache.delete(node);\n      }\n    }\n  }\n\n  protected _addDeckStyles = () => {\n    const { _activeWidget } = this;\n    if (_activeWidget) {\n      const presenter = this._getPresenter(this._activeWidget);\n      if (presenter) {\n        presenter.style(_activeWidget);\n      }\n    }\n    const { _remote } = this;\n    let clearStyles: HTMLElement[] = [];\n\n    if (_remote) {\n      clearStyles.push(_remote.node);\n    }\n    for (const clear of clearStyles) {\n      clear.setAttribute('style', '');\n    }\n  };\n\n  protected _addDeckStylesLater = () => {\n    if (!this._active) {\n      return;\n    }\n    this._shell.update();\n    this._shell.fit();\n    setTimeout(this._addDeckStyles, 10);\n  };\n}\n\nexport namespace DeckManager {\n  export interface IOptions {\n    commands: CommandRegistry;\n    shell: LabShell;\n    translator: TranslationBundle;\n    statusbar: StatusBar | null;\n    settings: Promise<ISettingRegistry.ISettings>;\n    appStarted: Promise<void>;\n    fonts: IFontManager;\n  }\n  export interface IExtent {\n    onScreen: number[];\n    visible: number[];\n    notes: number[];\n  }\n  export type TExtentMap = Map<number, IExtent>;\n}\n","import { MarkdownDocument } from '@jupyterlab/markdownviewer';\nimport { CommandRegistry } from '@lumino/commands';\nimport { ISignal, Signal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\n\nimport {\n  IDeckManager,\n  IPresenter,\n  TCanGoDirection,\n  TDirection,\n  CSS,\n  DIRECTION,\n  CommandIds,\n  DIRECTION_KEYS,\n  COMPOUND_KEYS,\n} from '../tokens';\n\nexport class SimpleMarkdownPresenter implements IPresenter<MarkdownDocument> {\n  protected _activeChanged = new Signal<IPresenter<MarkdownDocument>, void>(this);\n\n  public readonly id = 'simple-markdown';\n  public readonly rank = 100;\n  public readonly capabilities = {};\n  protected _manager: IDeckManager;\n  protected _previousActiveCellIndex: number = -1;\n  protected _commands: CommandRegistry;\n  protected _activeSlide = new Map<MarkdownDocument, number>();\n  protected _lastSlide = new Map<MarkdownDocument, number>();\n  protected _stylesheets = new Map<MarkdownDocument, HTMLStyleElement>();\n\n  constructor(options: SimpleMarkdownPresenter.IOptions) {\n    this._manager = options.manager;\n    this._commands = options.commands;\n    this._addKeyBindings();\n    this._addWindowListeners();\n  }\n\n  public accepts(widget: Widget): MarkdownDocument | null {\n    if (widget instanceof MarkdownDocument) {\n      return widget;\n    }\n    return null;\n  }\n\n  public async stop(panel: MarkdownDocument): Promise<void> {\n    this._removeStyle(panel);\n    return;\n  }\n  public async start(panel: MarkdownDocument): Promise<void> {\n    const activeSlide = this._activeSlide.get(panel) || 1;\n    await panel.content.ready;\n    this._updateSheet(panel, activeSlide);\n    return;\n  }\n\n  public async go(\n    panel: MarkdownDocument,\n    direction: TDirection,\n    alternate?: TDirection\n  ): Promise<void> {\n    await panel.content.ready;\n    let index = this._activeSlide.get(panel) || 1;\n    let lastSlide = this._lastSlide.get(panel) || -1;\n    if (direction == 'forward' || alternate == 'forward') {\n      index++;\n    } else if (direction == 'back' || alternate == 'back') {\n      index--;\n    }\n    index = index < 1 ? 1 : index > lastSlide ? lastSlide : index;\n    this._updateSheet(panel, index);\n  }\n\n  public canGo(panel: MarkdownDocument): Partial<TCanGoDirection> {\n    let index = this._activeSlide.get(panel) || 1;\n    // TODO: someplace better\n    let hrCount = panel.content.renderer.node.querySelectorAll('hr').length;\n    this._lastSlide.set(panel, hrCount);\n    return {\n      forward: index < hrCount,\n      back: index > 1,\n    };\n  }\n\n  public style(panel: MarkdownDocument): void {\n    const { _manager } = this;\n    panel.addClass(CSS.deck);\n    _manager.cacheStyle(panel.node, panel.content.node, panel.content.renderer.node);\n  }\n\n  public get activeChanged(): ISignal<IPresenter<MarkdownDocument>, void> {\n    return this._activeChanged;\n  }\n\n  /** overload the stock notebook keyboard shortcuts */\n  protected _addKeyBindings() {\n    for (const direction of Object.values(DIRECTION)) {\n      this._commands.addKeyBinding({\n        command: CommandIds[direction],\n        keys: DIRECTION_KEYS[direction],\n        selector: `.${CSS.deck} .${CSS.markdownViewer}`,\n      });\n    }\n    for (const [directions, keys] of COMPOUND_KEYS.entries()) {\n      const [direction, alternate] = directions;\n      this._commands.addKeyBinding({\n        command: CommandIds.go,\n        args: { direction, alternate },\n        keys,\n        selector: `.${CSS.deck} .${CSS.markdownViewer}`,\n      });\n    }\n  }\n\n  protected _addWindowListeners() {\n    window.addEventListener('hashchange', this._onHashChange);\n  }\n\n  protected _onHashChange = (event: HashChangeEvent) => {\n    const { activeWidget } = this._manager;\n    const panel = activeWidget && this.accepts(activeWidget);\n    /* istanbul ignore if */\n    if (!panel) {\n      return;\n    }\n    const url = new URL(event.newURL);\n    const { hash } = url || '#';\n    /* istanbul ignore if */\n    if (hash === '#') {\n      return;\n    }\n    this._activateByAnchor(panel, hash);\n  };\n\n  protected _activateByAnchor(panel: MarkdownDocument, fragment: string) {\n    const anchored = document.getElementById(fragment.slice(1));\n    /* istanbul ignore if */\n    if (!anchored || !panel.node.contains(anchored)) {\n      return;\n    }\n    let index = 0;\n    for (const child of panel.content.renderer.node.children) {\n      if (child.tagName === 'HR') {\n        index += 1;\n        continue;\n      }\n      if (child === anchored) {\n        this._updateSheet(panel, index);\n        break;\n      }\n    }\n  }\n\n  protected _updateSheet(panel: MarkdownDocument, index: number) {\n    let sheet = this._stylesheets.get(panel);\n    if (sheet == null) {\n      sheet = document.createElement('style');\n      sheet.className = CSS.sheet;\n      this._stylesheets.set(panel, sheet);\n      document.body.appendChild(sheet);\n    }\n    sheet.textContent = `\n    #${panel.id} > .${CSS.markdownViewer} .${\n      CSS.renderedMarkdown\n    } > hr:nth-of-type(${index}) ~ :not(hr:nth-of-type(${index + 1}) ~ *):not(hr) {\n      display: block;\n    }`;\n    this._activeSlide.set(panel, index);\n  }\n\n  protected _removeStyle(panel: MarkdownDocument) {\n    /* istanbul ignore if */\n    if (panel.isDisposed) {\n      return;\n    }\n    const { _manager } = this;\n    panel.removeClass(CSS.deck);\n    _manager.uncacheStyle(panel.content.node, panel.node, panel.content.renderer.node);\n  }\n}\n\nexport namespace SimpleMarkdownPresenter {\n  export interface IOptions {\n    manager: IDeckManager;\n    commands: CommandRegistry;\n  }\n}\n","import { CommandToolbarButton } from '@jupyterlab/apputils';\nimport { DocumentRegistry } from '@jupyterlab/docregistry';\nimport { NotebookPanel, INotebookModel } from '@jupyterlab/notebook';\nimport { CommandRegistry } from '@lumino/commands';\nimport { IDisposable, DisposableDelegate } from '@lumino/disposable';\n\nimport { CommandIds } from '../tokens';\n\nimport { NotebookPresenter } from './presenter';\n\nexport class NotebookDeckExtension\n  implements DocumentRegistry.IWidgetExtension<NotebookPanel, INotebookModel>\n{\n  private _commands: CommandRegistry;\n  private _presenter: NotebookPresenter;\n\n  constructor(options: DeckExtension.IOptions) {\n    this._commands = options.commands;\n    this._presenter = options.presenter;\n  }\n\n  createNew(\n    panel: NotebookPanel,\n    context: DocumentRegistry.IContext<INotebookModel>\n  ): IDisposable {\n    const button = new CommandToolbarButton({\n      commands: this._commands,\n      label: '',\n      id: CommandIds.toggle,\n    });\n\n    panel.toolbar.insertItem(5, 'deck', button);\n\n    this._presenter.preparePanel(panel);\n\n    return new DisposableDelegate(() => button.dispose());\n  }\n}\n\nexport namespace DeckExtension {\n  export interface IOptions {\n    commands: CommandRegistry;\n    presenter: NotebookPresenter;\n  }\n}\n","import { ISettings, Stylist } from '@deathbeds/jupyterlab-fonts';\nimport { VDomModel, VDomRenderer } from '@jupyterlab/apputils';\nimport { Cell, ICellModel } from '@jupyterlab/cells';\nimport { INotebookTools, NotebookTools } from '@jupyterlab/notebook';\nimport { JSONExt, ReadonlyPartialJSONObject } from '@lumino/coreutils';\nimport { PanelLayout } from '@lumino/widgets';\nimport React from 'react';\n\nimport { ICONS } from '../icons';\nimport {\n  CSS,\n  ICellDeckMetadata,\n  ID,\n  IDeckManager,\n  IStylePreset,\n  LAYER_SCOPES,\n  LAYER_TITLES,\n  META,\n  TLayerScope,\n} from '../tokens';\n\ntype __ = IDeckManager['__'];\n\nexport class NotebookMetaTools extends NotebookTools.Tool {\n  constructor(options: NotebookMetaTools.IOptions) {\n    super();\n    const layout = new PanelLayout();\n    this._model = new DeckCellEditor.Model(options);\n    this._notebookTools = options.notebookTools;\n    layout.addWidget(new DeckCellEditor(this._model));\n    this.layout = layout;\n    this.addClass(CSS.metaTool);\n  }\n  protected onActiveCellChanged(): void {\n    this._model.activeCell = this._notebookTools.activeCell;\n  }\n\n  protected onActiveCellMetadataChanged(): void {\n    this._model.update();\n  }\n\n  protected _model: DeckCellEditor.Model;\n  protected _notebookTools: INotebookTools;\n}\n\nexport namespace NotebookMetaTools {\n  export interface IOptions {\n    manager: IDeckManager;\n    notebookTools: INotebookTools;\n  }\n}\n\nexport class DeckCellEditor extends VDomRenderer<DeckCellEditor.Model> {\n  protected render(): JSX.Element {\n    const m = this.model;\n    const { activeMeta, manager } = m;\n    const { __ } = manager;\n\n    const layer = activeMeta?.layer || '-';\n\n    return (\n      <div>\n        {this.layerTool(layer, __)}\n        {this.presetTool(__)}\n      </div>\n    );\n  }\n\n  presetTool(__: __) {\n    return (\n      <div className={CSS.toolPreset}>\n        <label\n          title={__('Choose from pre-defined style templates.')}\n          htmlFor={ID.layerSelect}\n        >\n          {__('Slide Style')}\n          <ICONS.deckStart.react tag=\"span\" width={16} />\n        </label>\n        <div className={CSS.selectSplit}>\n          <div className={CSS.selectWrapper}>\n            <select\n              className={CSS.styled}\n              value={this.model.selectedPreset}\n              onChange={this.model.onPresetSelect}\n              id={ID.presetSelect}\n            >\n              {this.presetOptions(__)}\n            </select>\n          </div>\n          <button\n            className={`${CSS.styled} ${CSS.apply}`}\n            onClick={this.model.applyPreset}\n          >\n            {__('Add Style')}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  layerTool(layer: TLayerScope | '-', __: __) {\n    return (\n      <div className={CSS.toolLayer}>\n        <label\n          title={__('Display this cell as an out-of-order layer.')}\n          htmlFor={ID.layerSelect}\n        >\n          {__('Layer')}\n          <ICONS.deckStart.react tag=\"span\" width={16} />\n          <div className={CSS.selectWrapper}>\n            <select\n              className={CSS.styled}\n              value={layer}\n              onChange={this.model.onLayerChange}\n              id={ID.layerSelect}\n            >\n              {this.layerOptions(__)}\n            </select>\n          </div>\n        </label>\n      </div>\n    );\n  }\n\n  presetOptions(__: __): JSX.Element[] {\n    // todo: get options from... elsewhere\n    const presetOptions: JSX.Element[] = [\n      <option key=\"-\" value=\"\">\n        -\n      </option>,\n    ];\n    for (const preset of this.model.stylePresets) {\n      presetOptions.push(\n        <option value={preset.key} key={preset.key}>\n          {__(preset.label)}\n        </option>\n      );\n    }\n    return presetOptions;\n  }\n\n  layerOptions(__: __): JSX.Element[] {\n    const layerOptions: JSX.Element[] = [];\n\n    for (const [layerValue, layerTitle] of Object.entries(LAYER_TITLES)) {\n      layerOptions.push(\n        <option value={layerValue} key={layerValue} title={__(layerTitle)}>\n          {__(layerValue)}\n        </option>\n      );\n    }\n    return layerOptions;\n  }\n}\n\nexport namespace DeckCellEditor {\n  export class Model extends VDomModel {\n    constructor(options: NotebookMetaTools.IOptions) {\n      super();\n      this._manager = options.manager;\n      this._notebookTools = options.notebookTools;\n    }\n\n    update() {\n      this._activeMeta =\n        (this._activeCell?.model.metadata.get(META.deck) as any as ICellDeckMetadata) ||\n        JSONExt.emptyObject;\n      this.stateChanged.emit(void 0);\n    }\n\n    onLayerChange = (change: React.ChangeEvent<HTMLSelectElement>) => {\n      const { _activeCell } = this;\n      /* istanbul ignore if */\n      if (!_activeCell) {\n        return;\n      }\n      let layer = change.target.value;\n      let newMeta = { ...this._activeMeta } || {};\n      if (layer === '-') {\n        delete newMeta.layer;\n        this._setDeckMetadata(newMeta, _activeCell);\n      } else if (LAYER_SCOPES.includes(layer as any)) {\n        newMeta.layer = layer as TLayerScope;\n        this._setDeckMetadata(newMeta, _activeCell);\n      }\n    };\n\n    applyPreset = () => {\n      if (!this._activeCell || !this._selectedPreset) {\n        return;\n      }\n      let meta = {\n        ...((this._activeCell.model.metadata.get(META.fonts) ||\n          JSONExt.emptyObject) as ISettings),\n      };\n      for (const preset of this._manager.stylePresets) {\n        if (preset.key != this._selectedPreset) {\n          continue;\n        }\n        if (!meta['styles']) {\n          meta['styles'] = {};\n        }\n\n        let metaStyles = meta['styles'] as any;\n        if (!metaStyles[META.nullSelector]) {\n          metaStyles[META.nullSelector] = {};\n        }\n\n        let metaNull = metaStyles[META.nullSelector] as any;\n\n        if (!metaNull[META.presentingCell]) {\n          metaNull[META.presentingCell] = {};\n        }\n\n        let presenting = metaNull[META.presentingCell];\n        for (let [key, value] of Object.entries(preset.styles)) {\n          presenting[key] = value;\n        }\n        this._activeCell.model.metadata.delete(META.fonts);\n        this._activeCell.model.metadata.set(META.fonts, meta as any);\n        this.forceStyle();\n        this._notebookTools.update();\n        return;\n      }\n    };\n\n    forceStyle() {\n      let panel = this._notebookTools.activeNotebookPanel;\n      if (!panel) {\n        return;\n      }\n      let stylist = (this._manager.fonts as any)._stylist as Stylist;\n      let meta = panel.model?.metadata.get(META.fonts) || JSONExt.emptyObject;\n      stylist.stylesheet(meta as ISettings, panel);\n    }\n\n    get selectedPreset() {\n      return this._selectedPreset;\n    }\n\n    get stylePresets(): IStylePreset[] {\n      return this._manager.stylePresets;\n    }\n\n    onPresetSelect = (change: React.ChangeEvent<HTMLSelectElement>) => {\n      this._selectedPreset = change.target.value;\n      this.stateChanged.emit(void 0);\n    };\n\n    protected _setDeckMetadata(newMeta: ICellDeckMetadata, cell: Cell<ICellModel>) {\n      if (Object.keys(newMeta).length) {\n        cell.model.metadata.set(META.deck, newMeta as ReadonlyPartialJSONObject);\n      } else {\n        cell.model.metadata.delete(META.deck);\n      }\n    }\n\n    get manager() {\n      return this._manager;\n    }\n\n    set activeCell(activeCell: Cell<ICellModel> | null) {\n      if (this._activeCell === activeCell) {\n        return;\n      }\n      this._activeCell = activeCell;\n      this.update();\n    }\n    get activeMeta() {\n      return this._activeMeta;\n    }\n    private _manager: IDeckManager;\n    private _activeCell: Cell<ICellModel> | null = null;\n    private _activeMeta: ICellDeckMetadata | null = null;\n    private _selectedPreset: string = '';\n    private _notebookTools: INotebookTools;\n  }\n}\n","import { ISettings, Stylist } from '@deathbeds/jupyterlab-fonts';\nimport type { GlobalStyles } from '@deathbeds/jupyterlab-fonts/lib/_schema';\nimport { Cell, ICellModel } from '@jupyterlab/cells';\nimport {\n  INotebookModel,\n  INotebookTools,\n  Notebook,\n  NotebookPanel,\n} from '@jupyterlab/notebook';\nimport { toArray } from '@lumino/algorithm';\nimport { CommandRegistry } from '@lumino/commands';\nimport { JSONExt } from '@lumino/coreutils';\nimport { ElementExt } from '@lumino/domutils';\nimport { ISignal, Signal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\n\nimport {\n  DIRECTION,\n  IPresenter,\n  TDirection,\n  CSS,\n  IDeckManager,\n  TSlideType,\n  EMOJI,\n  CommandIds,\n  DIRECTION_KEYS,\n  TCanGoDirection,\n  COMPOUND_KEYS,\n  META,\n  ICellDeckMetadata,\n  TLayerScope,\n} from '../tokens';\nimport type { Layover } from '../tools/layover';\n\nimport { NotebookMetaTools } from './metadata';\n\nconst emptyMap = Object.freeze(new Map());\n\n/** An presenter for working with notebooks */\nexport class NotebookPresenter implements IPresenter<NotebookPanel> {\n  public readonly id = 'notebooks';\n  public readonly rank = 100;\n  public readonly capabilities = {\n    layout: true,\n    slideType: true,\n    layerScope: true,\n    stylePart: true,\n    styleDeck: true,\n  };\n\n  protected _manager: IDeckManager;\n  protected _previousActiveCellIndex: number = -1;\n  protected _commands: CommandRegistry;\n  protected _activeChanged = new Signal<IPresenter<NotebookPanel>, void>(this);\n  protected _extents = new Map<INotebookModel, NotebookPresenter.TExtentMap>();\n  protected _layers = new Map<INotebookModel, NotebookPresenter.TLayerMap>();\n\n  constructor(options: NotebookPresenter.IOptions) {\n    this._manager = options.manager;\n    this._commands = options.commands;\n    this._makeDeckTools(options.notebookTools);\n    this._addKeyBindings();\n    this._addWindowListeners();\n  }\n\n  public accepts(widget: Widget): NotebookPanel | null {\n    if (widget instanceof NotebookPanel) {\n      return widget;\n    }\n    return null;\n  }\n\n  public style(panel: NotebookPanel): void {\n    panel.addClass(CSS.deck);\n    this._manager.cacheStyle(panel.node, panel.content.node);\n  }\n\n  public async stop(panel: NotebookPanel): Promise<void> {\n    const notebookModel = panel.content.model;\n    if (notebookModel) {\n      this._extents.delete(notebookModel);\n      this._layers.delete(notebookModel);\n    }\n    this._removeStyle(panel);\n    panel.content.activeCellChanged.disconnect(this._onActiveCellChanged, this);\n    panel.update();\n\n    const { activeCell } = panel.content;\n\n    if (activeCell) {\n      setTimeout(() => {\n        if (this._manager.activeWidget !== panel) {\n          return;\n        }\n        ElementExt.scrollIntoViewIfNeeded(panel.content.node, activeCell.node);\n      }, 100);\n    }\n  }\n\n  public async start(panel: NotebookPanel): Promise<void> {\n    const { model, content: notebook } = panel;\n    if (model) {\n      const _watchPanel = async (change: any) => {\n        /* istanbul ignore if */\n        if (panel.isDisposed) {\n          model.stateChanged.disconnect(_watchPanel);\n          return;\n        }\n        await this._onActiveCellChanged(panel.content);\n      };\n      model.stateChanged.connect(_watchPanel);\n    }\n    const { model: notebookModel } = notebook;\n    if (notebookModel) {\n      notebookModel.contentChanged.connect(this._onNotebookContentChanged, this);\n    }\n\n    panel.content.activeCellChanged.connect(this._onActiveCellChanged, this);\n    await this._onActiveCellChanged(panel.content);\n    this._forceStyle();\n  }\n\n  public get activeChanged(): ISignal<IPresenter<NotebookPanel>, void> {\n    return this._activeChanged;\n  }\n\n  public getSlideType(panel: NotebookPanel): TSlideType {\n    let { activeCell } = panel.content;\n    if (activeCell) {\n      const meta = (activeCell.model.metadata.get(META.slideshow) || {}) as any;\n      return (meta[META.slideType] || null) as TSlideType;\n    }\n    return null;\n  }\n\n  public setSlideType(panel: NotebookPanel, slideType: TSlideType): void {\n    let { activeCell } = panel.content;\n    /* istanbul ignore if */\n    if (!activeCell) {\n      return;\n    }\n    let oldMeta =\n      (activeCell.model.metadata.get(META.slideshow) as Record<string, any>) || null;\n    if (slideType == null) {\n      if (oldMeta == null) {\n        activeCell.model.metadata.delete(META.slideshow);\n      } else {\n        activeCell.model.metadata.set(META.slideshow, {\n          ...oldMeta,\n          [META.slideType]: slideType,\n        });\n      }\n    } else {\n      if (oldMeta == null) {\n        oldMeta = {};\n      }\n      activeCell.model.metadata.set(META.slideshow, {\n        ...oldMeta,\n        [META.slideType]: slideType,\n      });\n    }\n    if (panel.content.model) {\n      this._onNotebookContentChanged(panel.content.model);\n    }\n    void this._onActiveCellChanged(panel.content);\n  }\n\n  public getLayerScope(panel: NotebookPanel): string | null {\n    let { activeCell } = panel.content;\n    if (activeCell) {\n      const meta = (activeCell.model.metadata.get(META.deck) || {}) as any;\n      return (meta[META.layer] || null) as TLayerScope;\n    }\n    return null;\n  }\n\n  public setLayerScope(panel: NotebookPanel, layerScope: TLayerScope): void {\n    let { activeCell } = panel.content;\n    if (!activeCell) {\n      return;\n    }\n    let oldMeta =\n      (activeCell.model.metadata.get(META.deck) as Record<string, any>) || null;\n    if (layerScope == null) {\n      if (oldMeta == null) {\n        activeCell.model.metadata.delete(META.layer);\n      } else {\n        activeCell.model.metadata.set(META.deck, {\n          ...oldMeta,\n          [META.layer]: layerScope,\n        });\n      }\n    } else {\n      if (oldMeta == null) {\n        oldMeta = {};\n      }\n      activeCell.model.metadata.set(META.deck, {\n        ...oldMeta,\n        [META.layer]: layerScope,\n      });\n    }\n    if (panel.content.model) {\n      this._onNotebookContentChanged(panel.content.model);\n    }\n    void this._onActiveCellChanged(panel.content);\n  }\n\n  public getPartStyles(panel: NotebookPanel): GlobalStyles | null {\n    let { activeCell } = panel.content;\n    if (!activeCell) {\n      return null;\n    }\n    return this._getCellStyles(activeCell);\n  }\n\n  public setPartStyles(panel: NotebookPanel, styles: GlobalStyles | null): void {\n    let { activeCell } = panel.content;\n    /* istanbul ignore if */\n    if (!activeCell) {\n      return;\n    }\n    return this._setCellStyles(activeCell, styles);\n  }\n\n  public preparePanel(panel: NotebookPanel) {\n    let notebook = panel.content;\n    let oldSetFragment = notebook.setFragment;\n    notebook.setFragment = (fragment: string): void => {\n      oldSetFragment.call(notebook, fragment);\n      if (this._manager.activePresenter === this) {\n        void Promise.all(notebook.widgets.map((widget) => widget.ready)).then(() => {\n          this._activateByAnchor(notebook, fragment);\n        });\n      }\n    };\n  }\n\n  protected _makeDeckTools(notebookTools: INotebookTools) {\n    const tool = new NotebookMetaTools({ manager: this._manager, notebookTools });\n    notebookTools.addItem({ tool, section: 'common', rank: 3 });\n  }\n\n  protected _addWindowListeners() {\n    window.addEventListener('hashchange', this._onHashChange);\n  }\n\n  protected _onHashChange = (event: HashChangeEvent) => {\n    const { activeWidget } = this._manager;\n    const panel = activeWidget && this.accepts(activeWidget);\n    /* istanbul ignore if */\n    if (!panel) {\n      return;\n    }\n    const url = new URL(event.newURL);\n    const { hash } = url || '#';\n    /* istanbul ignore if */\n    if (hash === '#') {\n      return;\n    }\n    this._activateByAnchor(panel.content, hash);\n  };\n\n  protected _activateByAnchor(notebook: Notebook, fragment: string) {\n    const anchored = document.getElementById(fragment.slice(1));\n    /* istanbul ignore if */\n    if (!anchored || !notebook.node.contains(anchored)) {\n      return;\n    }\n    let i = -1;\n    let cellCount = notebook.widgets.length;\n    while (i < cellCount) {\n      i++;\n      let cell = notebook.widgets[i];\n      if (cell.node.contains(anchored)) {\n        notebook.activeCellIndex = i;\n        return;\n      }\n    }\n  }\n\n  protected _onNotebookContentChanged(notebookModel: INotebookModel) {\n    /* istanbul ignore if */\n    if (notebookModel.isDisposed) {\n      notebookModel.contentChanged.disconnect(this._onNotebookContentChanged, this);\n      return;\n    }\n    this._extents.delete(notebookModel);\n    this._layers.delete(notebookModel);\n  }\n\n  /** overload the stock notebook keyboard shortcuts */\n  protected _addKeyBindings() {\n    for (const direction of Object.values(DIRECTION)) {\n      this._commands.addKeyBinding({\n        command: CommandIds[direction],\n        keys: DIRECTION_KEYS[direction],\n        selector: `.${CSS.deck} .jp-Notebook.jp-mod-commandMode:focus`,\n      });\n    }\n    for (const [directions, keys] of COMPOUND_KEYS.entries()) {\n      const [direction, alternate] = directions;\n      this._commands.addKeyBinding({\n        command: CommandIds.go,\n        args: { direction, alternate },\n        keys,\n        selector: `.${CSS.deck} .jp-Notebook.jp-mod-commandMode:focus`,\n      });\n    }\n  }\n\n  public canGo(panel: NotebookPanel): Partial<TCanGoDirection> {\n    let { activeCellIndex, activeCell } = panel.content;\n    const notebookModel = panel.content.model;\n    let activeExtent: NotebookPresenter.IExtent | null = null;\n    if (notebookModel) {\n      const extents = this._getExtents(notebookModel);\n      activeExtent = extents.get(activeCellIndex) || null;\n      if (!activeExtent && activeCell) {\n        let meta = this._getCellDeckMetadata(activeCell.model);\n        if (meta.layer) {\n          while (!activeExtent && activeCellIndex) {\n            activeCellIndex--;\n            activeExtent = extents.get(activeCellIndex) || null;\n          }\n        }\n      }\n    }\n\n    if (activeExtent) {\n      const { up, down, forward, back } = activeExtent;\n      return {\n        up: up != null,\n        down: down != null,\n        forward: forward != null,\n        back: back != null,\n      };\n    }\n    return JSONExt.emptyObject;\n  }\n\n  /** move around */\n  public go = async (\n    panel: NotebookPanel,\n    direction: TDirection,\n    alternate?: TDirection\n  ): Promise<void> => {\n    const notebookModel = panel.content.model;\n    /* istanbul ignore if */\n    if (!notebookModel) {\n      return;\n    }\n    let { activeCellIndex, activeCell } = panel.content;\n\n    const extents = this._getExtents(notebookModel);\n    let activeExtent = extents.get(activeCellIndex);\n\n    if (!activeExtent && activeCell) {\n      let meta = this._getCellDeckMetadata(activeCell.model);\n      if (!meta.layer && direction === 'up') {\n        return;\n      }\n      while (!activeExtent && activeCellIndex) {\n        activeCellIndex--;\n        activeExtent = extents.get(activeCellIndex);\n      }\n    }\n\n    const fromExtent = activeExtent && activeExtent[direction];\n    const fromExtentAlternate = alternate && activeExtent && activeExtent[alternate];\n\n    if (fromExtent != null) {\n      panel.content.activeCellIndex = fromExtent;\n    } else if (fromExtentAlternate != null) {\n      panel.content.activeCellIndex = fromExtentAlternate;\n    } else {\n      console.warn(\n        EMOJI,\n        this._manager.__(`Cannot go \"%1\" from cell %2`, direction, `${activeCellIndex}`)\n      );\n    }\n  };\n\n  protected _removeStyle(panel: NotebookPanel) {\n    if (panel.isDisposed) {\n      return;\n    }\n    const { _manager } = this;\n    panel.removeClass(CSS.deck);\n    _manager.uncacheStyle(panel.content.node, panel.node);\n    for (const cell of panel.content.widgets) {\n      cell.removeClass(CSS.layer);\n      cell.removeClass(CSS.onScreen);\n      cell.removeClass(CSS.visible);\n      cell.node.setAttribute('style', '');\n    }\n  }\n\n  protected async _onActiveCellChanged(notebook: Notebook): Promise<void> {\n    const notebookModel = notebook.model;\n    /* istanbul ignore if */\n    if (!notebookModel || this._manager.activeWidget !== notebook.parent) {\n      return;\n    }\n    const extents = this._getExtents(notebookModel);\n    const layers = this._getLayers(notebookModel, extents);\n\n    let { activeCellIndex } = notebook;\n\n    let cell = notebookModel.cells.get(activeCellIndex);\n\n    let layerIndex: number | null = null;\n\n    if (cell) {\n      let meta = this._getCellDeckMetadata(cell);\n      if (meta && meta.layer) {\n        layerIndex = activeCellIndex;\n      }\n    }\n\n    let activeExtent = extents.get(activeCellIndex);\n\n    if (!activeExtent) {\n      if (layerIndex == null) {\n        let offset = this._previousActiveCellIndex > activeCellIndex ? -1 : 1;\n        notebook.activeCellIndex = activeCellIndex + offset;\n        return;\n      } else {\n        while (activeCellIndex) {\n          activeCellIndex--;\n          activeExtent = extents.get(activeCellIndex);\n          if (activeExtent) {\n            break;\n          }\n        }\n      }\n    }\n\n    if (!activeExtent) {\n      return;\n    }\n\n    this._previousActiveCellIndex = activeCellIndex;\n\n    let idx = -1;\n\n    let activeLayers = layers.get(activeCellIndex) || [];\n\n    idx = -1;\n\n    let { layover } = this._manager;\n\n    let onScreen: Layover.BasePart[] = [];\n\n    for (const cell of notebook.widgets) {\n      idx++;\n\n      if (activeLayers.includes(idx)) {\n        cell.addClass(CSS.layer);\n        cell.addClass(CSS.onScreen);\n        cell.addClass(CSS.visible);\n        if (layover) {\n          onScreen.push(this._toLayoutPart(cell));\n        }\n      } else {\n        cell.removeClass(CSS.layer);\n        if (activeExtent.visible.includes(idx)) {\n          cell.addClass(CSS.visible);\n          cell.editorWidget.update();\n        } else {\n          cell.removeClass(CSS.visible);\n        }\n        if (activeExtent.onScreen.includes(idx)) {\n          cell.addClass(CSS.onScreen);\n          if (layover) {\n            onScreen.push(this._toLayoutPart(cell));\n          }\n        } else {\n          cell.removeClass(CSS.onScreen);\n        }\n      }\n    }\n\n    ElementExt.scrollIntoViewIfNeeded(\n      notebook.node,\n      notebook.widgets[activeCellIndex].node\n    );\n    this._activeChanged.emit(void 0);\n    if (this._manager.layover) {\n      this._manager.layover.model.parts = onScreen;\n    }\n  }\n\n  protected _forceStyle() {\n    let panel = this._manager.activeWidget;\n    if (!panel || !(panel instanceof NotebookPanel)) {\n      return;\n    }\n    let stylist = (this._manager.fonts as any)._stylist as Stylist;\n    let meta = panel.model?.metadata.get(META.fonts) || JSONExt.emptyObject;\n    stylist.stylesheet(meta as ISettings, panel);\n    this._manager.layover?.render();\n  }\n\n  protected _toLayoutPart(cell: Cell<ICellModel>): Layover.BasePart {\n    return {\n      key: cell.model.id,\n      node: cell.node,\n      getStyles: () => this._getCellStyles(cell),\n      setStyles: (styles: GlobalStyles | null) => this._setCellStyles(cell, styles),\n    };\n  }\n\n  protected _getCellStyles(cell: Cell<ICellModel>) {\n    try {\n      const meta = cell.model.metadata.get(META.fonts) as any;\n      const styles = meta.styles[META.nullSelector][META.presentingCell];\n      return styles;\n    } catch {\n      return JSONExt.emptyObject;\n    }\n  }\n\n  protected _setCellStyles(cell: Cell<ICellModel>, styles: GlobalStyles | null) {\n    let meta = (cell.model.metadata.get(META.fonts) || {}) as ISettings;\n    if (!meta.styles) {\n      meta.styles = {};\n    }\n    if (!meta.styles[META.nullSelector]) {\n      meta.styles[META.nullSelector] = {};\n    }\n    (meta.styles[META.nullSelector] as any)[META.presentingCell] = styles;\n    cell.model.metadata.set(META.fonts, JSONExt.emptyObject as any);\n    cell.model.metadata.set(META.fonts, { ...meta } as any);\n    this._forceStyle();\n  }\n\n  /** Get the nbconvert-compatible `slide_type` from metadata. */\n  protected _getSlideType(cell: ICellModel): TSlideType {\n    return (\n      ((cell.metadata.get('slideshow') || JSONExt.emptyObject) as any)['slide_type'] ||\n      null\n    );\n  }\n\n  protected _initExtent(\n    index: number,\n    slideType: TSlideType,\n    extent: Partial<NotebookPresenter.IExtent> = JSONExt.emptyObject\n  ): NotebookPresenter.IExtent {\n    return {\n      parent: null,\n      onScreen: [],\n      visible: [],\n      notes: [],\n      forward: null,\n      back: null,\n      up: null,\n      down: null,\n      ...extent,\n      index,\n      slideType,\n    };\n  }\n\n  protected _lastOnScreenOf(\n    index: number,\n    extents: NotebookPresenter.TExtentMap\n  ): null | NotebookPresenter.IExtent {\n    let e = extents.get(index);\n    /* istanbul ignore if */\n    if (!e) {\n      return null;\n    }\n    return extents.get(e.onScreen[0]) || null;\n  }\n\n  /** Get layer metadata from `jupyterlab-deck` namespace */\n  protected _getCellDeckMetadata(cell: ICellModel): ICellDeckMetadata {\n    return (cell.metadata.get(META.deck) ||\n      JSONExt.emptyObject) as any as ICellDeckMetadata;\n  }\n\n  _numSort(a: number, b: number): number {\n    return a - b;\n  }\n\n  protected _getLayers(\n    notebookModel: INotebookModel | null,\n    extents: NotebookPresenter.TExtentMap\n  ): NotebookPresenter.TLayerMap {\n    if (!notebookModel) {\n      return emptyMap;\n    }\n\n    let cachedLayers = this._layers.get(notebookModel);\n\n    if (cachedLayers) {\n      return cachedLayers;\n    }\n\n    let layers = new Map<number, number[]>();\n    // layers visible on this extent\n    let extentLayers: number[] | null;\n\n    let extentTypes = {\n      slide: [],\n      subslide: [],\n      fragment: [],\n      _anySlide: [],\n      _anyFragment: [],\n      null: [],\n    };\n    for (let extent of extents.values()) {\n      let etype = (extentTypes as any)[extent.slideType || 'null'];\n      if (etype) {\n        etype.push(extent.index);\n      }\n    }\n\n    extentTypes._anySlide = [...extentTypes.slide, ...extentTypes.subslide];\n    extentTypes._anyFragment = [\n      ...extentTypes._anySlide,\n      ...extentTypes.fragment,\n      ...extentTypes.null,\n    ];\n    for (let key in extentTypes) {\n      (extentTypes as any)[key].sort(this._numSort);\n    }\n\n    let extentIndexes = [...extents.keys()];\n    extentIndexes.sort(this._numSort);\n\n    let i = -1;\n    let j = -1;\n    let prev = -1;\n    let start = -1;\n    let end = -1;\n\n    for (const cell of toArray(notebookModel.cells)) {\n      i++;\n      let { layer } = this._getCellDeckMetadata(cell);\n      if (!layer) {\n        continue;\n      }\n      start = extentIndexes[0];\n      for (j of extentIndexes) {\n        if (j > i) {\n          start = prev;\n          break;\n        }\n        prev = j;\n      }\n      prev = end = -1;\n      switch (layer) {\n        case 'deck':\n          end = extentIndexes.slice(-1)[0];\n          break;\n        case 'stack':\n          // visible until the next `slide`\n          for (j of extentTypes.slide) {\n            if (j > start) {\n              end = j - 1;\n              break;\n            }\n          }\n          break;\n        case 'slide':\n          // visible until the next `slide`/`subslide`\n          for (j of extentTypes._anySlide) {\n            if (j > start) {\n              end = j - 1;\n              break;\n            }\n          }\n          break;\n        case 'fragment':\n          // visible until the next `fragment`\n          for (j of extentTypes._anyFragment) {\n            if (j > start) {\n              end = j - 1;\n              break;\n            }\n          }\n          break;\n        default:\n          break;\n      }\n\n      for (let extentIndex of extentIndexes) {\n        if (extentIndex >= start && extentIndex <= end) {\n          extentLayers = layers.get(extentIndex) || null;\n          if (extentLayers != null) {\n            extentLayers.push(i);\n          } else {\n            extentLayers = [i];\n            layers.set(extentIndex, extentLayers);\n          }\n        }\n      }\n    }\n\n    this._layers.set(notebookModel, layers);\n\n    return layers;\n  }\n\n  /** Build a cell index (not id) map of what would be on-screen(s) for a given index\n   *\n   * gather:\n   * - the index\n   * - what is forward/back/up/down\n   *   - fragments advance on down|forward, reverse on up|back\n   * - what is onscreen\n   * - what is visible\n   * - what are the notes\n   */\n  protected _getExtents(\n    notebookModel: INotebookModel | null\n  ): NotebookPresenter.TExtentMap {\n    /* istanbul ignore if */\n    if (!notebookModel) {\n      return emptyMap;\n    }\n    const cachedExtents = this._extents.get(notebookModel);\n    if (cachedExtents && cachedExtents.size) {\n      return cachedExtents;\n    }\n    const extents: NotebookPresenter.TExtentMap = new Map();\n    const stacks: Record<NotebookPresenter.TStackType, NotebookPresenter.IExtent[]> = {\n      slides: [],\n      subslides: [],\n      fragments: [],\n      nulls: [],\n      onScreen: [],\n    };\n\n    let index = -1;\n    for (const cell of toArray(notebookModel.cells)) {\n      index++;\n      let slideType = this._getSlideType(cell);\n      let { layer } = this._getCellDeckMetadata(cell);\n      if (layer) {\n        slideType = 'skip';\n      } else if (index === 0 && (slideType == null || slideType === 'subslide')) {\n        slideType = 'slide';\n      }\n      let extent = this._initExtent(index, slideType);\n      let s0: NotebookPresenter.IExtent | null = stacks.slides[0] || null;\n      let ss0: NotebookPresenter.IExtent | null = stacks.subslides[0] || null;\n      let f0: NotebookPresenter.IExtent | null = stacks.fragments[0] || null;\n      let n0: NotebookPresenter.IExtent | null = stacks.nulls[0] || null;\n      let a0 = n0 || f0 || ss0 || s0;\n      switch (slideType) {\n        case 'skip':\n          continue;\n        case null:\n          if (n0) {\n            for (let n of stacks.nulls) {\n              n.visible.unshift(index);\n            }\n            if (!f0) {\n              let a = ss0 || s0;\n              if (a) {\n                a.visible.unshift(index);\n              }\n            }\n            n0.forward = n0.down = index;\n            extent.back = extent.up = n0.index;\n          } else if (f0) {\n            f0.visible.unshift(index);\n            f0.forward = f0.down = index;\n            extent.back = extent.up = f0.index;\n          } else if (ss0) {\n            ss0.visible.unshift(index);\n            ss0.forward = ss0.down = index;\n            extent.back = extent.up = ss0.index;\n          } else if (s0) {\n            s0.visible.unshift(index);\n            s0.forward = s0.down = index;\n            extent.back = extent.up = s0.index;\n          }\n          for (let n of stacks.onScreen) {\n            n.onScreen.unshift(index);\n          }\n          stacks.onScreen.unshift(extent);\n          stacks.nulls.unshift(extent);\n          extent.onScreen.unshift(\n            ...(a0?.onScreen || /* istanbul ignore next */ JSONExt.emptyArray)\n          );\n          extent.visible.unshift(\n            ...(a0?.visible || /* istanbul ignore next */ JSONExt.emptyArray)\n          );\n          break;\n        case 'slide':\n          if (stacks.subslides.length && s0) {\n            // this is not strictly accurate, needs state for `y` in previous subslide stack\n            extent.back = s0.index;\n            for (let s of [...stacks.subslides, s0]) {\n              let lastOnScreen = this._lastOnScreenOf(s.index, extents);\n              if (lastOnScreen) {\n                lastOnScreen.forward = index;\n              }\n            }\n          } else if (n0) {\n            n0.forward = index;\n            extent.back = n0.index;\n          } else if (f0) {\n            f0.forward = index;\n            extent.back = f0.index;\n          } else if (s0) {\n            let lastOnScreen = this._lastOnScreenOf(s0.index, extents);\n            if (lastOnScreen) {\n              lastOnScreen.forward = index;\n              extent.back = lastOnScreen.index;\n            }\n          }\n          stacks.subslides = [];\n          stacks.nulls = [];\n          stacks.fragments = [];\n          stacks.onScreen = [extent];\n          stacks.slides.unshift(extent);\n          extent.onScreen.unshift(index);\n          extent.visible.unshift(index);\n          break;\n        case 'subslide':\n          if (n0) {\n            n0.down = index;\n            extent.up = n0.index;\n          } else if (f0) {\n            f0.down = index;\n            extent.up = f0.index;\n          } else if (s0) {\n            let lastOnScreen = this._lastOnScreenOf(s0.index, extents);\n            if (lastOnScreen) {\n              lastOnScreen.down = index;\n              extent.up = lastOnScreen.index;\n            }\n            extent.back = s0.back;\n          }\n          stacks.fragments = [];\n          stacks.nulls = [];\n          stacks.onScreen = [extent];\n          stacks.subslides.unshift(extent);\n          extent.onScreen.unshift(index);\n          extent.visible.unshift(index);\n          break;\n        case 'fragment':\n          for (let n of stacks.onScreen) {\n            n.onScreen.unshift(index);\n          }\n          stacks.onScreen.unshift(extent);\n          if (n0) {\n            n0.down = n0.forward = index;\n            extent.up = extent.back = n0.index;\n          } else if (f0) {\n            f0.down = f0.forward = index;\n            extent.up = extent.back = f0.index;\n          } else if (ss0) {\n            ss0.down = ss0.forward = index;\n            extent.up = extent.back = ss0.index;\n          } else if (s0) {\n            s0.down = s0.forward = index;\n            extent.up = extent.back = s0.index;\n          }\n          stacks.nulls = [];\n          stacks.onScreen.unshift(extent);\n          extent.onScreen.unshift(...(a0?.onScreen || JSONExt.emptyArray));\n          extent.visible.unshift(index, ...(a0?.visible || JSONExt.emptyArray));\n          stacks.fragments.unshift(extent);\n          break;\n        case 'notes':\n          if (a0) {\n            a0.notes.unshift(index);\n          }\n          break;\n      }\n      extents.set(index, extent);\n    }\n\n    this._extents.set(notebookModel, extents);\n\n    return extents;\n  }\n}\n\nexport namespace NotebookPresenter {\n  export interface IOptions {\n    manager: IDeckManager;\n    commands: CommandRegistry;\n    notebookTools: INotebookTools;\n  }\n  export type TStackType = 'nulls' | 'fragments' | 'slides' | 'subslides' | 'onScreen';\n  export interface IExtent {\n    slideType: TSlideType;\n    parent: IExtent | null;\n    index: number;\n    up: number | null;\n    down: number | null;\n    forward: number | null;\n    back: number | null;\n    onScreen: number[];\n    visible: number[];\n    notes: number[];\n  }\n  export type TExtentMap = Map<number, IExtent>;\n  /** a map of active slide to active layers */\n  export type TLayerMap = Map<number, number[]>;\n  export type TExtentIndexMap = Map<TSlideType, number[]>;\n}\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { IFontManager } from '@deathbeds/jupyterlab-fonts';\nimport {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin,\n  ILabShell,\n  ILayoutRestorer,\n} from '@jupyterlab/application';\nimport { ICommandPalette } from '@jupyterlab/apputils';\nimport { INotebookTools } from '@jupyterlab/notebook';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { IStatusBar, StatusBar } from '@jupyterlab/statusbar';\nimport { ITranslator, nullTranslator } from '@jupyterlab/translation';\n\nimport { DeckManager } from './manager';\nimport { SimpleMarkdownPresenter } from './markdown/presenter';\nimport { NotebookDeckExtension } from './notebook/extension';\nimport { NotebookPresenter } from './notebook/presenter';\nimport { NS, IDeckManager, CommandIds, CATEGORY, PLUGIN_ID } from './tokens';\n\nimport '../style/index.css';\n\nconst plugin: JupyterFrontEndPlugin<IDeckManager> = {\n  id: `${NS}:plugin`,\n  requires: [ITranslator, ILabShell, ISettingRegistry, ILayoutRestorer, IFontManager],\n  optional: [ICommandPalette, IStatusBar],\n  provides: IDeckManager,\n  autoStart: true,\n  activate: (\n    app: JupyterFrontEnd,\n    translator: ITranslator,\n    shell: ILabShell,\n    settings: ISettingRegistry,\n    restorer: ILayoutRestorer,\n    fonts: IFontManager,\n    palette?: ICommandPalette,\n    statusbar?: IStatusBar\n  ) => {\n    const { commands } = app;\n\n    const theStatusBar =\n      statusbar instanceof StatusBar ? statusbar : /* istanbul ignore next */ null;\n\n    const manager = new DeckManager({\n      commands,\n      shell,\n      translator: (translator || /* istanbul ignore next */ nullTranslator).load(NS),\n      statusbar: theStatusBar,\n      fonts,\n      settings: settings.load(PLUGIN_ID),\n      appStarted: Promise.all([app.started, restorer.restored]).then(() => void 0),\n    });\n\n    const { __ } = manager;\n\n    let category = __(CATEGORY);\n\n    if (palette) {\n      palette.addItem({ command: CommandIds.start, category });\n      palette.addItem({ command: CommandIds.stop, category });\n      palette.addItem({ command: CommandIds.showLayover, category });\n      palette.addItem({ command: CommandIds.hideLayover, category });\n    }\n\n    return manager;\n  },\n};\n\nconst notebookPlugin: JupyterFrontEndPlugin<void> = {\n  id: `${NS}:notebooks`,\n  requires: [INotebookTools, IDeckManager],\n  autoStart: true,\n  activate: (\n    app: JupyterFrontEnd,\n    notebookTools: INotebookTools,\n    decks: IDeckManager\n  ) => {\n    const { commands } = app;\n    const presenter = new NotebookPresenter({\n      manager: decks,\n      notebookTools,\n      commands,\n    });\n    decks.addPresenter(presenter);\n\n    app.docRegistry.addWidgetExtension(\n      'Notebook',\n      new NotebookDeckExtension({ commands, presenter })\n    );\n  },\n};\n\nconst simpleMarkdownPlugin: JupyterFrontEndPlugin<void> = {\n  id: `${NS}:simple-markdown`,\n  requires: [IDeckManager],\n  autoStart: true,\n  activate: (app: JupyterFrontEnd, decks: IDeckManager) => {\n    const { commands } = app;\n    const presenter = new SimpleMarkdownPresenter({\n      manager: decks,\n      commands,\n    });\n    decks.addPresenter(presenter);\n  },\n};\n\nexport default [plugin, notebookPlugin, simpleMarkdownPlugin];\n","import {\n  PACKAGE_NAME as FONTS_PACKAGE_NAME,\n  IFontManager,\n  IStyles,\n} from '@deathbeds/jupyterlab-fonts';\nimport type { GlobalStyles } from '@deathbeds/jupyterlab-fonts/lib/_schema';\nimport { Token } from '@lumino/coreutils';\nimport { ISignal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\n\nimport * as _PACKAGE from '../package.json';\n\nimport type { Layover } from './tools/layover';\n\nexport const PACKAGE = _PACKAGE;\n\nexport const NS = PACKAGE.name;\nexport const VERSION = PACKAGE.version;\nexport const PLUGIN_ID = `${NS}:plugin`;\nexport const CATEGORY = 'Decks';\n/** The cell/notebook metadata. */\n\nexport interface IDeckManager {\n  start(force: boolean): Promise<void>;\n  stop(): Promise<void>;\n  __: (msgid: string, ...args: string[]) => string;\n  go(direction: TDirection, alternate?: TDirection): void;\n  canGo(): Partial<TCanGoDirection>;\n  cacheStyle(...nodes: HTMLElement[]): void;\n  uncacheStyle(...nodes: HTMLElement[]): void;\n  addPresenter(presenter: IPresenter<any>): void;\n  addStylePreset(preset: IStylePreset): void;\n  stylePresets: IStylePreset[];\n  activeWidget: Widget | null;\n  activeWidgetStack: Widget[];\n  activateWidget(widget: Widget): void;\n  layover: Layover | null;\n  // signals\n  activeChanged: ISignal<IDeckManager, void>;\n  stylePresetsChanged: ISignal<IDeckManager, void>;\n  // re-hosted\n  fonts: IFontManager;\n  showLayover(): void;\n  hideLayover(): void;\n  layoverChanged: ISignal<IDeckManager, void>;\n  activePresenter: IPresenter<any> | null;\n  setSlideType(slideType: TSlideType): void;\n  getSlideType(): TSlideType;\n  getLayerScope(): TLayerScope | null;\n  setLayerScope(layerScope: TLayerScope | null): void;\n  getPartStyles(): GlobalStyles | null;\n  setPartStyles(styles: GlobalStyles | null): void;\n}\n\nexport const IDeckManager = new Token<IDeckManager>(PLUGIN_ID);\n\nexport interface IPresenterCapbilities {\n  layout?: boolean;\n  slideType?: boolean;\n  layerScope?: boolean;\n  stylePart?: boolean;\n  subslides?: boolean;\n}\n\nexport const INCAPABLE: IPresenterCapbilities = Object.freeze({\n  layout: false,\n  slideType: false,\n  layerScope: false,\n  stylePart: false,\n  subslides: false,\n});\n\nexport interface IPresenterOptional<T> {\n  setSlideType(widget: T, slideType: TSlideType): void;\n  getSlideType(widget: T): TSlideType;\n  setLayerScope(widget: T, layerType: TLayerScope | null): void;\n  getLayerScope(widget: T): TLayerScope | null;\n  getPartStyles(widget: T): GlobalStyles | null;\n  setPartStyles(widget: T, styles: GlobalStyles | null): void;\n}\n\nexport interface IPresenter<T extends Widget> extends Partial<IPresenterOptional<T>> {\n  id: string;\n  rank: number;\n  capabilities: IPresenterCapbilities;\n  accepts(widget: Widget): T | null;\n  stop(widget: Widget): Promise<void>;\n  start(widget: T): Promise<void>;\n  go(widget: T, direction: TDirection, alternate?: TDirection): Promise<void>;\n  canGo(widget: T): Partial<TCanGoDirection>;\n  style(widget: T): void;\n  activeChanged: ISignal<IPresenter<T>, void>;\n}\n\nexport namespace DATA {\n  export const deckMode = 'jpDeckMode';\n  export const presenting = 'presenting';\n  export const layoutMode = 'jpDeckLayoutMode';\n  export const designing = 'designing';\n}\n\nexport namespace CSS {\n  // lab\n  export const disabled = 'jp-mod-disabled';\n  export const icon = 'jp-icon3';\n  export const iconBrand = 'jp-icon-brand0';\n  export const iconContrast = 'jp-icon-contrast0';\n  export const iconWarn = 'jp-icon-warn0';\n  export const selectWrapper = 'jp-select-wrapper';\n  export const styled = 'jp-mod-styled';\n  export const accept = 'jp-mod-accept';\n  export const active = 'jp-mod-active';\n  export const mainContent = 'jp-main-content-panel';\n  export const renderedMarkdown = 'jp-RenderedMarkdown';\n  export const markdownViewer = 'jp-MarkdownViewer';\n  // deck\n  export const deck = 'jp-Deck';\n  export const presenting = `[data-jp-deck-mode='${DATA.presenting}']`;\n  // remote\n  export const remote = 'jp-Deck-Remote';\n  export const directions = 'jp-Deck-Remote-directions';\n  export const stop = 'jp-deck-mod-stop';\n  export const widgetStack = 'jp-Deck-Remote-WidgetStack';\n  // notebook\n  export const direction = 'jp-deck-mod-direction';\n  export const onScreen = 'jp-deck-mod-onscreen';\n  export const visible = 'jp-deck-mod-visible';\n  export const layer = 'jp-deck-mod-layer';\n  // metadata\n  export const metaTool = 'jp-Deck-Metadata';\n  export const selectSplit = 'jp-Deck-SelectSplit';\n  export const toolLayer = 'jp-Deck-Tool-layer';\n  export const toolPreset = 'jp-Deck-Tool-preset';\n  export const apply = 'jp-deck-mod-apply';\n  // layover\n  export const layover = 'jp-Deck-Layover';\n  export const layoverPart = 'jp-Deck-LayoverPart';\n  export const layoverPartLabel = 'jp-Deck-LayoverLabel';\n  export const layoverHandle = 'jp-Deck-LayoverHandle';\n  export const dragging = 'jp-deck-mod-dragging';\n  export const layoverUnstyle = 'jp-Deck-LayoverUnstyle';\n  // design tools\n  export const designTools = 'jp-Deck-DesignTools';\n  export const selector = 'jp-Deck-DesignTools-Selector';\n  export const slider = 'jp-Deck-DesignTools-Slider';\n  export const slideType = 'jp-deck-mod-slidetype';\n  export const layerScope = 'jp-deck-mod-layerscope';\n  export const zoom = 'jp-deck-mod-zoom';\n  export const opacity = 'jp-deck-mod-opacity';\n  export const zIndex = 'jp-deck-mod-z-index';\n  // sheets\n  export const sheet = 'jp-Deck-Stylesheet';\n}\n\nexport namespace ID {\n  export const layerSelect = 'id-jp-decktools-select-layer';\n  export const presetSelect = 'id-jp-decktools-select-preset';\n}\n\nexport const EMOJI = '🃏';\n\nexport type TDirection = 'forward' | 'up' | 'back' | 'down';\n\nexport type TCanGoDirection = Record<TDirection, boolean>;\n\nexport const DIRECTION: Record<string, TDirection> = {\n  up: 'up',\n  down: 'down',\n  back: 'back',\n  forward: 'forward',\n};\n\nexport const DIRECTION_LABEL: Record<TDirection, string> = {\n  forward: 'Go to next slide/fragment in Deck',\n  back: 'Go to previous slide/fragment in Deck',\n  up: 'Go to slide, subslide, or fragment above in Deck',\n  down: 'Go to next fragment or subslide in Deck',\n};\n\nexport const DIRECTION_KEYS: Record<TDirection, string[]> = {\n  forward: ['ArrowRight'],\n  back: ['ArrowLeft'],\n  up: ['ArrowUp'],\n  down: ['ArrowDown'],\n};\n\nexport const COMPOUND_LABEL = new Map<[TDirection, TDirection], string>([\n  [[DIRECTION.down, DIRECTION.forward], 'Go to next fragment, subslide, or slide'],\n  [[DIRECTION.up, DIRECTION.back], 'Go to previous fragment, subslide, or slide'],\n]);\n\nexport const COMPOUND_KEYS = new Map<[TDirection, TDirection], string[]>([\n  [[DIRECTION.down, DIRECTION.forward], ['Space']],\n  [[DIRECTION.up, DIRECTION.back], ['Shift Space']],\n]);\n\nexport namespace CommandIds {\n  /* global */\n  export const toggle = 'deck:toggle';\n  export const start = 'deck:start';\n  export const stop = 'deck:stop';\n  /* nagivate */\n  export const go = 'deck:go';\n  /* directions */\n  export const forward = 'deck:forward';\n  export const back = 'deck:back';\n  export const down = 'deck:down';\n  export const up = 'deck:up';\n  /* layover */\n  export const showLayover = 'deck:show-layover';\n  export const hideLayover = 'deck:hide-layover';\n}\n\nexport namespace META {\n  // nbconvert\n  export const slideshow = 'slideshow';\n  export const slideType = 'slide_type';\n  // fonts\n  export const fonts = FONTS_PACKAGE_NAME;\n  export const nullSelector = '';\n  export const presentingCell = `body[data-jp-deck-mode='presenting'] &`;\n  // deck\n  export const deck = NS.split('/')[1];\n  export const layer = 'layer';\n}\n\n/**\n * mutually-exclusive `cells/{i}/metadata/slideshow` values supported by\n * nbconvert, notebook, and lab UI\n **/\nexport const SLIDE_TYPES = ['slide', 'subslide', null, 'fragment', 'notes', 'skip'];\nexport type TSlideType = typeof SLIDE_TYPES[number];\n\n/** The scope of extents that will have this layer */\n\nexport const LAYER_SCOPES = ['deck', 'stack', 'slide', 'fragment'];\nexport type TLayerScope = typeof LAYER_SCOPES[number];\n\nexport type TSelectLabels<T extends string> = Record<T, string>;\n\nexport const LAYER_TITLES: TSelectLabels<TLayerScope | '-'> = {\n  '-': 'Do not show this cell as a layer.',\n  deck: 'Show this layer on all future slides.',\n  stack: 'Show this layer until the next slide.',\n  slide: 'Show this layer until the next slider or subslide.',\n  fragment: 'Show this until the next fragment.',\n};\n\n/** Expected cell metadata in the `jupyterlab-deck` namespace */\nexport interface ICellDeckMetadata {\n  layer?: TLayerScope;\n}\n\nexport interface IStylePreset {\n  key: string;\n  scope: 'layer' | 'slide' | 'deck' | 'any';\n  label: string;\n  styles: IStyles;\n}\n\nexport interface IDeckSettings {\n  active?: boolean;\n  stylePresets?: {\n    [key: string]: Partial<IStylePreset>;\n  };\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};"],"names":["___CSS_LOADER_EXPORT___","push","module","id","i","DECK_STOP","ICONS","deckStart","LabIcon","name","svgstr","deckStop","goEnabled","caretUpEmptyThinIcon","goDisabled","transformStart","transformStop","slideshow","slide","subslide","null","fragment","skip","notes","layer","deck","stack","zoom","zIndex","opacity","DesignTools","VDomRenderer","constructor","options","super","Model","makeSlideTypeItem","slideType","currentSlideType","__","this","model","manager","slideTypeKey","icon","label","button","makeButton","setSlideType","key","className","makeLayerScopeItem","layerScope","currentLayerScope","layerScopeKey","setLayerScope","makeSlider","attr","styles","config","SLIDER_CONFIG","suffix","value","checkbox","replace","parseFloat","type","checked","onChange","onSliderChange","valueAttr","defaultValue","finalClassName","title","attrs","react","width","event","currentTarget","endsWith","setPartStyles","addClass","document","body","appendChild","node","dispose","removeChild","render","more","capabilities","showMore","layout","ellipsesIcon","items","caretLeftIcon","layover","hideLayover","showLayover","slideTypes","activeItem","item","layerScopes","stylePart","currentPartStyles","onClick","children","VDomModel","_showMore","_emit","stateChanged","emit","_manager","activeChanged","connect","_onActiveChanged","layoverChanged","disconnect","activePresenter","getSlideType","getLayerScope","getPartStyles","JSONExt","min","max","step","DeckRemote","canGo","directions","direction","Object","values","enabled","go","exit","stop","makeStack","up","back","forward","down","activeWidgetStack","length","widget","PathExt","activateWidget","_canGo","_activePresenter","DeckManager","_active","_activeChanged","Signal","_activeWidget","_presenters","_remote","_designTools","_statusBarWasEnabled","_styleCache","Map","_stylePresets","_stylePresetsChanged","_layoverChanged","_layover","_activeWidgetStack","msgid","args","_trans","start","async","force","_appStarted","wasActive","_shellActiveWidget","setTimeout","_shell","_settings","then","settings","set","_statusbar","isVisible","hide","presentationMode","dataset","each","_dockpanel","tabBars","bar","mode","window","addEventListener","_addDeckStylesLater","update","_onActiveWidgetChanged","presenter","_getPresenter","expandLeft","expandRight","collapseLeft","collapseRight","_addDeckStyles","show","removeEventListener","alternate","style","clearStyles","clear","setAttribute","fit","appStarted","_commands","commands","shell","statusbar","translator","_fonts","fonts","layoutModified","_addCommands","_addKeyBindings","changed","_onSettingsChanged","catch","console","warn","stylePresetsChanged","addPresenter","newPresenters","sort","_sortByRank","addStylePreset","preset","stylePresets","activeWidget","a","b","rank","localeCompare","accepts","addKeyBinding","command","keys","selector","Layover","activateById","addCommand","execute","entries","_dockPanel","includes","splice","indexOf","selectedWidgets","next","composite","active","keyPreset","scope","cacheStyle","nodes","get","getAttribute","uncacheStyle","delete","SimpleMarkdownPresenter","_previousActiveCellIndex","_activeSlide","_lastSlide","_stylesheets","_onHashChange","panel","url","URL","newURL","hash","_activateByAnchor","_addWindowListeners","MarkdownDocument","_removeStyle","activeSlide","content","ready","_updateSheet","index","lastSlide","hrCount","renderer","querySelectorAll","anchored","getElementById","slice","contains","child","tagName","sheet","createElement","textContent","isDisposed","removeClass","NotebookDeckExtension","_presenter","createNew","context","CommandToolbarButton","toolbar","insertItem","preparePanel","DisposableDelegate","NotebookMetaTools","NotebookTools","PanelLayout","_model","DeckCellEditor","_notebookTools","notebookTools","addWidget","onActiveCellChanged","activeCell","onActiveCellMetadataChanged","m","activeMeta","layerTool","presetTool","htmlFor","ID","tag","selectedPreset","onPresetSelect","presetOptions","applyPreset","onLayerChange","layerOptions","layerValue","layerTitle","change","_activeCell","target","newMeta","_activeMeta","_setDeckMetadata","_selectedPreset","meta","metadata","metaStyles","metaNull","presenting","forceStyle","activeNotebookPanel","stylist","_stylist","stylesheet","cell","emptyMap","freeze","NotebookPresenter","styleDeck","_extents","_layers","notebookModel","activeCellIndex","extents","_getExtents","activeExtent","_getCellDeckMetadata","fromExtent","fromExtentAlternate","_makeDeckTools","NotebookPanel","activeCellChanged","_onActiveCellChanged","ElementExt","notebook","_watchPanel","contentChanged","_onNotebookContentChanged","_forceStyle","oldMeta","_getCellStyles","_setCellStyles","oldSetFragment","setFragment","call","Promise","all","widgets","map","tool","addItem","section","cellCount","parent","layers","_getLayers","cells","layerIndex","offset","idx","activeLayers","onScreen","_toLayoutPart","visible","editorWidget","parts","getStyles","setStyles","_getSlideType","_initExtent","extent","_lastOnScreenOf","e","_numSort","cachedLayers","extentLayers","extentTypes","_anySlide","_anyFragment","etype","extentIndexes","j","prev","end","toArray","extentIndex","cachedExtents","size","stacks","slides","subslides","fragments","nulls","s0","ss0","f0","n0","a0","n","unshift","s","lastOnScreen","NS","requires","ITranslator","ILabShell","ISettingRegistry","ILayoutRestorer","IFontManager","optional","ICommandPalette","IStatusBar","provides","autoStart","activate","app","restorer","palette","theStatusBar","StatusBar","nullTranslator","load","started","restored","category","INotebookTools","decks","docRegistry","addWidgetExtension","PACKAGE","VERSION","version","PLUGIN_ID","CATEGORY","IDeckManager","Token","INCAPABLE","DATA","CSS","deckMode","layoutMode","designing","disabled","iconBrand","iconContrast","iconWarn","selectWrapper","styled","accept","mainContent","renderedMarkdown","markdownViewer","remote","widgetStack","metaTool","selectSplit","toolLayer","toolPreset","apply","layoverPart","layoverPartLabel","layoverHandle","dragging","layoverUnstyle","designTools","slider","layerSelect","presetSelect","EMOJI","DIRECTION","DIRECTION_LABEL","DIRECTION_KEYS","COMPOUND_LABEL","COMPOUND_KEYS","CommandIds","META","toggle","nullSelector","presentingCell","split","SLIDE_TYPES","LAYER_SCOPES","LAYER_TITLES","exports","cssWithMappingToString","list","toString","concat","join","modules","mediaQuery","dedupe","alreadyImportedModules","_i","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_s","_e","_arr","_n","_d","done","err","_iterableToArrayLimit","o","minLen","prototype","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","memo","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","attributes","nonce","forEach","insert","Error","textStore","replaceText","replacement","filter","Boolean","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","styleIndex","bind","parentNode","removeStyleElement","newObj","atob","lastIdentifiers","newList","newLastIdentifiers","_index"],"sourceRoot":""}